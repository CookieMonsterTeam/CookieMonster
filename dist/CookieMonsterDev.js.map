{"version":3,"sources":["webpack:///./node_modules/@eastdesire/jscolor/jscolor.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/draw/drawLoop.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/data/modInfo.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/saveDataFunctions/saveFramework.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/menuFunctions/toggleHeader.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/menuSections/info/createFrameworkInfoMenuSection.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/menuSections/info/addInfoMenuSection.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/menuSections/options/addOptionsMenuSection.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/menuSections/addMenu.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/init.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/saveDataFunctions/createSaveDataObject.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/saveDataFunctions/loadMod.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/data/headers.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/data/settings.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/logic/logicLoop.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/load.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/save.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/frameworkDataObject/cookieMonsterFramework.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/initFunctions/initModFramework.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/initFunctions/registerMod.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/menuFunctions/createInfoListing.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/menuFunctions/createModMenuSection.js","webpack:///./node_modules/@cookiemonsterteam/cookiemonsterframework/src/index.js","webpack:///./src/Data/Moddata.ts","webpack:///./src/Config/Toggles/ToggleWrinklerButtons.js","webpack:///./src/Data/Scales.ts","webpack:///./src/Main/VariablesAndData.js","webpack:///./src/Disp/BeautifyAndFormatting/Beautify.js","webpack:///./src/Cache/VariablesAndData.js","webpack:///./src/Sim/VariablesAndData.js","webpack:///./src/Sim/ReplacedGameFunctions/SimAuraMult.js","webpack:///./src/Sim/ReplacedGameFunctions/SimGetSellMultiplier.js","webpack:///./src/Sim/ReplacedGameFunctions/SimEff.js","webpack:///./src/Sim/ReplacedGameFunctions/SimHas.js","webpack:///./src/Sim/ReplacedGameFunctions/SimHasGod.js","webpack:///./src/Sim/ReplacedGameFunctions/SimModifyBuidlingPrice.js","webpack:///./src/Sim/SimulationEvents/SellBuilding.js","webpack:///./src/Disp/VariablesAndData.js","webpack:///./src/Disp/BuildingsUpgrades/Buildings.js","webpack:///./src/Disp/BuildingsUpgrades/UpdateUpgradeSectionsHeight.js","webpack:///./src/Disp/BuildingsUpgrades/Upgrades.js","webpack:///./src/Disp/BeautifyAndFormatting/FormatTime.js","webpack:///./src/Disp/BeautifyAndFormatting/GetTimeColour.js","webpack:///./src/Disp/HelperFunctions/GetCPS.js","webpack:///./src/Disp/HelperFunctions/GetWrinkConfigBank.js","webpack:///./src/Disp/InfoBars/CreateDOMElements.js","webpack:///./src/Disp/InfoBars/BottomBar.js","webpack:///./src/Disp/HelperFunctions/UpdateBackground.js","webpack:///./src/Config/SpecificToggles.js","webpack:///./src/Disp/InfoBars/TimerBar.js","webpack:///./src/Disp/MenuSections/Refreshmenu.js","webpack:///./src/Cache/Dragon/CacheDragonAuras.js","webpack:///./src/Sim/InitializeData/InitAchievement.js","webpack:///./src/Sim/ReplacedGameFunctions/SimGetTieredCpsMult.js","webpack:///./src/Sim/InitializeData/InitialBuildingData.js","webpack:///./src/Sim/InitializeData/InitUpgrade.js","webpack:///./src/Sim/SimulationData/CopyData.js","webpack:///./src/Disp/Tooltips/CreateTooltip.js","webpack:///./src/Cache/PP/ColourOfPP.js","webpack:///./src/Cache/CPS/GetCPSBuffMult.js","webpack:///./src/Sim/ReplacedGameFunctions/SimGetHeavenlyMultiplier.js","webpack:///./src/Sim/SimulationData/SimWin.js","webpack:///./src/Sim/Calculations/CalculateGains.js","webpack:///./src/Data/Gamedata.ts","webpack:///./src/Sim/ReplacedGameFunctions/SimHasAchiev.js","webpack:///./src/Sim/Calculations/CheckOtherAchiev.js","webpack:///./src/Sim/SimulationEvents/BuyBuildingBonusIncome.js","webpack:///./src/Disp/Tooltips/TypesOfTooltips/Building.js","webpack:///./src/Disp/Tooltips/TypesOfTooltips/GardenPlots.js","webpack:///./src/Disp/HelperFunctions/CalculateGrimoireRefillTime.js","webpack:///./src/Disp/Tooltips/TypesOfTooltips/Grimoire.js","webpack:///./src/Disp/Tooltips/TypesOfTooltips/HarvestAll.js","webpack:///./src/Disp/Tooltips/TypesOfTooltips/PantheonGods.js","webpack:///./src/Disp/HelperFunctions/GetLumpColour.js","webpack:///./src/Disp/Tooltips/TypesOfTooltips/SugarLump.js","webpack:///./src/Disp/Tooltips/TypesOfTooltips/Upgrade.js","webpack:///./src/Config/Toggles/ToggleToolWarnPos.js","webpack:///./src/Disp/Tooltips/TypesOfTooltips/Warnings.js","webpack:///./src/Disp/Tooltips/TypesOfTooltips/WrinklerButton.js","webpack:///./src/Disp/Tooltips/UpdateTooltips.js","webpack:///./src/Disp/Tooltips/WrinklerTooltips.js","webpack:///./src/Disp/DrawHook.js","webpack:///./src/Main/ClickHook.js","webpack:///./src/Cache/CPS/AverageQueue.js","webpack:///./src/Cache/CPS/CPS.js","webpack:///./src/Sim/SimulationEvents/BuyBuilding.js","webpack:///./src/Cache/PP/Building.js","webpack:///./src/Cache/PP/Upgrade.js","webpack:///./src/Cache/PP/PP.js","webpack:///./src/Sim/SimulationEvents/BuyUpgrades.js","webpack:///./src/Cache/PriceAndIncome/PriceAndIncome.js","webpack:///./src/Cache/Stats/ChainCookies.js","webpack:///./src/Cache/Stats/HeavenlyChips.js","webpack:///./src/Disp/MenuSections/Statistics/CreateMissingUpgrades.js","webpack:///./src/Cache/Stats/MissingUpgrades.js","webpack:///./src/Cache/Stats/Reindeer.js","webpack:///./src/Cache/Stats/Stats.js","webpack:///./src/Cache/TillNextAchievement/IndividualAmountTillNextAchievement.js","webpack:///./src/Cache/TillNextAchievement/AllAmountTillNextAchievement.js","webpack:///./src/Cache/Wrinklers/Wrinklers.js","webpack:///./src/Cache/CacheInit.js","webpack:///./src/Disp/BuildingsUpgrades/UpgradeBar.js","webpack:///./src/Disp/Initialization/CreateSectionHideButtons.js","webpack:///./src/Disp/HelperFunctions/PopWrinklers.js","webpack:///./src/Disp/Tooltips/Tooltip.js","webpack:///./src/Disp/Initialization/CreateWrinklerButton.js","webpack:///./src/Disp/Initialization/CssArea.js","webpack:///./src/Disp/Initialization/UpdateBuildingUpgradeStyle.js","webpack:///./src/Disp/Initialization/FlashScreen.js","webpack:///./src/Disp/TabTitle/FavIcon.js","webpack:///./src/Sim/InitializeData/InitData.js","webpack:///./src/Main/ReplaceGameElements/TooltipGrimoire.js","webpack:///./src/Main/ReplaceGameElements/NativeGrimoire.js","webpack:///./src/Main/ReplaceGameElements/Tooltips.js","webpack:///./src/Cache/Dragon/Dragon.js","webpack:///./src/Sim/SimulationEvents/AuraChange.js","webpack:///./src/Disp/Dragon/Dragon.js","webpack:///./src/Sim/SimulationEvents/ResetAscension.js","webpack:///./src/Config/CheckNotificationPermissions.js","webpack:///./src/Config/Toggles/ToggleBotBar.js","webpack:///./src/Config/Toggles/ToggleDetailedTime.js","webpack:///./src/Config/Toggles/ToggleGCTimer.js","webpack:///./src/Config/Toggles/ToggleSectionHideButtons.js","webpack:///./src/Config/Toggles/ToggleUpgradeBarAndColour.js","webpack:///./src/Config/Toggles/ToggleUpgradeBarFixedPos.js","webpack:///./src/Disp/HelperFunctions/RefreshScale.js","webpack:///./src/Data/SettingClasses/BaseSetting.ts","webpack:///./src/Data/SettingClasses/SettingColours.ts","webpack:///./src/Data/SettingClasses/SettingInputNumber.ts","webpack:///./src/Data/SettingClasses/SettingStandard.ts","webpack:///./src/Data/SettingClasses/SettingVolume.ts","webpack:///./src/Data/settings.js","webpack:///./src/Config/ToggleSetting.js","webpack:///./src/Disp/MenuSections/Statistics/CreateDOMElements.js","webpack:///./src/Disp/MenuSections/Statistics/CreateStatsSections.js","webpack:///./src/Disp/MenuSections/Statistics/CreateMissingAchievements.js","webpack:///./src/Disp/MenuSections/Statistics/AddStatsPage.js","webpack:///./src/Data/Sectionheaders.ts","webpack:///./src/Disp/MenuSections/Settings/CreateHeader.js","webpack:///./src/Config/Toggles/ToggleFavourites.js","webpack:///./src/Disp/HelperFunctions/UpdateColours.js","webpack:///./src/InitSaveLoad/Variables.js","webpack:///./src/Disp/Notifications/Flash.js","webpack:///./src/Disp/Notifications/Sound.js","webpack:///./src/Disp/MenuSections/Prompt.js","webpack:///./src/Disp/MenuSections/Settings/CreateOption.js","webpack:///./src/Disp/MenuSections/Settings/SettingsPage.js","webpack:///./src/Disp/MenuSections/AddMenus.js","webpack:///./src/Disp/TabTitle/TabTitle.js","webpack:///./src/Disp/Tooltips/AscendButton.js","webpack:///./src/Disp/Tooltips/PositionLocation.js","webpack:///./src/Main/ReplaceGameElements/TooltipUpgrades.js","webpack:///./src/Main/ReplaceGameFunctions/FixMouse.js","webpack:///./src/Main/ReplaceGameFunctions/ReplaceNative.js","webpack:///./src/Main/WrinklerArea/AddDetectArea.js","webpack:///./src/Disp/Buildings/ToggleBuildingLock.js","webpack:///./src/Disp/Buildings/CreateBuildingLockButtons.js","webpack:///./src/Disp/MenuSections/createMenuInfo.js","webpack:///./src/Main/Initialization.js","webpack:///./src/Cache/CPS/CurrWrinklerCPS.js","webpack:///./src/Cache/CacheLoop.js","webpack:///./src/Sim/Calculations/NoGoldenSwitchCalc.js","webpack:///./src/Cache/CPS/NoGoldSwitchCPS.js","webpack:///./src/Sim/SimulationEvents/SellBuildingForChoEgg.js","webpack:///./src/Cache/CPS/SellChoEgg.js","webpack:///./src/Sim/SimulationEvents/GodChange.js","webpack:///./src/Cache/PantheonGods/CacheGods.js","webpack:///./src/Disp/HelperFunctions/UpdateAscendState.js","webpack:///./src/Main/CheckStates/Garden.js","webpack:///./src/Disp/GoldenCookieTimers/GoldenCookieTimers.js","webpack:///./src/Disp/Notifications/Notification.js","webpack:///./src/Main/CheckStates/GoldenCookie.js","webpack:///./src/Main/CheckStates/Grimoire.js","webpack:///./src/Main/CheckStates/Season.js","webpack:///./src/Main/CheckStates/Ticker.js","webpack:///./src/Main/CheckStates/Wrinkler.js","webpack:///./src/Main/LoopHook.js","webpack:///./src/InitSaveLoad/init.js","webpack:///./src/Data/headers.js","webpack:///./src/InitSaveLoad/load.js","webpack:///./src/InitSaveLoad/save.js","webpack:///./src/CookieMonster.js"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA,KAAK,KAA0B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,oEAAoE;;AAErE;;;AAGA;;;AAGA,4BAA4B;;AAE5B;;;AAGA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4EAA4E,GAAG,KAAK;;AAEpF,iBAAiB,iBAAiB;;AAElC;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,KAAK,cAAc;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;AACA,qDAAqD,6CAA6C;AAClG,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,EAAE;;;AAGF;AACA;AACA;;AAEA;AACA,sCAAsC;AACtC,sBAAsB,kBAAkB;AACxC,IAAI;AACJ;AACA;AACA,GAAG;;AAEH;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;;;AAGA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;AACA,4FAA4F;AAC5F;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;AACA,4FAA4F;AAC5F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,IAAI;AACJ,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,EAAE;;;AAGF,0BAA0B;;;AAG1B;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,kBAAkB,gDAAgD;AAClE;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA,yBAAyB,oBAAoB;AAC7C;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;;AAEA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;;AAEA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;;AAEA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA;;AAEA,kBAAkB,qBAAqB;AACvC;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;;AAEA;AACA;AACA;;AAEA,EAAE;;;AAGF;AACA,qBAAqB,+BAA+B;AACpD,EAAE;;;AAGF;AACA,qBAAqB,8BAA8B;AACnD,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,UAAU;AACV,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mCAAmC,IAAI;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;;AAEA,kCAAkC;AAClC;AACA,4BAA4B,EAAE,UAAU,EAAE;AAC1C;AACA,IAAI;AACJ,GAAG,iCAAiC;AACpC;AACA;;AAEA;;AAEA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qCAAqC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;;AAEA;AACA;AACA,aAAa,+BAA+B;AAC5C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;;AAEA;AACA,UAAU;AACV;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,uDAAuD;AACvD,eAAe;AACf,GAAG;AACH,iDAAiD;AACjD,yBAAyB;AACzB;;AAEA,qDAAqD;AACrD,6BAA6B;AAC7B;AACA,oCAAoC;AACpC;AACA;AACA,oBAAoB,KAAK,MAAM;AAC/B,oBAAoB,KAAK,KAAK;AAC9B,oBAAoB,KAAK,MAAM;AAC/B,oBAAoB,KAAK,KAAK;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA,wDAAwD;;AAExD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,wBAAwB;AACxB;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,yBAAyB;AACzB,yBAAyB;AACzB;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;;;AAGF;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,EAAE;;;AAGF;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;;AAEA,4DAA4D;AAC5D;AACA;AACA;AACA,GAAG,uCAAuC;AAC1C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA,wBAAwB;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qDAAqD;AACrD,qDAAqD;AACrD;AACA,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA,qDAAqD;AACrD,qDAAqD;AACrD;AACA,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB;AACpB,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB,yBAAyB;AACzB,yBAAyB;AACzB,4BAA4B;AAC5B,2BAA2B;AAC3B,gCAAgC;AAChC,gCAAgC;AAChC,kCAAkC;AAClC,gCAAgC;AAChC,wBAAwB;AACxB,0BAA0B;AAC1B,uBAAuB;AACvB,mBAAmB;AACnB,wBAAwB;AACxB,yBAAyB;;AAEzB;AACA;AACA,mBAAmB;AACnB,oBAAoB;AACpB,oBAAoB;AACpB,6BAA6B;AAC7B,2BAA2B;AAC3B,4BAA4B;AAC5B,0BAA0B;AAC1B,0BAA0B;AAC1B,oBAAoB;AACpB,wBAAwB;AACxB,iCAAiC;AACjC,0BAA0B;AAC1B,0BAA0B;AAC1B,kCAAkC;AAClC,uBAAuB;AACvB,qBAAqB;AACrB,2BAA2B;AAC3B;AACA,qCAAqC;AACrC,yBAAyB;AACzB,oBAAoB;AACpB,+CAA+C;AAC/C,uBAAuB;AACvB,2CAA2C;AAC3C,wBAAwB;AACxB,8BAA8B;AAC9B,kDAAkD;AAClD,qBAAqB;AACrB,uBAAuB;AACvB,uCAAuC;AACvC,yCAAyC;AACzC,8BAA8B;AAC9B,kDAAkD;AAClD,4BAA4B;AAC5B;AACA,6BAA6B;;AAE7B;AACA;AACA,gBAAgB;AAChB,kBAAkB;AAClB,gBAAgB;AAChB,kBAAkB;AAClB,kBAAkB;AAClB,kBAAkB;;;AAGlB;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,kBAAkB;AAClB,uBAAuB;AACvB;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,uBAAuB;AACvB;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA,4DAA4D;AAC5D,4DAA4D;AAC5D,4DAA4D;AAC5D,4DAA4D;AAC5D,4DAA4D;AAC5D,4DAA4D;AAC5D,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;;AAEA;AACA;AACA;AACA,4CAA4C;AAC5C,8CAA8C;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,yBAAyB,UAAU;AACnC,yBAAyB,UAAU;AACnC,yBAAyB,UAAU;AACnC,yBAAyB,UAAU;;AAEnC;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,yBAAyB,UAAU;AACnC,yBAAyB,UAAU;AACnC,yBAAyB,UAAU;AACnC,yBAAyB,UAAU;;AAEnC;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,kCAAkC;AAClC;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,0CAA0C;AAC1C,4CAA4C;AAC5C,0CAA0C;AAC1C,4CAA4C;AAC5C;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B;AAC5B;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2BAA2B,mCAAmC;AAC9D,sBAAsB,uCAAuC;AAC7D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,uBAAuB;AACvB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA,uCAAuC,QAAQ;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA,4CAA4C;AAC5C;AACA;;AAEA,IAAI,2BAA2B;AAC/B;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA,4CAA4C;AAC5C;;AAEA,IAAI,2BAA2B;AAC/B;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,eAAe;AACnD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,cAAc;AACd,kBAAkB,6BAA6B;AAC/C,mBAAmB,0DAA0D;AAC7E;AACA;;AAEA,kCAAkC;AAClC;AACA;AACA;;AAEA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW;AACX;;AAEA;;AAEA,mDAAmD;;AAEnD;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW;AACX;;AAEA;;AAEA,mDAAmD;;AAEnD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ,qCAAqC;AACrC,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC,QAAQ;AAC7C;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,yCAAyC;;AAEzC,GAAG,OAAO;AACV;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA,GAAG,uCAAuC;AAC1C;;AAEA,GAAG,OAAO;AACV;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C,GAAG,yCAAyC;AAC5C;;AAEA,GAAG,OAAO;AACV;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B,GAAG;AACH,uCAAuC;AACvC;;AAEA;AACA;AACA;;AAEA;AACA,+BAA+B;AAC/B,GAAG;AACH,uCAAuC;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,gCAAgC;;AAEhC,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B;AAC5B,6BAA6B,oEAAoE;AACjG,4BAA4B;;AAE5B,2BAA2B,6DAA6D;AACxF,4BAA4B;;;AAG5B;AACA,6BAA6B;;AAE7B;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,uDAAuD;AACvD;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;;AAGA,CAAC,IAAI;;;AAGL;AACA;AACA;;;AAGA;;AAEA;;AAEA,CAAC,EAAE;;;;;;;UCl8GH;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,gCAAgC,YAAY;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;;;;;;ACAA;AACA;AACA;AACe;;;ACHf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAAe,cAAc,EAAC;;;ACT9B;AACA;AACA;AACA;AACe;AACf;AACA;;AAEA;AACA;AACA;AACA,kCAAkC,QAAQ,IAAI;AAC9C;AACA;AACA;AACA;AACA,WAAW,QAAQ,GAAG,cAAc;AACpC;AACA,0DAA0D,2BAA2B;AACrF;AACA,GAAG;AACH;;;ACrB+D;;AAE/D;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,aAAa;AACf;;;ACtBgD;AACe;AAC/D;AACA;AACA,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;AAChB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,+BAA+B,OAAc;AAC7C;AACA;;AAEA;AACA;;;AC9C8E;AAC9E;AACA;AACA;AACA;AACe;AACf;AACA,oBAAoB,8BAA8B;;AAElD;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;;ACf+D;;AAE/D;AACA;AACA;AACe;AACf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;AAChB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;ACvC2D;AACQ;;AAEnE;AACA;AACA,WAAW,iBAAiB;AAC5B;AACe;AACf;AACA;;AAEA;AACA,IAAI,kBAAkB;AACtB,GAAG;AACH,IAAI,qBAAoB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;ACvBuC;AACM;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;;AAEA;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,4BAA4B,QAAQ;AACpC;;;ACvBA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACe;AACf;;AAEA;AACA;AACA;AACA,uDAAuD;AACvD,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;ACnC0D;AACd;;AAE5C;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACe;AACf;AACA,uDAAuD,oBAAoB;AAC3E;AACA;AACA;AACA;AACA,EAAE,aAAa;AACf;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AC1BA;AACA,iBAAiB;AACjB,mDAAe,OAAO,EAAC;;;ACFvB;AACA;AACA,oDAAe,QAAQ,EAAC;;;ACFxB;AACA;AACA;AACe;;;ACHoC;AACd;AACE;AACG;;AAE1C;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACe;AACf,EAAE,OAAO,gCAAgC,aAAQ,EAAE,YAAO,EAAE,SAAS;AACrE;;;ACZA;AACA;AACA;AACA,iCAAiC;AACjC,aAAa,OAAO;AACpB;AACe;AACf;AACA;;;ACR0B;AACA;AACA;;AAE1B;AACA;AACA,MAAM;AACN,MAAM;AACN,MAAM;AACN;AACA;AACA,GAAG;AACH,aAAa,0BAA0B,YAAY,cAAc,EAAE,EAAE;AACrE;;AAEA,iFAAe,sBAAsB,EAAC;;;ACf6C;;AAEnF;AACe;AACf;AACA,+CAA+C,0CAAsB;AACrE;AACA;;;ACPA;AACA;AACA;AACe;AACf,wDAAwD,aAAa,aAAa;AAClF;;;ACLA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA;AACA;;;ACV0C;;AAE1C;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA,wBAAwB,QAAQ;;AAEhC;AACA;AACA;AACA;;AAEA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;AAChB;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AC3CgE;AACV;AACY;AACM;AAChB;AACN;AACY;;AAEvD;AACP,kBAAkB;AAClB,aAAa;AACb;AACO;AACP,mBAAmB;AACnB,sBAAsB;AACtB,cAAc;AACd;AACO;;AAEA;AACP,SAAS;AACT,eAAe;AACf;;;ACtBA,8CAA8C;AAEvC,MAAM,YAAY,GAAG,OAAO,CAAC;AAC7B,MAAM,YAAY,GAAG,GAAG,CAAC;AAEhC,2EAA2E;AACpE,MAAM,cAAc,GAAG;;;;;EAK5B,CAAC;AAEH,gFAAgF;AACzE,MAAM,kBAAkB,GAAG;;;;;;;;;;;;;;CAcjC,CAAC;;;AC5BF;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;ACfA,iEAAiE;AAEjE,wDAAwD;AACjD,MAAM,MAAM,GAAa,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAE5E,uDAAuD;AAChD,MAAM,UAAU,GAAa;IAClC,EAAE;IACF,EAAE;IACF,GAAG;IACH,GAAG;IACH,IAAI;IACJ,OAAO;IACP,OAAO;IACP,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,OAAO;IACP,QAAQ;IACR,QAAQ;IACR,aAAa;IACb,SAAS;IACT,QAAQ;IACR,WAAW;IACX,SAAS;IACT,UAAU;IACV,QAAQ;IACR,UAAU;IACV,WAAW;IACX,WAAW;IACX,gBAAgB;CACjB,CAAC;AAEF,mEAAmE;AAC5D,MAAM,qBAAqB,GAAa;IAC7C,EAAE;IACF,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IACN,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;CACN,CAAC;;;AC5IK;AACA,4BAA4B;AAC5B;AACA,+BAA+B;AAC/B,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEP;AACA;AACO,wCAAwC;;AAE/C;AACA;AACO,wCAAwC;;;AC5B/C;;AAEiF;AACnB;;AAE9D;AACA;AACA,WAAW,OAAO;AAClB,YAAY,IAAI;AAChB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACe,SAAS,iBAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,wBAAwB;AACnC;AACA;AACA;AACA,iBAAiB,iBAAQ,gBAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,kCAAkC,0BAA0B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,aAAa,KAAK;AAC/D,wBAAwB,MAAM,wBAAwB;AACtD,SAAS,eAAe,iBAAQ,YAAY;AAC5C,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,iBAAiB,KAAK;AACnE,wBAAwB,UAAU,wBAAwB;AAC1D,SAAS,eAAe,iBAAQ,YAAY;AAC5C,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,4BAA4B,KAAK;AAC9E,wBAAwB,qBAAqB,wBAAwB;AACrE,SAAS,eAAe,iBAAQ,YAAY;AAC5C,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD;AACA;AACA;AACA;AACA,6EAA6E,IAAI;AACjF,eAAe,wBAAwB;AACvC;AACA;AACA;AACA;AACA;AACA,yEAAyE,IAAI,GAAG;AAChF,SAAS,wBAAwB;AACjC;;;ACpGA;;AAEO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEP;AACO;AACP;AACO;AACP;AACO;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEP;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvHA;;AAEO,oBAAoB;AACpB,qBAAqB;AACrB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnB6D;;AAEpE;AACA;AACA;AACe;AACf;AACA;AACA,qBAAqB,aAAa;AAClC,qBAAqB,cAAc;AACnC;AACA;AACA;AACA,qBAAqB,aAAa;AAClC,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;;;AClBwC;;AAExC;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACe;AACf;AACA,kBAAkB,WAAW;AAC7B;AACA;;;ACX8C;;AAE9C;AACA;AACA;AACe;AACf,aAAa,OAAO;AACpB;AACA;AACA,SAAS,OAAO;AAChB;;;ACVkD;;AAElD;AACA;AACA;AACe;AACf,aAAa,WAAW;AACxB;AACA;AACA;;;ACT4E;;AAE5E;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACe;AACf;AACA,QAAQ,0BAA0B;AAClC,MAAM,0BAA0B;AAChC;AACA,gBAAgB,+BAA+B;AAC/C,QAAQ,OAAO;AACf;AACA;AACA,QAAQ,OAAO;AACf;AACA;AACA,QAAQ,OAAO;AACf;AACA;AACA;AACA;AACA;;;ACxBiD;AACT;AACV;AACA;AACM;;AAEpC;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACe;AACf;AACA,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA,0BAA0B,MAAM;AAChC,mBAAmB,MAAM;AACzB,MAAM,gCAAgC;AACtC,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;;;ACjCiF;AACI;;AAErF;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA,QAAQ,sBAAsB;AAC9B;AACA,4DAA4D,oBAAoB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrCA;AACA;;AAEO;;AAEP;AACA;AACA;AACO;AACA;AACA;;AAEP;AACA;AACA;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,OAAO;AACjB,UAAU,OAAO;AACjB,UAAU,OAAO;AACjB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;;AAEP;AACA;AACA;AACA;AACO,4BAA4B;AAC5B,yBAAyB;;AAEhC;AACA;AACA;AACA;AACA;AACO,mCAAmC;;AAEnC;AACA,+BAA+B;;AAEtC;AACA;AACA;AACO,yBAAyB;AACzB,4BAA4B;AAC5B,kCAAkC;;AAEzC;AACA;AACA,wBAAwB,uCAAuC;AAC/D;AACO;AACA;;AAEP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACO,kBAAkB;;AAEzB;AACA;AACA;AACO,eAAe;;AAEf;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEP;AACA;AACA;AACO,2BAA2B;;;AC/II;AAC6B;AACV;AACkB;;AAE3E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA,IAAI,mBAAmB;AACvB,GAAG;AACH,aAAa,mBAAmB;AAChC;AACA,6BAA6B,aAAa;AAC1C,mCAAmC,cAAc;AACjD,oCAAoC,eAAe;;AAEnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,mBAAmB;AAC5C;AACA,qBAAqB,gBAAgB;AACrC;AACA,OAAO;AACP,oBAAoB,cAAc,CAAC;AACnC;AACA,KAAK;AACL;AACA,yBAAyB,mBAAmB;AAC5C,OAAO;AACP;AACA,GAAG;AACH,gBAAgB,aAAa;AAC7B;AACA,uBAAuB,KAAK;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,KAAK,eAAe,iBAAQ;AACnD,QAAQ,YAAY;AACpB;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,sBAAsB,aAAa;AACnC;AACA;AACA,aAAa,aAAa;AAC1B,gBAAgB,aAAa;AAC7B;AACA,KAAK;AACL;AACA;AACA,MAAM,uBAAuB,cAAc,uBAAuB;AAClE;AACA,UAAU,uBAAuB,YAAY,uBAAuB;AACpE;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM,uBAAuB,cAAc,uBAAuB;AAClE;AACA,UAAU,uBAAuB,YAAY,uBAAuB;AACpE;AACA,GAAG;AACH;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA,0BAA0B,2BAA2B;AACrD,yBAAyB,2BAA2B;AACpD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC,mDAAmD,MAAM,GAAG,MAAM;AAClE;AACA;;;AChJA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,KAAK;AACL,gCAAgC;AAChC,sCAAsC;AACtC,KAAK;AACL,gCAAgC;AAChC;AACA,yCAAyC;AACzC,OAAO;AACP,yCAAyC;AACzC;AACA,KAAK;AACL,gCAAgC;AAChC,uCAAuC;AACvC;AACA,GAAG;AACH;;;AC3B6D;AAWhC;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,iBAAiB,EAAE,qBAAqB;AAC7D,wBAAwB,EAAE,mCAAmC,aAAa;AAC1E,sBAAsB,EAAE,6BAA6B,aAAa,GAAG,aAAa;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,aAAa,GAAG,aAAa;AACrD,oBAAoB,EAAE;AACtB;AACA,UAAU,aAAa,oBAAoB,UAAU;AACrD,eAAe,aAAa,oBAAoB,WAAW;AAC3D,eAAe,aAAa,oBAAoB,YAAY;AAC5D,eAAe,aAAa,oBAAoB,YAAY;AAC5D,eAAe,aAAa,oBAAoB,SAAS;AACzD,eAAe,aAAa,oBAAoB,YAAY;AAC5D,eAAe,aAAa,oBAAoB,UAAU;AAC1D,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,iCAAiC;AAClD;AACA;AACA;AACA,WAAW,aAAa;AACxB,cAAc,aAAa;AAC3B;AACA;;AAEA;AACA;AACA;AACA,MAAM,uBAAuB,cAAc,uBAAuB;AAClE;AACA,UAAU,uBAAuB,YAAY,uBAAuB;AACpE;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,iCAAiC;AAClD,gBAAgB,EAAE;AAClB;AACA;;;AC9FA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,wBAAwB;AACtC,cAAc,wBAAwB;AACtC,cAAc,wBAAwB;AACtC,cAAc,wBAAwB;AACtC;AACA,GAAG;AACH;AACA;AACA;AACA,aAAa,wDAAwD;AACrE;AACA;AACA,gBAAgB,sDAAsD,IAAI;AAC1E;AACA,gBAAgB,wDAAwD,IAAI;AAC5E;AACA,gBAAgB,4DAA4D,IAAI;AAChF,uEAAuE;AACvE;AACA;AACA;;;ACvCyF;AACnD;;AAEtC;AACA;AACA,WAAW,OAAO;AAClB,cAAc,gBAAgB,EAAE,YAAY;AAC5C;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,WAAW;AACvB,GAAG;AACH,WAAW,UAAU;AACrB,4BAA4B,SAAS;AACrC,gCAAgC,YAAY;AAC5C,iBAAiB,YAAY;AAC7B;AACA,UAAU;AACV;;;AClBsC;;AAEtC;AACA;AACA,aAAa,OAAO;AACpB;AACe;AACf;AACA,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA,6BAA6B,wBAAwB,QAAQ,sBAAsB;AACnF;AACA,MAAM,wBAAwB;AAC9B;AACA;AACA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA,UAAU,wBAAwB,QAAQ,sBAAsB;AAChE,eAAe,sBAAsB;AACrC;AACA;AACA;AACA;AACA,KAAK,wBAAwB,GAAG,sBAAsB,QAAQ,sBAAsB;AACpF;AACA;;;ACpC0F;;AAE1F;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACe;AACf;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA,WAAW,wBAAwB;AACnC;AACA;AACA;;;ACfA;;AAE+E;;AAE/E;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO,GAAG,QAAQ;AAC/B;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,aAAa;AACxC;AACA;AACA;;AAEA;AACA,gBAAgB,GAAG;AACnB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,2DAA2D;AAC5F;;AAEA;AACA,qBAAqB,aAAa,GAAG,UAAU;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9FA;;AAE8F;AAC3B;AACV;AACI;AACM;;AAEpB;AACwB;AACyB;AAC/B;;AAEjE;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;AACA,kCAAkC,YAAY,CAAC,GAAG,YAAY,CAAC,GAAG,YAAY;AAC9E;AACA,6CAA6C,UAAU;AACvD;AACA,4CAA4C,UAAU;AACtD;AACA,yCAAyC,UAAU;;AAEnD;;AAEA;AACA,IAAI,0BAA0B;AAC9B,GAAG;AACH;;AAEA;AACA;AACA;AACO;AACP;AACA;AACA,IAAI,aAAa;AACjB;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA,QAAQ,gBAAgB;AACxB,OAAO;AACP,iBAAiB,gBAAgB;AACjC;AACA,iCAAiC,aAAa;AAC9C,kCAAkC,cAAc;AAChD,mCAAmC,eAAe;AAClD;AACA;AACA;AACA;AACA,wFAAwF,iBAAQ;AAChG;AACA;AACA;AACA;AACA,QAAQ,aAAa;AACrB;AACA;AACA,mBAAmB,UAAU;AAC7B,sBAAsB,iBAAQ;AAC9B;AACA,yBAAyB,aAAa;AACtC,qDAAqD,kBAAkB,OAAO,MAAM;AACpF;AACA;AACA,QAAQ,aAAa;AACrB;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;;AC5GA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;;;ACXA;;AAEwE;;AAExE;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,4DAA4D;AAC5F,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,EAAE,gBAAgB;AAClB;;AAEA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;AChEA;;AAEyE;AAQ5C;AACqB;;AAElD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,WAAW;AACxC,KAAK,qCAAqC,YAAY,EAAE;AACxD;AACA;;AAEA;AACA,uBAAuB,WAAW;AAClC,KAAK,kCAAkC,UAAU,EAAE;AACnD,KAAK,+BAA+B,YAAY,EAAE;AAClD;AACA;;AAEA;AACA,wBAAwB,WAAW;AACnC,KAAK,mCAAmC,UAAU,EAAE;AACpD,KAAK,gCAAgC,YAAY,EAAE;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAsB,WAAW;AACjC,WAAW,QAAQ,mBAAmB,MAAM;AAC5C;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B,wBAAwB,WAAW;AACnC,SAAS,oBAAoB,YAAY;AACzC,gDAAgD,aAAa;AAC7D;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA,YAAY;AACZ;AACA,qDAAqD;AACrD;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA,wCAAwC,wBAAwB;AAChE;AACA,QAAQ,kBAAkB;AAC1B,MAAM,kBAAkB;AACxB,MAAM,yBAAyB;AAC/B;AACA;AACA;;;AChNA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACZwE;;AAExE;AACA;AACA;AACe;AACf,EAAE,eAAe;AACjB,EAAE,gBAAgB;AAClB;;;ACRA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA;AACA;;;ACViD;AACnB;;AAE9B;AACA;AACA;AACe;AACf;AACA;AACA,0DAA0D,MAAM;AAChE;AACA,GAAG;AACH;AACA,QAAQ,MAAM;AACd;AACA;AACA;AACA;AACA,GAAG;AACH,oBAAoB,MAAM;AAC1B,oBAAoB,MAAM;AAC1B,gBAAgB,yBAAyB;AACzC;AACA,4BAA4B,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzC+D;AACV;AAC0B;AAC1B;AACJ;;AAEjD;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA;AACA;AACA,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB;AACA;AACA,kBAAkB,UAAU;AAC5B,YAAY,UAAU,8BAA8B,UAAU;AAC9D,OAAO;AACP;AACA,cAAc,mBAAmB;AACjC;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA,UAAU,MAAM;AAChB,YAAY,MAAM;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY,MAAM;AAClB,OAAO;AACP,UAAU,MAAM;AAChB,UAAU,MAAM;AAChB,UAAU,MAAM;;AAEhB,UAAU,MAAM;;AAEhB,cAAc,MAAM;;AAEpB,UAAU,MAAM;AAChB,uBAAuB,uCAAuC;AAC9D,cAAc,MAAM;AACpB;AACA;;AAEA,cAAc,mBAAmB;;AAEjC;AACA,UAAU,MAAM,qBAAqB,yBAAyB;AAC9D,UAAU,MAAM,gCAAgC,yBAAyB;AACzE,UAAU,MAAM,uBAAuB,wBAAwB;;AAE/D;AACA,kBAAkB,UAAU;AAC5B,YAAY,UAAU,+BAA+B,UAAU;AAC/D,OAAO;AACP;AACA,kBAAkB,WAAW;;AAE7B;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1GqD;AACM;AACV;;AAEjD;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B,cAAc,UAAU;AACxB,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,YAAY,MAAM;AAClB;AACA,yBAAyB,SAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxCmE;AACc;AACE;AACnB;AACQ;AAChB;AAe3B;;AAE7B;AACA;AACA;AACA;AACe;AACf;AACA,EAAE,gBAAgB;AAClB,EAAE,UAAU;AACZ,EAAE,oBAAoB;AACtB,EAAE,gBAAgB;AAClB,EAAE,WAAW;;AAEb;AACA;AACA;AACA,cAAc,UAAU;AACxB;AACA;AACA,MAAM,UAAU,MAAM,mBAAmB;AACzC,YAAY,UAAU;AACtB,MAAM,0BAA0B,IAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,OAAO;AACf,QAAQ,OAAO;AACf,QAAQ,OAAO;AACf;AACA;AACA;AACA;AACA,IAAI,UAAU;AACd,GAAG;;AAEH;AACA;AACA;AACA,cAAc,WAAW;AACzB;AACA,MAAM,WAAW,MAAM,WAAW;AAClC,YAAY,WAAW;AACvB;AACA;AACA,IAAI,WAAW;AACf,GAAG;;AAEH;AACA;AACA;AACA,cAAc,eAAe;AAC7B;AACA,MAAM,eAAe,MAAM,eAAe;AAC1C,YAAY,eAAe;AAC3B;AACA;AACA,IAAI,eAAe;AACnB,GAAG;;AAEH;AACA,EAAE,gBAAgB;AAClB,EAAE,aAAa,GAAG,eAAe;AACjC,EAAE,cAAc,GAAG,gBAAgB;AACnC;;;AChF6B;;AAE7B;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACO;AACP,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA,yBAAyB,aAAa,GAAG,UAAU;AACnD;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA,cAAc,KAAK;AACnB,kBAAkB,aAAa,GAAG,UAAU;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA,0BAA0B,aAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM,SAAS;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,SAAS;AACf;AACA,iFAAiF,iFAAiF;AAClK;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAM,WAAW;AACjB;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA,MAAM,WAAW;AACjB;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;;;AC9LuD;AASlB;AAC0B;;AAE/D;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA,gDAAgD,UAAU;AAC1D,mBAAmB,UAAU,UAAU,UAAU;AACjD,qBAAqB,UAAU,UAAU,WAAW;AACpD,mBAAmB,mBAAmB,UAAU,YAAY;AAC5D,mBAAmB,mBAAmB,UAAU,YAAY;AAC5D,mBAAmB,mBAAmB,UAAU,SAAS;AACzD,eAAe,YAAY;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA,cAAc,UAAU;AACxB;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;;;ACjDA;AACA;AACA,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA,GAAG;AACH;AACA;;;ACVwC;AACV;AACM;;AAEpC;AACA;AACA;AACe;AACf;AACA,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ;AACA,sBAAsB,WAAW;AACjC,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ,MAAM,MAAM;AACZ;AACA,mBAAmB,S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ClB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACf6E;;AAEjB;AACU;AACsB;AAClB;AACN;AACzB;;AAE3C;AACA;AACA;AACA;AACe;AACf,SAAS,WAAW;AACpB,8DAA8D,WAAW;;AAEzE;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,mBAA0B;AACrD;AACA;AACA;AACA,uBAAuB,aAAa;AACpC,MAAM,2BAA2B;AACjC;AACA;AACA,qBAAqB,aAAa;;AAElC;AACA;AACA,6BAA6B,mBAA0B;AACvD;AACA;AACA;AACA,4BAA4B,aAAa;AACzC,QAAQ,2BAA2B;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,aAAa;AACvC;;AAEA;AACA,QAAQ,WAAW;AACnB,6BAA6B,mBAA0B;AACvD;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAQ;AACnC;AACA,0BAA0B,kBAAkB;AAC5C,UAAU,0BAA0B;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iBAAQ,CAAC,0BAA0B;AAC5D;AACA;;AAEA;AACA,GAAG;AACH;;;AC9E4D;AACjB;;AAE3C;AACA;AACA;AACA;AACA;AACe;AACf,SAAS,WAAW;AACpB;AACA,qCAAqC,mBAA0B;AAC/D;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,6DAA6D,iBAAQ;AACrE,GAAG;AACH;;;ACvC4D;AACA;AACM;AACvB;;AAE3C;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA,QAAQ,WAAW,oBAAoB,cAAc;AACrD,iBAAiB,WAAW;;AAE5B;AACA,2BAA2B,mBAA0B;AACrD;AACA;AACA,QAAQ,SAAS;AACjB,yBAAyB,iBAAQ,CAAC,SAAS;AAC3C,mCAAmC,SAAS;AAC5C;AACA,iCAAiC,eAAe;AAChD,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6D,YAAY;AACzE,0DAA0D,SAAS;AACnE,6DAA6D,YAAY;AACzE,2DAA2D,UAAU;;AAErE;AACA;;;AC1FA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjCA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA,GAAG;AACH;;;ACV8C;AACwC;AAChB;AACH;AACV;;AAEzD;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,qBAAqB;AACvB;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,MAAM,iBAAQ,iBAAiB;AAC7D;AACA,aAAa;AACb,cAAc,aAAa;AAC3B;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iBAAQ;AACjC;AACA,UAAU,iBAAQ;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE,WAAW;AACb,EAAE,WAAW;;AAEb,EAAE,cAAc;;AAEhB;AACA;;;ACjIqE;AACD;AAChB;;AAEpD;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wBAAwB,0BAA0B,wBAAwB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;;;ACxC8C;;AAE9C;AACA;;AAEA;AACe;AACf,EAAE,OAAO;AACT,EAAE,YAAY;AACd,EAAE,UAAU;;AAEZ,4BAA4B,OAAO;AACnC;;;ACZA;AACA;AACA;AACe;AACf;AACA;;AAEA;AACA;AACA;;;ACTA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbyE;AACL;;AAEpE;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,IAAI,qBAAqB;AACzB;AACA,QAAQ,+BAA+B;AACvC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AC9BA;;AAEkD;AAC6B;AAC/B;AACQ;AAChB;;AAExC;AACA;AACA;AACe;AACf;AACA,EAAE,UAAU;AACZ;AACA,IAAI,UAAU,MAAM,mBAAmB;AACvC,GAAG;;AAEH;AACA,EAAE,WAAW;AACb;AACA,IAAI,WAAW,MAAM,WAAW;AAChC,GAAG;;AAEH;AACA,EAAE,eAAe;AACjB;AACA,IAAI,eAAe,MAAM,eAAe;AACxC,GAAG;AACH,EAAE,QAAQ;AACV;;;AC9B4D;AACA;;AAE5D;AACA;AACA;AACe;AACf;AACA;AACA,4BAA4B,EAAE;AAC9B,QAAQ,qBAAqB,wBAAwB,EAAE;AACvD,0BAA0B,EAAE;AAC5B;AACA,wCAAwC,aAAa,SAAS,EAAE;AAChE;AACA;AACA;AACA,KAAK;AACL;AACA;;;ACnBqE;AAC4B;AAOpE;AAC0B;;AAEvD;AACA;AACA;AACA;AACA,OAAO,4BAA4B;AACnC,WAAW,WAAW;AACtB,IAAI,kBAAkB;AACtB;AACA,MAAM,kBAAkB;AACxB;AACA;AACA;AACA;AACA,iDAAiD,UAAU;AAC3D,UAAU,2BAA2B;AACrC,UAAU;AACV;AACA;AACA,IAAI,4BAA4B;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,8BAA8B;AACrC,WAAW,WAAW;AACtB,IAAI,oBAAoB;AACxB,IAAI,uBAAuB;AAC3B,gBAAgB;AAChB;AACA;AACA,yDAAyD;AACzD;AACA;AACA,MAAM,uBAAuB;AAC7B,MAAM,sBAAsB;AAC5B,MAAM,4BAA4B;AAClC;;AAEA,MAAM,8BAA8B;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACe;AACf;AACA;AACA;;;AC/DA;;AAE4D;AAC+B;AACtC;AACE;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B,MAAM,kBAAkB,kBAAkB,MAAM;AAChD,kBAAkB,MAAM;AACxB;AACA,sCAAsC,aAAa,SAAS,EAAE;AAC9D;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI,iBAAiB;AACrB;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,aAAa,UAAU,UAAU,MAAM,UAAU;AACvF;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,mBAAmB,QAAQ;AAC3B,oBAAoB,EAAE;AACtB;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,qBAAqB,EAAE;AACvB;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACe;AACf;AACA;;AAEA;AACA;AACA;AACA,EAAE,aAAa;AACf;AACA,IAAI,aAAa;AACjB;AACA,IAAI,sBAAsB;AAC1B;AACA,IAAI,qBAAqB;AACzB;AACA;AACA;;;;;;ACtGA;;AAEiE;AACR;AACU;AACgB;;AAEnF;AACA;AACA;AACe;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AA0C;AAC5C,EAAE,2CAA2C;AAC7C,EAAE,qCAAqC;AACvC,EAAE,4CAA4C;AAC9C,EAAE,kCAAkC;;AAEpC,EAAE,WAAW;;AAEb,gCAAgC,oBAAoB;;AAEpD,EAAE,cAAc;;AAEhB,EAAE,gBAAgB;;AAElB,gCAAgC,oBAAoB;AACpD,IAAI,cAAc;AAClB;;AAEA,mBAAmB,YAAY;;AAE/B;AACA,EAAE,WAAW;;AAEb;AACA;;;ACjFA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,kEAAkE;AAClE,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,0EAAe,4BAA4B,EAAC;;;AC7BiB;AACE;;AAE/D;AACA;AACA;AACA;AACe;AACf;AACA;AACA,IAAI,YAAY;AAChB,GAAG;AACH;AACA;AACA,EAAE,yBAAyB;AAC3B;;;ACfwD;AACM;;AAE9D;AACA;AACA;AACA;AACe;AACf;AACA,mBAAmB,SAAS;AAC5B,sBAAsB,uBAAuB;AAC7C;;;ACXuE;AAChB;;AAEvD;AACA;AACA;AACA;AACe;AACf;AACA,gBAAgB,QAAQ;AACxB,MAAM,QAAQ;AACd,MAAM,QAAQ,iBAAiB,uBAAuB;AACtD,MAAM,QAAQ,gBAAgB,uBAAuB;AACrD,KAAK;AACL,GAAG;AACH;AACA,gBAAgB,QAAQ,kBAAkB,QAAQ;AAClD;AACA;;;AClBA;AACA;AACA;AACA;AACe;AACf;AACA;AACA,GAAG;AACH;AACA;AACA;;;ACVmE;;AAEnE;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA,IAAI,cAAc;AAClB,GAAG;AACH;AACA;AACA,IAAI,cAAc;AAClB,GAAG;AACH;AACA;AACA;AACA;AACA;;;ACpBA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,0CAA0C;AAC1C;AACA;;;ACd6D;AACF;AACN;;AAErD;AACA;AACA;AACA;AACe;AACf;AACA;AACA;;AAEA,EAAE,YAAY;AACd,EAAE,eAAe;AACjB,EAAE,cAAc;AAChB;;;AChBA,8BAA8B;AACf,MAAM,OAAO;IAO1B,YAAY,YAA6B,EAAE,IAAY,EAAE,KAAa;QACpE,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;CACF;;;ACbmC;AAEpC,sCAAsC;AACvB,MAAM,cAAe,SAAQ,OAAO;IAGjD,YAAY,YAA6B,EAAC,IAAY,EAAE,KAAa,EAAE,IAAY;QACjF,KAAK,CAAC,YAAY,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;CACF;;;ACVmC;AAEpC,qCAAqC;AACtB,MAAM,kBAAmB,SAAQ,OAAO;IASrD,YACE,YAA6B,EAC7B,IAAY,EACZ,KAAa,EACb,KAAe,EACf,IAAY,EACZ,GAAW,EACX,GAAW;QAEX,KAAK,CAAC,YAAY,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;CACF;;;AC3BmC;AAEpC,wCAAwC;AACzB,MAAM,eAAgB,SAAQ,OAAO;IASlD,YACE,YAA6B,EAC7B,IAAY,EACZ,KAAa,EACb,KAAe,EACf,IAAY,EACZ,MAAe,EACf,IAAiB;QAEjB,KAAK,CAAC,YAAY,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SAClB;IACH,CAAC;CACF;;;AC7BmC;AAEpC,qCAAqC;AACtB,MAAM,aAAc,SAAQ,OAAO;IAKhD,YAAY,YAA6B,EAAC,IAAY,EAAE,KAAa,EAAE,KAAe,EAAE,IAAY;QAClG,KAAK,CAAC,YAAY,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC5B,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC;SACzB;IACH,CAAC;CACF;;;AChBiF;AACJ;AACpB;AACY;AACV;AACsB;AACd;AACgB;AACF;AACN;AACV;AAC8B;AAChC;AACA;AACP;AACL;AACY;AACQ;AACN;AACJ;;AAE9D;AACA,MAAM,iBAAQ;AACd;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,SAAS;AACf,KAAK;AACL;;AAEA;AACA,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB,KAAK;AACL;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB,KAAK;AACL;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB,KAAK;AACL;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAkB;AACxB,KAAK;AACL;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,eAAe;AACrB,KAAK;AACL;AACA,6BAA6B,eAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA,yKAAyK;AACzK;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB,KAAK;AACL;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,cAAc;AACpB,KAAK;AACL;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,iBAAiB;AACvB,KAAK;AACL;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,wBAAyB;AAC/B,KAAK;AACL;AACA,0BAA0B,eAAe;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,wBAAwB;AAC9B,KAAK;AACL;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,eAAe;AACrB,KAAK;AACL;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,cAAc;AACpB,KAAK;AACL;AACA,6BAA6B,eAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,2BAA2B;AACjC,KAAK;AACL;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,aAAa;AACnB,KAAK;AACL;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,aAAa;AACnB,KAAK;AACL;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,qBAAqB;AAC3B,KAAK;AACL;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,wBAAwB;AAC9B,KAAK;AACL;;AAEA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,eAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA,oHAAoH;AACpH;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,iBAAiB;AACvB,KAAK;AACL;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA,yDAAyD,sFAAsF;AAC/I;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mCAA4B;AAClC;AACA;AACA,KAAK;AACL;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mCAA4B;AAClC;AACA;AACA,KAAK;AACL;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,cAAc;AACxC;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,aAAa;AAClC,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mCAA4B;AAClC;AACA;AACA,KAAK;AACL;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,aAAa;AAC/B,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,eAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mCAA4B;AAClC;AACA;AACA,KAAK;AACL;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,aAAa;AAChC,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mCAA4B;AAClC;AACA;AACA,KAAK;AACL;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,cAAc;AACzC;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,wBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mCAA4B;AAClC;AACA;AACA,KAAK;AACL;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,cAAc;AAC5C;AACA;AACA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,aAAa;AACtC,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,eAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,oDAAe,iBAAQ,EAAC;;;ACz7BkF;AAClE;;AAExC;;AAEA;AACO;;AAEP;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACO;AACP;;AAEA;AACA;AACA,IAAI,aAAQ;AACZ;AACA;AACA,QAAQ,aAAQ;AAChB,GAAG;;AAEH,aAAa,aAAQ;AACrB,IAAI,aAAQ;AACZ;;AAEA,EAAE,aAAa;AACf;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACO;AACP,iBAAiB,OAAO;AACxB,eAAe,OAAO,uBAAuB,WAAW,OAAO,SAAS;AACxE;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,EAAE,aAAa;AACf;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA,EAAE,aAAa;AACf;;;ACxDA;;AAE6D;;AAEE;;AAE/D;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,KAAK;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,KAAK;AACjB,aAAa,OAAO;AACpB;AACO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,aAAa,OAAO;AACpB;AACO;AACP;AACA,8CAA8C,mBAAmB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7JA;;AAEsD;AACmB;AAkChC;AAC6B;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;AACA,WAAW,8BAA8B,KAAK,8BAA8B,KAAK,SAAS;AAC1F;AACA;AACA,wBAAwB,YAAY;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iCAAiC,KAAK,iCAAiC,KAAK,YAAY;AACnG;AACA;AACA,wBAAwB,YAAY;AACpC;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACO;AACP;AACA;;AAEA;AACA;AACA,cAAc,YAAqB;AACnC,kBAAkB,YAAqB;AACvC,mCAAmC,YAAqB;AACxD;AACA;AACA,GAAG;AACH;AACA,cAAc,aAAsB;AACpC,kBAAkB,aAAsB;AACxC,mCAAmC,aAAsB;AACzD;AACA;AACA,GAAG;AACH;AACA,cAAc,UAAmB;AACjC,kBAAkB,UAAmB;AACrC,mCAAmC,UAAmB;AACtD;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,wBAAwB,WAAW;AACnC;AACA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA;AACA,iBAAiB,iBAAQ,wDAAwD,MAAM,iBAAQ;AAC/F;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA;AACA,iBAAiB,iBAAQ,wDAAwD;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA;AACA,iBAAiB,iBAAQ,6BAA6B,MAAM,iBAAQ,4BAA4B;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA;AACA,iBAAiB,iBAAQ,6BAA6B,MAAM,iBAAQ,4BAA4B;AAChG;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;AACA,oCAAoC,iBAAQ,CAAC,YAAY;AACzD;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA,oCAAoC,iBAAQ,CAAC,eAAe;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA,uCAAuC,YAAY,YAAY,qBAAqB;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;;;ACz2BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO,OAAO;AACd;;AAEA,OAAO,OAAO;AACd;;AAEA;AACA,iBAAiB,iBAAiB;AAClC;AACA,mDAAmD,0CAA0C;AAC7F;AACA,OAAO;AACP;AACA;;AAEA,sCAAsC,gBAAgB;AACtD,sCAAsC,iBAAiB,gBAAgB;AACvE;AACA,GAAG,KAAK,cAAc,GAAG;AACzB,sBAAsB,QAAQ;AAC9B,IAAI,QAAQ,mDAAmD,KAAK;AACpE;AACA;AACA,mCAAmC,SAAS,MAAM,aAAa,qBAAqB;AACpF,iCAAiC,QAAQ;AACzC,SAAS;AACT;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,mDAAmD,cAAc,KAAK,cAAc;AACpF;AAC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;ACtC8D;;AAE9D;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB;AACe,SAAS,eAAS;AACjC;AACA;AACA;AACA;AACA,IAAI,cAAc;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5BA;AACe;AACf;AACA;AACA,8BAA8B,IAAI;AAClC;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;ACrB0G;AAClD;AACsB;AACiB;AAC9C;AACH;AACgB;AACE;AAClB;AACI;AACgC;AACtC;;AAE5C;AACA;AACA,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA,MAAM,0BAA0B;AAChC;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI,sBAAsB;AAC1B,IAAI,aAAa;AACjB;AACA;AACA;AACA,mCAAmC,2DAA2D;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA;AACA;AACA,MAAM,aAAQ;AACd;AACA;AACA,MAAM,aAAQ;AACd;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,WAAW,YAAY;AACvB;AACA,MAAM,YAAY;AAClB;AACA;AACA;AACA,MAAM,aAAQ;AACd;AACA;AACA;AACA;AACA,wBAAwB,aAAQ;AAChC;AACA;AACA;AACA;AACA,MAAM,aAAQ;AACd;AACA;AACA;AACA;AACA,sBAAsB,aAAQ;AAC9B;AACA;AACA,0BAA0B,OAAO;AACjC;AACA,2BAA2B,4EAA4E;AACvG;AACA;AACA;AACA,yBAAyB,OAAO;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAkB;AACxB;AACA;AACA;AACA,MAAM,kBAAkB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,eAAS;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,aAAQ;AACd;AACA;AACA,0BAA0B,aAAQ,eAAe;AACjD;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY,UAAU;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mBAAmB;AACzB;AACA;AACA;AACA;AACA,iBAAiB,YAAY,CAAC,EAAE,OAAO;AACvC;AACA,YAAY,aAAa;AACzB;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,aAAQ;AAChC;AACA;AACA;AACA;AACA,MAAM,aAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,aAAa;AACnB,MAAM,aAAa;AACnB;AACA;AACA;AACA,QAAQ,OAAO,SAAS,iDAAiD;AACzE;AACA,wBAAwB,aAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,KAAK;AACb;AACA;AACA;AACA;AACA;AACA,IAAI,sBAAY;AAChB;AACA;AACA,MAAM,aAAQ;AACd;AACA;AACA,0BAA0B,aAAQ,eAAe;AACjD;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA,gBAAgB,aAAQ;AACxB,gBAAgB,aAAQ;AACxB;AACA;AACA,MAAM,aAAa;AACnB,MAAM,YAAY;AAClB;AACA;AACA;AACA;AACA;AACA,wBAAwB,aAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;;;ACtPyF;AAC3C;AACa;AACb;AACA;;AAE9C;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACe;AACf;AACA;;AAEA,cAAc,YAAY;AAC1B;AACA;AACA,QAAQ,wBAAwB;AAChC;AACA;AACA,yBAAyB,gBAAgB,QAAQ,YAAY,UAAU;AACvE;AACA,6BAA6B,SAAS,wBAAwB,CAAC;AAC/D,6BAA6B,gBAAgB,CAAC,iBAAiB;AAC/D;AACA;AACA,KAAK;AACL,uBAAuB,gBAAgB,QAAQ,YAAY,UAAU;AACrE;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,mCAAmC,gBAAgB,WAAW,wBAAwB,YAAY;AAClG;AACA;AACA;AACA;AACA,0BAA0B,aAAQ;AAClC,oBAAoB,aAAQ,8CAA8C,gBAAgB;AAC1F,eAAe;AACf;AACA,WAAW;AACX,SAAS;AACT,sBAAsB,aAAQ;AAC9B,gBAAgB,aAAQ,2CAA2C,gBAAgB;AACnF,WAAW;AACX;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;;ACzDqD;AACH;;AAElD;AACA;AACA;AACe;AACf;AACA;;AAEA;AACA;AACA,IAAI,WAAW;AACf,GAAG;AACH;AACA;AACA,MAAM,YAAY;AAClB;AACA;AACA;;;ACnBA;;AAEgG;;AAEL;AAC/C;;AAE5C;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA,qBAAqB,KAAK;AAC1B,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,QAAQ,yBAAyB;AACjC,UAAU,+BAA+B;AACzC,uBAAuB,UAAU,8BAA8B,aAAa;AAC5E,0BAA0B,UAAU,8BAA8B,aAAa;AAC/E,KAAK;AACL,oBAAoB,2DAA2D,EAAE;AACjF;AACA,QAAQ;AACR,KAAK;;AAEL,QAAQ,sBAAsB;AAC9B;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB,iBAAiB,UAAU,0BAA0B,aAAa;AAChG;AACA,sBAAsB,4DAA4D,EAAE;AACpF;AACA,UAAU;AACV;AACA;;AAEA;AACA,cAAc,KAAK;AACnB;AACA;AACA;AACA,wBAAwB,0DAA0D,GAAG,IAAI;AACzF,GAAG;AACH;AACA;AACA,QAAQ,yBAAyB;AACjC;AACA,UAAU,+BAA+B;AACzC,oBAAoB,UAAU,8BAA8B,aAAa;AACzE,uBAAuB,UAAU,8BAA8B,aAAa;AAC5E;AACA,QAAQ,sBAAsB;AAC9B;AACA;AACA;AACA,uCAAuC,oBAAoB;AAC3D,kBAAkB,UAAU,0BAA0B,aAAa;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1EsC;AACmB;;AAEzD;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kDAAkD,iBAAQ,gBAAgB,iBAAiB,iBAAQ;AACnG;AACA,MAAM;AACN;AACA;AACA,MAAM,sBAAsB;AAC5B,WAAW,sBAAsB;AACjC;AACA;AACA;AACA,kDAAkD,iBAAQ;AAC1D,MAAM,sBAAsB;AAC5B,MAAM,yBAAyB,iBAAQ,CAAC,sBAAsB,EAAE,mBAAmB,iBAAQ;AAC3F,MAAM,sBAAsB;AAC5B,MAAM;AACN;AACA,wBAAwB,iBAAQ,gBAAgB;AAChD;AACA;AACA,4CAA4C,yBAAyB,CAAC,+CAA+C,iBAAQ;AAC7H,UAAU,gBAAgB;AAC1B;AACA,UAAU;AACV;AACA,GAAG;AACH;AACA;;;ACtDA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,EAAE;AACF;;;AC3B4D;AACD;;AAE3D;AACA;AACA;AACA;AACA;AACe;AACf,EAAE,oBAAoB;AACtB;AACA,oBAAoB,EAAE;AACtB,MAAM,oBAAoB,kBAAkB,EAAE;AAC9C,kBAAkB,EAAE;AACpB;AACA;AACA;AACA,wCAAwC,aAAa,SAAS,EAAE;AAChE;AACA;AACA;AACA;AACA,GAAG;AACH;;;ACvBA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;ACjB0C;;AAEyB;AACE;AACW;AACzB;AACA;AACa;AACK;AACV;AACR;AACoB;AAK9C;AACM;;AAEnC;AACA;AACA;AACe;AACf;AACA,EAAE,wBAAwB;AAC1B;AACA,aAAa,iBAAU;;AAEvB,EAAE,8BAA8B;AAChC;A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zD;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,sBAAsB;AACrC,EAAE,kBAAkB;AACpB;;;ACvB4D;AACI;AACd;AACkD;;AAEpG;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW;AACX,aAAa,OAAO;AACpB;AACe;AACf;AACA,EAAE,QAAQ;AACV,SAAS,WAAW;AACpB;AACA,2BAA2B,OAAO;AAClC,gCAAgC,OAAO;AACvC,gCAAgC,OAAO;AACvC;AACA,kBAAkB,OAAO;AACzB,uBAAuB,OAAO;AAC9B,uBAAuB,OAAO;AAC9B;;AAEA,gCAAgC,oBAAoB;AACpD,EAAE,cAAc;;AAEhB,EAAE,gBAAgB;AAClB,gCAAgC,oBAAoB;AACpD,IAAI,cAAc;AAClB;AACA,SAAS,YAAY;AACrB;;;AClCsE;AACtB;;AAEhD;AACA;AACA;AACe;AACf,mBAAmB,UAAU;AAC7B,sBAAsB,UAAU;AAChC,MAAM,SAAS,cAAc,kBAAkB;AAC/C;AACA;AACA;;;ACZ8D;AACD;;AAEX;;AAElD;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,IAAI,YAAY;AAChB,IAAI,cAAc;AAClB;AACA,EAAE,gBAAgB;AAClB;;;ACrBmD;AACI;AACE;;AAEzD;AACA;AACA;AACe;AACf;AACA;AACA,IAAI,kBAAkB;AACtB;AACA,QAAQ,kBAAkB,UAAU,kBAAkB;AACtD,MAAM,KAAK;AACX,MAAM,eAAS;AACf;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,kBAAkB;AACtB;AACA;;;ACvBA;;AAE+C;;AAE/C;AACA;AACA,WAAW,OAAO;AAClB;AACe;AACf;AACA,yBAAyB,UAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F;AAC5F,kGAAkG;AAClG;AACA;AACA,+BAA+B;AAC/B,qCAAqC;AACrC;;AAEA,EAAE,QAAQ;AACV;AACA;;;ACxC8D;;AAE9D;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACe;AACf;AACA;AACA;AACA;AACA,IAAI,cAAc;AAClB;AACA;AACA;AACA,6BAA6B,mCAAmC;AAChE;AACA;;;ACpBkG;AACrB;AAC1B;AACoB;AAChB;AACK;AACL;AAK1B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,4BAA4B;AAC9B,EAAE,uBAAuB;AACzB;AACA,IAAI,uBAAuB;AAC3B;AACA,MAAM,yBAAyB;AAC/B,MAAM,4BAA4B;AAClC;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACe;AACf;AACA,cAAc,QAAQ;AACtB,eAAe,uBAAuB;AACtC,MAAM,QAAQ,2BAA2B,QAAQ;AACjD,aAAa,QAAQ;AACrB;AACA,GAAG;AACH,MAAM,qBAAqB;AAC3B,IAAI,qBAAqB;AACzB,QAAQ,qBAAqB;AAC7B,UAAU,4BAA4B,GAAG,4BAA4B;AACrE,QAAQ,KAAK;AACb,QAAQ,eAAS;AACjB;AACA;AACA;AACA;AACA;AACA,QAAQ,kBAAkB;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,QAAQ;AAC3B,UAAU,aAAa;AACvB;AACA,OAAO;AACP;AACA,IAAI,aAAa;AACjB,IAAI,4BAA4B,GAAG,4BAA4B;AAC/D,QAAQ,4BAA4B,QAAQ,yBAAyB;AACrE,GAAG;AACH;AACA,IAAI,qBAAqB;AACzB;AACA,gBAAgB,QAAQ;AACxB,MAAM,QAAQ,oBAAoB,uBAAuB;AACzD,MAAM,QAAQ,sBAAsB,uBAAuB;AAC3D,MAAM,QAAQ,4BAA4B,uBAAuB;AACjE,KAAK;AACL;AACA;;;AC/EmD;AACoB;AAChB;AACA;;AAEvD;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,0CAA0C,gBAAgB;AAC1D,cAAc,gBAAgB;AAC9B,MAAM,gBAAgB;AACtB,MAAM,KAAK;AACX,MAAM,eAAS;AACf;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAkB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;AChCqE;AAClB;AACoB;AAChB;AACI;;AAE3D;AACA;AACA;AACA;AACe;AACf,MAAM,oBAAoB;AAC1B,IAAI,oBAAoB;AACxB;AACA;AACA,QAAQ,qBAAqB;AAC7B;AACA,KAAK;AACL,IAAI,KAAK;AACT,IAAI,eAAS;AACb;AACA;AACA;AACA;AACA;AACA,IAAI,kBAAkB;AACtB;AACA;AACA;AACA;AACA;AACA;;;AC/BmD;AACoB;AAChB;AACM;;AAE7D;AACA;AACA;AACA;AACe;AACf,MAAM,sBAAsB;AAC5B,IAAI,sBAAsB;AAC1B,QAAQ,sBAAsB;AAC9B,MAAM,KAAK;AACX,MAAM,eAAS;AACf;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAkB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3BmD;AACoB;AAChB;AACC;;AAExD;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA,KAAK;AACL,2BAA2B,iBAAiB;AAC5C,MAAM,iBAAiB;AACvB;AACA;AACA;AACA;AACA,QAAQ,KAAK;AACb,OAAO;AACP,QAAQ,KAAK;AACb;AACA;AACA;AACA;AACA;AACA,QAAQ,eAAS;AACjB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,QAAQ,eAAS;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,kBAAkB;AAC1B;AACA;AACA;AACA;AACA,OAAO;AACP,QAAQ,kBAAkB;AAC1B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,MAAM,iBAAiB;AACvB;AACA;AACA;;;AC/D2C;AACA;AACqB;AACJ;AACP;AACW;AAC2B;AAClC;AACY;AACf;AACoC;AACW;AACb;AACd;AACf;AACL;AACF;AACD;AACQ;AACN;AACD;AACE;AACE;AACN;;AAElD;AACA;AACA;AACA;AACe;AACf,MAAM,eAAe;AACrB,IAAI,eAAe;AACnB,IAAI,iBAAiB;AACrB;AACA;AACA;AACA,QAAQ,YAAY;AACpB,MAAM,QAAQ;AACd,MAAM,SAAS;AACf,MAAM,YAAY;AAClB;;AAEA;AACA,QAAQ,SAAS;AACjB,MAAM,4BAA4B;AAClC,MAAM,WAAW;;AAEjB,MAAM,oBAAoB,GAAG;AAC7B,MAAM,+BAA+B;AACrC,MAAM,iBAAiB;AACvB,MAAM,uBAAuB;AAC7B,MAAM,UAAU;AAChB,MAAM,eAAe;AACrB,MAAM,iBAAiB;;AAEvB,MAAM,eAAe;AACrB,MAAM,qBAAqB;;AAE3B,MAAM,SAAS;AACf;;AAEA;AACA;AACA,SAAS,iBAAiB;AAC1B,MAAM,iBAAiB;AACvB,MAAM,wBAAwB;AAC9B,KAAK,UAAU,iBAAiB;AAChC,MAAM,iBAAiB;AACvB,MAAM,wBAAwB;AAC9B;;AAEA,QAAQ,wBAAwB;AAChC,MAAM,oBAAoB;AAC1B,MAAM,wBAAwB;AAC9B;;AAEA,IAAI,SAAS;;AAEb;AACA,IAAI,kBAAkB;AACtB,IAAI,gBAAgB;AACpB,IAAI,eAAe;AACnB,IAAI,eAAe;AACnB,IAAI,kBAAkB;AACtB;AACA;AACA,EAAE,iBAAiB;AACnB;;;ACvF0E;AACV;AACtB;AACE;AACiB;AACnB;AACG;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACe,SAAS,SAAI;AAC5B,EAAE,cAAc;AAChB;;AAEA;AACA,EAAE,8BAA8B;AAChC,EAAE,yBAAyB;;AAE3B,8BAA8B,YAAY;AAC1C;AACA;AACA,gCAAgC,YAAY,CAAC,GAAG,YAAY,CAAC,6BAA6B,YAAY,CAAC;AACvG;AACA;AACA;AACA,IAAI,uBAAuB;AAC3B,+BAA+B,WAAW;AAC1C,8BAA8B,UAAU;AACxC,+BAA+B,UAAU;;AAEzC,IAAI,cAAc;AAClB;AACA;;;ACpCA;AACA,MAAM,eAAO;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mDAAe,eAAO,EAAC;;;AChCuE;;AAExD;AAC0B;AACxB;AAC0B;AACxB;AACY;;AAEtD;AACA;AACA;AACA;AACe,SAAS,SAAI;AAC5B,EAAE,QAAQ;AACV,EAAE,OAAO,0BAA0B,aAAQ,EAAE,YAAO,EAAE,UAAU;AAChE,EAAE,aAAa;AACf;AACA;AACA,OAAO,YAAY,CAAC,GAAG,YAAY,CAAC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClCgE;;AAEhE;AACA;AACA;AACA,iCAAiC;AACjC;AACe,SAAS,SAAI;AAC5B;AACA,0BAA0B,YAAY,CAAC,GAAG,YAAY,CAAC;AACvD;AACA;;;ACXuC;AACA;AACA;;AAEvC;AACA,MAAM;AACN,MAAM;AACN,MAAM;AACN;;AAEA","file":"CookieMonsterDev.js","sourcesContent":["/**\r\n * jscolor - JavaScript Color Picker\r\n *\r\n * @link    http://jscolor.com\r\n * @license For open source use: GPLv3\r\n *          For commercial use: JSColor Commercial License\r\n * @author  Jan Odvarko - East Desire\r\n *\r\n * See usage examples at http://jscolor.com/examples/\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n\r\n\t'use strict';\r\n\r\n\tif (typeof module === 'object' && typeof module.exports === 'object') {\r\n\t\t// Export jscolor as a module\r\n\t\tmodule.exports = global.document ?\r\n\t\t\tfactory (global) :\r\n\t\t\tfunction (win) {\r\n\t\t\t\tif (!win.document) {\r\n\t\t\t\t\tthrow new Error('jscolor needs a window with document');\r\n\t\t\t\t}\r\n\t\t\t\treturn factory(win);\r\n\t\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Default use (no module export)\r\n\tfactory(global);\r\n\r\n})(typeof window !== 'undefined' ? window : this, function (window) { // BEGIN factory\r\n\r\n// BEGIN jscolor code\r\n\r\n\r\n'use strict';\r\n\r\n\r\nvar jscolor = (function () { // BEGIN jscolor\r\n\r\nvar jsc = {\r\n\r\n\r\n\tinitialized : false,\r\n\r\n\tinstances : [], // created instances of jscolor\r\n\r\n\treadyQueue : [], // functions waiting to be called after init\r\n\r\n\r\n\tregister : function () {\r\n\t\tif (typeof window !== 'undefined' && window.document) {\r\n\t\t\twindow.document.addEventListener('DOMContentLoaded', jsc.pub.init, false);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tinstallBySelector : function (selector, rootNode) {\r\n\t\trootNode = rootNode ? jsc.node(rootNode) : window.document;\r\n\t\tif (!rootNode) {\r\n\t\t\tthrow new Error('Missing root node');\r\n\t\t}\r\n\r\n\t\tvar elms = rootNode.querySelectorAll(selector);\r\n\r\n\t\t// for backward compatibility with DEPRECATED installation/configuration using className\r\n\t\tvar matchClass = new RegExp('(^|\\\\s)(' + jsc.pub.lookupClass + ')(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)', 'i');\r\n\r\n\t\tfor (var i = 0; i < elms.length; i += 1) {\r\n\r\n\t\t\tif (elms[i].jscolor && elms[i].jscolor instanceof jsc.pub) {\r\n\t\t\t\tcontinue; // jscolor already installed on this element\r\n\t\t\t}\r\n\r\n\t\t\tif (elms[i].type !== undefined && elms[i].type.toLowerCase() == 'color' && jsc.isColorAttrSupported) {\r\n\t\t\t\tcontinue; // skips inputs of type 'color' if supported by the browser\r\n\t\t\t}\r\n\r\n\t\t\tvar dataOpts, m;\r\n\r\n\t\t\tif (\r\n\t\t\t\t(dataOpts = jsc.getDataAttr(elms[i], 'jscolor')) !== null ||\r\n\t\t\t\t(elms[i].className && (m = elms[i].className.match(matchClass))) // installation using className (DEPRECATED)\r\n\t\t\t) {\r\n\t\t\t\tvar targetElm = elms[i];\r\n\r\n\t\t\t\tvar optsStr = '';\r\n\t\t\t\tif (dataOpts !== null) {\r\n\t\t\t\t\toptsStr = dataOpts;\r\n\r\n\t\t\t\t} else if (m) { // installation using className (DEPRECATED)\r\n\t\t\t\t\tconsole.warn('Installation using class name is DEPRECATED. Use data-jscolor=\"\" attribute instead.' + jsc.docsRef);\r\n\t\t\t\t\tif (m[4]) {\r\n\t\t\t\t\t\toptsStr = m[4];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar opts = null;\r\n\t\t\t\tif (optsStr.trim()) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\topts = jsc.parseOptionsStr(optsStr);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn(e + '\\n' + optsStr);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tnew jsc.pub(targetElm, opts);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tparseOptionsStr : function (str) {\r\n\t\tvar opts = null;\r\n\r\n\t\ttry {\r\n\t\t\topts = JSON.parse(str);\r\n\r\n\t\t} catch (eParse) {\r\n\t\t\tif (!jsc.pub.looseJSON) {\r\n\t\t\t\tthrow new Error('Could not parse jscolor options as JSON: ' + eParse);\r\n\t\t\t} else {\r\n\t\t\t\t// loose JSON syntax is enabled -> try to evaluate the options string as JavaScript object\r\n\t\t\t\ttry {\r\n\t\t\t\t\topts = (new Function ('var opts = (' + str + '); return typeof opts === \"object\" ? opts : {};'))();\r\n\t\t\t\t} catch (eEval) {\r\n\t\t\t\t\tthrow new Error('Could not evaluate jscolor options: ' + eEval);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn opts;\r\n\t},\r\n\r\n\r\n\tgetInstances : function () {\r\n\t\tvar inst = [];\r\n\t\tfor (var i = 0; i < jsc.instances.length; i += 1) {\r\n\t\t\t// if the targetElement still exists, the instance is considered \"alive\"\r\n\t\t\tif (jsc.instances[i] && jsc.instances[i].targetElement) {\r\n\t\t\t\tinst.push(jsc.instances[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn inst;\r\n\t},\r\n\r\n\r\n\tcreateEl : function (tagName) {\r\n\t\tvar el = window.document.createElement(tagName);\r\n\t\tjsc.setData(el, 'gui', true);\r\n\t\treturn el;\r\n\t},\r\n\r\n\r\n\tnode : function (nodeOrSelector) {\r\n\t\tif (!nodeOrSelector) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (typeof nodeOrSelector === 'string') {\r\n\t\t\t// query selector\r\n\t\t\tvar sel = nodeOrSelector;\r\n\t\t\tvar el = null;\r\n\t\t\ttry {\r\n\t\t\t\tel = window.document.querySelector(sel);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn(e);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (!el) {\r\n\t\t\t\tconsole.warn('No element matches the selector: %s', sel);\r\n\t\t\t}\r\n\t\t\treturn el;\r\n\t\t}\r\n\r\n\t\tif (jsc.isNode(nodeOrSelector)) {\r\n\t\t\t// DOM node\r\n\t\t\treturn nodeOrSelector;\r\n\t\t}\r\n\r\n\t\tconsole.warn('Invalid node of type %s: %s', typeof nodeOrSelector, nodeOrSelector);\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\t// See https://stackoverflow.com/questions/384286/\r\n\tisNode : function (val) {\r\n\t\tif (typeof Node === 'object') {\r\n\t\t\treturn val instanceof Node;\r\n\t\t}\r\n\t\treturn val && typeof val === 'object' && typeof val.nodeType === 'number' && typeof val.nodeName === 'string';\r\n\t},\r\n\r\n\r\n\tnodeName : function (node) {\r\n\t\tif (node && node.nodeName) {\r\n\t\t\treturn node.nodeName.toLowerCase();\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\r\n\tremoveChildren : function (node) {\r\n\t\twhile (node.firstChild) {\r\n\t\t\tnode.removeChild(node.firstChild);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tisTextInput : function (el) {\r\n\t\treturn el && jsc.nodeName(el) === 'input' && el.type.toLowerCase() === 'text';\r\n\t},\r\n\r\n\r\n\tisButton : function (el) {\r\n\t\tif (!el) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar n = jsc.nodeName(el);\r\n\t\treturn (\r\n\t\t\t(n === 'button') ||\r\n\t\t\t(n === 'input' && ['button', 'submit', 'reset'].indexOf(el.type.toLowerCase()) > -1)\r\n\t\t);\r\n\t},\r\n\r\n\r\n\tisButtonEmpty : function (el) {\r\n\t\tswitch (jsc.nodeName(el)) {\r\n\t\t\tcase 'input': return (!el.value || el.value.trim() === '');\r\n\t\t\tcase 'button': return (el.textContent.trim() === '');\r\n\t\t}\r\n\t\treturn null; // could not determine element's text\r\n\t},\r\n\r\n\r\n\t// See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\r\n\tisPassiveEventSupported : (function () {\r\n\t\tvar supported = false;\r\n\r\n\t\ttry {\r\n\t\t\tvar opts = Object.defineProperty({}, 'passive', {\r\n\t\t\t\tget: function () { supported = true; }\r\n\t\t\t});\r\n\t\t\twindow.addEventListener('testPassive', null, opts);\r\n\t\t\twindow.removeEventListener('testPassive', null, opts);\r\n\t\t} catch (e) {}\r\n\r\n\t\treturn supported;\r\n\t})(),\r\n\r\n\r\n\tisColorAttrSupported : (function () {\r\n\t\tvar elm = window.document.createElement('input');\r\n\t\tif (elm.setAttribute) {\r\n\t\t\telm.setAttribute('type', 'color');\r\n\t\t\tif (elm.type.toLowerCase() == 'color') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t})(),\r\n\r\n\r\n\tdataProp : '_data_jscolor',\r\n\r\n\r\n\t// usage:\r\n\t//   setData(obj, prop, value)\r\n\t//   setData(obj, {prop:value, ...})\r\n\t//\r\n\tsetData : function () {\r\n\t\tvar obj = arguments[0];\r\n\r\n\t\tif (arguments.length === 3) {\r\n\t\t\t// setting a single property\r\n\t\t\tvar data = obj.hasOwnProperty(jsc.dataProp) ? obj[jsc.dataProp] : (obj[jsc.dataProp] = {});\r\n\t\t\tvar prop = arguments[1];\r\n\t\t\tvar value = arguments[2];\r\n\r\n\t\t\tdata[prop] = value;\r\n\t\t\treturn true;\r\n\r\n\t\t} else if (arguments.length === 2 && typeof arguments[1] === 'object') {\r\n\t\t\t// setting multiple properties\r\n\t\t\tvar data = obj.hasOwnProperty(jsc.dataProp) ? obj[jsc.dataProp] : (obj[jsc.dataProp] = {});\r\n\t\t\tvar map = arguments[1];\r\n\r\n\t\t\tfor (var prop in map) {\r\n\t\t\t\tif (map.hasOwnProperty(prop)) {\r\n\t\t\t\t\tdata[prop] = map[prop];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tthrow new Error('Invalid arguments');\r\n\t},\r\n\r\n\r\n\t// usage:\r\n\t//   removeData(obj, prop, [prop...])\r\n\t//\r\n\tremoveData : function () {\r\n\t\tvar obj = arguments[0];\r\n\t\tif (!obj.hasOwnProperty(jsc.dataProp)) {\r\n\t\t\treturn true; // data object does not exist\r\n\t\t}\r\n\t\tfor (var i = 1; i < arguments.length; i += 1) {\r\n\t\t\tvar prop = arguments[i];\r\n\t\t\tdelete obj[jsc.dataProp][prop];\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\r\n\tgetData : function (obj, prop, setDefault) {\r\n\t\tif (!obj.hasOwnProperty(jsc.dataProp)) {\r\n\t\t\t// data object does not exist\r\n\t\t\tif (setDefault !== undefined) {\r\n\t\t\t\tobj[jsc.dataProp] = {}; // create data object\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined; // no value to return\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar data = obj[jsc.dataProp];\r\n\r\n\t\tif (!data.hasOwnProperty(prop) && setDefault !== undefined) {\r\n\t\t\tdata[prop] = setDefault;\r\n\t\t}\r\n\t\treturn data[prop];\r\n\t},\r\n\r\n\r\n\tgetDataAttr : function (el, name) {\r\n\t\tvar attrName = 'data-' + name;\r\n\t\tvar attrValue = el.getAttribute(attrName);\r\n\t\treturn attrValue;\r\n\t},\r\n\r\n\r\n\tsetDataAttr : function (el, name, value) {\r\n\t\tvar attrName = 'data-' + name;\r\n\t\tel.setAttribute(attrName, value);\r\n\t},\r\n\r\n\r\n\t_attachedGroupEvents : {},\r\n\r\n\r\n\tattachGroupEvent : function (groupName, el, evnt, func) {\r\n\t\tif (!jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n\t\t\tjsc._attachedGroupEvents[groupName] = [];\r\n\t\t}\r\n\t\tjsc._attachedGroupEvents[groupName].push([el, evnt, func]);\r\n\t\tel.addEventListener(evnt, func, false);\r\n\t},\r\n\r\n\r\n\tdetachGroupEvents : function (groupName) {\r\n\t\tif (jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n\t\t\tfor (var i = 0; i < jsc._attachedGroupEvents[groupName].length; i += 1) {\r\n\t\t\t\tvar evt = jsc._attachedGroupEvents[groupName][i];\r\n\t\t\t\tevt[0].removeEventListener(evt[1], evt[2], false);\r\n\t\t\t}\r\n\t\t\tdelete jsc._attachedGroupEvents[groupName];\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tpreventDefault : function (e) {\r\n\t\tif (e.preventDefault) { e.preventDefault(); }\r\n\t\te.returnValue = false;\r\n\t},\r\n\r\n\r\n\tcaptureTarget : function (target) {\r\n\t\t// IE\r\n\t\tif (target.setCapture) {\r\n\t\t\tjsc._capturedTarget = target;\r\n\t\t\tjsc._capturedTarget.setCapture();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\treleaseTarget : function () {\r\n\t\t// IE\r\n\t\tif (jsc._capturedTarget) {\r\n\t\t\tjsc._capturedTarget.releaseCapture();\r\n\t\t\tjsc._capturedTarget = null;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\ttriggerEvent : function (el, eventName, bubbles, cancelable) {\r\n\t\tif (!el) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ev = null;\r\n\r\n\t\tif (typeof Event === 'function') {\r\n\t\t\tev = new Event(eventName, {\r\n\t\t\t\tbubbles: bubbles,\r\n\t\t\t\tcancelable: cancelable\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// IE\r\n\t\t\tev = window.document.createEvent('Event');\r\n\t\t\tev.initEvent(eventName, bubbles, cancelable);\r\n\t\t}\r\n\r\n\t\tif (!ev) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// so that we know that the event was triggered internally\r\n\t\tjsc.setData(ev, 'internal', true);\r\n\r\n\t\tel.dispatchEvent(ev);\r\n\t\treturn true;\r\n\t},\r\n\r\n\r\n\ttriggerInputEvent : function (el, eventName, bubbles, cancelable) {\r\n\t\tif (!el) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (jsc.isTextInput(el)) {\r\n\t\t\tjsc.triggerEvent(el, eventName, bubbles, cancelable);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\teventKey : function (ev) {\r\n\t\tvar keys = {\r\n\t\t\t9: 'Tab',\r\n\t\t\t13: 'Enter',\r\n\t\t\t27: 'Escape',\r\n\t\t};\r\n\t\tif (typeof ev.code === 'string') {\r\n\t\t\treturn ev.code;\r\n\t\t} else if (ev.keyCode !== undefined && keys.hasOwnProperty(ev.keyCode)) {\r\n\t\t\treturn keys[ev.keyCode];\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\tstrList : function (str) {\r\n\t\tif (!str) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn str.replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can only contain a single class name\r\n\thasClass : function (elm, className) {\r\n\t\tif (!className) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (elm.classList !== undefined) {\r\n\t\t\treturn elm.classList.contains(className);\r\n\t\t}\r\n\t\t// polyfill\r\n\t\treturn -1 != (' ' + elm.className.replace(/\\s+/g, ' ') + ' ').indexOf(' ' + className + ' ');\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\taddClass : function (elm, className) {\r\n\t\tvar classNames = jsc.strList(className);\r\n\r\n\t\tif (elm.classList !== undefined) {\r\n\t\t\tfor (var i = 0; i < classNames.length; i += 1) {\r\n\t\t\t\telm.classList.add(classNames[i]);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// polyfill\r\n\t\tfor (var i = 0; i < classNames.length; i += 1) {\r\n\t\t\tif (!jsc.hasClass(elm, classNames[i])) {\r\n\t\t\t\telm.className += (elm.className ? ' ' : '') + classNames[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\tremoveClass : function (elm, className) {\r\n\t\tvar classNames = jsc.strList(className);\r\n\r\n\t\tif (elm.classList !== undefined) {\r\n\t\t\tfor (var i = 0; i < classNames.length; i += 1) {\r\n\t\t\t\telm.classList.remove(classNames[i]);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// polyfill\r\n\t\tfor (var i = 0; i < classNames.length; i += 1) {\r\n\t\t\tvar repl = new RegExp(\r\n\t\t\t\t'^\\\\s*' + classNames[i] + '\\\\s*|' +\r\n\t\t\t\t'\\\\s*' + classNames[i] + '\\\\s*$|' +\r\n\t\t\t\t'\\\\s+' + classNames[i] + '(\\\\s+)',\r\n\t\t\t\t'g'\r\n\t\t\t);\r\n\t\t\telm.className = elm.className.replace(repl, '$1');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tgetCompStyle : function (elm) {\r\n\t\tvar compStyle = window.getComputedStyle ? window.getComputedStyle(elm) : elm.currentStyle;\r\n\r\n\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n\t\t// that's why we need to check if the returned value is non-empty\r\n\t\tif (!compStyle) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\treturn compStyle;\r\n\t},\r\n\r\n\r\n\t// Note:\r\n\t//   Setting a property to NULL reverts it to the state before it was first set\r\n\t//   with the 'reversible' flag enabled\r\n\t//\r\n\tsetStyle : function (elm, styles, important, reversible) {\r\n\t\t// using '' for standard priority (IE10 apparently doesn't like value undefined)\r\n\t\tvar priority = important ? 'important' : '';\r\n\t\tvar origStyle = null;\r\n\r\n\t\tfor (var prop in styles) {\r\n\t\t\tif (styles.hasOwnProperty(prop)) {\r\n\t\t\t\tvar setVal = null;\r\n\r\n\t\t\t\tif (styles[prop] === null) {\r\n\t\t\t\t\t// reverting a property value\r\n\r\n\t\t\t\t\tif (!origStyle) {\r\n\t\t\t\t\t\t// get the original style object, but dont't try to create it if it doesn't exist\r\n\t\t\t\t\t\torigStyle = jsc.getData(elm, 'origStyle');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (origStyle && origStyle.hasOwnProperty(prop)) {\r\n\t\t\t\t\t\t// we have property's original value -> use it\r\n\t\t\t\t\t\tsetVal = origStyle[prop];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// setting a property value\r\n\r\n\t\t\t\t\tif (reversible) {\r\n\t\t\t\t\t\tif (!origStyle) {\r\n\t\t\t\t\t\t\t// get the original style object and if it doesn't exist, create it\r\n\t\t\t\t\t\t\torigStyle = jsc.getData(elm, 'origStyle', {});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!origStyle.hasOwnProperty(prop)) {\r\n\t\t\t\t\t\t\t// original property value not yet stored -> store it\r\n\t\t\t\t\t\t\torigStyle[prop] = elm.style[prop];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetVal = styles[prop];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (setVal !== null) {\r\n\t\t\t\t\telm.style.setProperty(prop, setVal, priority);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\thexColor : function (r, g, b) {\r\n\t\treturn '#' + (\r\n\t\t\t('0' + Math.round(r).toString(16)).substr(-2) +\r\n\t\t\t('0' + Math.round(g).toString(16)).substr(-2) +\r\n\t\t\t('0' + Math.round(b).toString(16)).substr(-2)\r\n\t\t).toUpperCase();\r\n\t},\r\n\r\n\r\n\thexaColor : function (r, g, b, a) {\r\n\t\treturn '#' + (\r\n\t\t\t('0' + Math.round(r).toString(16)).substr(-2) +\r\n\t\t\t('0' + Math.round(g).toString(16)).substr(-2) +\r\n\t\t\t('0' + Math.round(b).toString(16)).substr(-2) +\r\n\t\t\t('0' + Math.round(a * 255).toString(16)).substr(-2)\r\n\t\t).toUpperCase();\r\n\t},\r\n\r\n\r\n\trgbColor : function (r, g, b) {\r\n\t\treturn 'rgb(' +\r\n\t\t\tMath.round(r) + ',' +\r\n\t\t\tMath.round(g) + ',' +\r\n\t\t\tMath.round(b) +\r\n\t\t')';\r\n\t},\r\n\r\n\r\n\trgbaColor : function (r, g, b, a) {\r\n\t\treturn 'rgba(' +\r\n\t\t\tMath.round(r) + ',' +\r\n\t\t\tMath.round(g) + ',' +\r\n\t\t\tMath.round(b) + ',' +\r\n\t\t\t(Math.round((a===undefined || a===null ? 1 : a) * 100) / 100) +\r\n\t\t')';\r\n\t},\r\n\r\n\r\n\tlinearGradient : (function () {\r\n\r\n\t\tfunction getFuncName () {\r\n\t\t\tvar stdName = 'linear-gradient';\r\n\t\t\tvar prefixes = ['', '-webkit-', '-moz-', '-o-', '-ms-'];\r\n\t\t\tvar helper = window.document.createElement('div');\r\n\r\n\t\t\tfor (var i = 0; i < prefixes.length; i += 1) {\r\n\t\t\t\tvar tryFunc = prefixes[i] + stdName;\r\n\t\t\t\tvar tryVal = tryFunc + '(to right, rgba(0,0,0,0), rgba(0,0,0,0))';\r\n\r\n\t\t\t\thelper.style.background = tryVal;\r\n\t\t\t\tif (helper.style.background) { // CSS background successfully set -> function name is supported\r\n\t\t\t\t\treturn tryFunc;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn stdName; // fallback to standard 'linear-gradient' without vendor prefix\r\n\t\t}\r\n\r\n\t\tvar funcName = getFuncName();\r\n\r\n\t\treturn function () {\r\n\t\t\treturn funcName + '(' + Array.prototype.join.call(arguments, ', ') + ')';\r\n\t\t};\r\n\r\n\t})(),\r\n\r\n\r\n\tsetBorderRadius : function (elm, value) {\r\n\t\tjsc.setStyle(elm, {'border-radius' : value || '0'});\r\n\t},\r\n\r\n\r\n\tsetBoxShadow : function (elm, value) {\r\n\t\tjsc.setStyle(elm, {'box-shadow': value || 'none'});\r\n\t},\r\n\r\n\r\n\tgetElementPos : function (e, relativeToViewport) {\r\n\t\tvar x=0, y=0;\r\n\t\tvar rect = e.getBoundingClientRect();\r\n\t\tx = rect.left;\r\n\t\ty = rect.top;\r\n\t\tif (!relativeToViewport) {\r\n\t\t\tvar viewPos = jsc.getViewPos();\r\n\t\t\tx += viewPos[0];\r\n\t\t\ty += viewPos[1];\r\n\t\t}\r\n\t\treturn [x, y];\r\n\t},\r\n\r\n\r\n\tgetElementSize : function (e) {\r\n\t\treturn [e.offsetWidth, e.offsetHeight];\r\n\t},\r\n\r\n\r\n\t// get pointer's X/Y coordinates relative to viewport\r\n\tgetAbsPointerPos : function (e) {\r\n\t\tvar x = 0, y = 0;\r\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\r\n\t\t\t// touch devices\r\n\t\t\tx = e.changedTouches[0].clientX;\r\n\t\t\ty = e.changedTouches[0].clientY;\r\n\t\t} else if (typeof e.clientX === 'number') {\r\n\t\t\tx = e.clientX;\r\n\t\t\ty = e.clientY;\r\n\t\t}\r\n\t\treturn { x: x, y: y };\r\n\t},\r\n\r\n\r\n\t// get pointer's X/Y coordinates relative to target element\r\n\tgetRelPointerPos : function (e) {\r\n\t\tvar target = e.target || e.srcElement;\r\n\t\tvar targetRect = target.getBoundingClientRect();\r\n\r\n\t\tvar x = 0, y = 0;\r\n\r\n\t\tvar clientX = 0, clientY = 0;\r\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\r\n\t\t\t// touch devices\r\n\t\t\tclientX = e.changedTouches[0].clientX;\r\n\t\t\tclientY = e.changedTouches[0].clientY;\r\n\t\t} else if (typeof e.clientX === 'number') {\r\n\t\t\tclientX = e.clientX;\r\n\t\t\tclientY = e.clientY;\r\n\t\t}\r\n\r\n\t\tx = clientX - targetRect.left;\r\n\t\ty = clientY - targetRect.top;\r\n\t\treturn { x: x, y: y };\r\n\t},\r\n\r\n\r\n\tgetViewPos : function () {\r\n\t\tvar doc = window.document.documentElement;\r\n\t\treturn [\r\n\t\t\t(window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\r\n\t\t\t(window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\r\n\t\t];\r\n\t},\r\n\r\n\r\n\tgetViewSize : function () {\r\n\t\tvar doc = window.document.documentElement;\r\n\t\treturn [\r\n\t\t\t(window.innerWidth || doc.clientWidth),\r\n\t\t\t(window.innerHeight || doc.clientHeight),\r\n\t\t];\r\n\t},\r\n\r\n\r\n\t// r: 0-255\r\n\t// g: 0-255\r\n\t// b: 0-255\r\n\t//\r\n\t// returns: [ 0-360, 0-100, 0-100 ]\r\n\t//\r\n\tRGB_HSV : function (r, g, b) {\r\n\t\tr /= 255;\r\n\t\tg /= 255;\r\n\t\tb /= 255;\r\n\t\tvar n = Math.min(Math.min(r,g),b);\r\n\t\tvar v = Math.max(Math.max(r,g),b);\r\n\t\tvar m = v - n;\r\n\t\tif (m === 0) { return [ null, 0, 100 * v ]; }\r\n\t\tvar h = r===n ? 3+(b-g)/m : (g===n ? 5+(r-b)/m : 1+(g-r)/m);\r\n\t\treturn [\r\n\t\t\t60 * (h===6?0:h),\r\n\t\t\t100 * (m/v),\r\n\t\t\t100 * v\r\n\t\t];\r\n\t},\r\n\r\n\r\n\t// h: 0-360\r\n\t// s: 0-100\r\n\t// v: 0-100\r\n\t//\r\n\t// returns: [ 0-255, 0-255, 0-255 ]\r\n\t//\r\n\tHSV_RGB : function (h, s, v) {\r\n\t\tvar u = 255 * (v / 100);\r\n\r\n\t\tif (h === null) {\r\n\t\t\treturn [ u, u, u ];\r\n\t\t}\r\n\r\n\t\th /= 60;\r\n\t\ts /= 100;\r\n\r\n\t\tvar i = Math.floor(h);\r\n\t\tvar f = i%2 ? h-i : 1-(h-i);\r\n\t\tvar m = u * (1 - s);\r\n\t\tvar n = u * (1 - s * f);\r\n\t\tswitch (i) {\r\n\t\t\tcase 6:\r\n\t\t\tcase 0: return [u,n,m];\r\n\t\t\tcase 1: return [n,u,m];\r\n\t\t\tcase 2: return [m,u,n];\r\n\t\t\tcase 3: return [m,n,u];\r\n\t\t\tcase 4: return [n,m,u];\r\n\t\t\tcase 5: return [u,m,n];\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tparseColorString : function (str) {\r\n\t\tvar ret = {\r\n\t\t\trgba: null,\r\n\t\t\tformat: null // 'hex' | 'hexa' | 'rgb' | 'rgba'\r\n\t\t};\r\n\r\n\t\tvar m;\r\n\r\n\t\tif (m = str.match(/^\\W*([0-9A-F]{3,8})\\W*$/i)) {\r\n\t\t\t// HEX notation\r\n\r\n\t\t\tif (m[1].length === 8) {\r\n\t\t\t\t// 8-char notation (= with alpha)\r\n\t\t\t\tret.format = 'hexa';\r\n\t\t\t\tret.rgba = [\r\n\t\t\t\t\tparseInt(m[1].substr(0,2),16),\r\n\t\t\t\t\tparseInt(m[1].substr(2,2),16),\r\n\t\t\t\t\tparseInt(m[1].substr(4,2),16),\r\n\t\t\t\t\tparseInt(m[1].substr(6,2),16) / 255\r\n\t\t\t\t];\r\n\r\n\t\t\t} else if (m[1].length === 6) {\r\n\t\t\t\t// 6-char notation\r\n\t\t\t\tret.format = 'hex';\r\n\t\t\t\tret.rgba = [\r\n\t\t\t\t\tparseInt(m[1].substr(0,2),16),\r\n\t\t\t\t\tparseInt(m[1].substr(2,2),16),\r\n\t\t\t\t\tparseInt(m[1].substr(4,2),16),\r\n\t\t\t\t\tnull\r\n\t\t\t\t];\r\n\r\n\t\t\t} else if (m[1].length === 3) {\r\n\t\t\t\t// 3-char notation\r\n\t\t\t\tret.format = 'hex';\r\n\t\t\t\tret.rgba = [\r\n\t\t\t\t\tparseInt(m[1].charAt(0) + m[1].charAt(0),16),\r\n\t\t\t\t\tparseInt(m[1].charAt(1) + m[1].charAt(1),16),\r\n\t\t\t\t\tparseInt(m[1].charAt(2) + m[1].charAt(2),16),\r\n\t\t\t\t\tnull\r\n\t\t\t\t];\r\n\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\tif (m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i)) {\r\n\t\t\t// rgb(...) or rgba(...) notation\r\n\r\n\t\t\tvar par = m[1].split(',');\r\n\t\t\tvar re = /^\\s*(\\d+|\\d*\\.\\d+|\\d+\\.\\d*)\\s*$/;\r\n\t\t\tvar mR, mG, mB, mA;\r\n\t\t\tif (\r\n\t\t\t\tpar.length >= 3 &&\r\n\t\t\t\t(mR = par[0].match(re)) &&\r\n\t\t\t\t(mG = par[1].match(re)) &&\r\n\t\t\t\t(mB = par[2].match(re))\r\n\t\t\t) {\r\n\t\t\t\tret.format = 'rgb';\r\n\t\t\t\tret.rgba = [\r\n\t\t\t\t\tparseFloat(mR[1]) || 0,\r\n\t\t\t\t\tparseFloat(mG[1]) || 0,\r\n\t\t\t\t\tparseFloat(mB[1]) || 0,\r\n\t\t\t\t\tnull\r\n\t\t\t\t];\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tpar.length >= 4 &&\r\n\t\t\t\t\t(mA = par[3].match(re))\r\n\t\t\t\t) {\r\n\t\t\t\t\tret.format = 'rgba';\r\n\t\t\t\t\tret.rgba[3] = parseFloat(mA[1]) || 0;\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\r\n\tparsePaletteValue : function (mixed) {\r\n\t\tvar vals = [];\r\n\r\n\t\tif (typeof mixed === 'string') { // input is a string of space separated color values\r\n\t\t\t// rgb() and rgba() may contain spaces too, so let's find all color values by regex\r\n\t\t\tmixed.replace(/#[0-9A-F]{3}([0-9A-F]{3})?|rgba?\\(([^)]*)\\)/ig, function (val) {\r\n\t\t\t\tvals.push(val);\r\n\t\t\t});\r\n\t\t} else if (Array.isArray(mixed)) { // input is an array of color values\r\n\t\t\tvals = mixed;\r\n\t\t}\r\n\r\n\t\t// convert all values into uniform color format\r\n\r\n\t\tvar colors = [];\r\n\r\n\t\tfor (var i = 0; i < vals.length; i++) {\r\n\t\t\tvar color = jsc.parseColorString(vals[i]);\r\n\t\t\tif (color) {\r\n\t\t\t\tcolors.push(color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn colors;\r\n\t},\r\n\r\n\r\n\tcontainsTranparentColor : function (colors) {\r\n\t\tfor (var i = 0; i < colors.length; i++) {\r\n\t\t\tvar a = colors[i].rgba[3];\r\n\t\t\tif (a !== null && a < 1.0) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\r\n\tisAlphaFormat : function (format) {\r\n\t\tswitch (format.toLowerCase()) {\r\n\t\tcase 'hexa':\r\n\t\tcase 'rgba':\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\r\n\t// Canvas scaling for retina displays\r\n\t//\r\n\t// adapted from https://www.html5rocks.com/en/tutorials/canvas/hidpi/\r\n\t//\r\n\tscaleCanvasForHighDPR : function (canvas) {\r\n\t\tvar dpr = window.devicePixelRatio || 1;\r\n\t\tcanvas.width *= dpr;\r\n\t\tcanvas.height *= dpr;\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\t\tctx.scale(dpr, dpr);\r\n\t},\r\n\r\n\r\n\tgenColorPreviewCanvas : function (color, separatorPos, specWidth, scaleForHighDPR) {\r\n\r\n\t\tvar sepW = Math.round(jsc.pub.previewSeparator.length);\r\n\t\tvar sqSize = jsc.pub.chessboardSize;\r\n\t\tvar sqColor1 = jsc.pub.chessboardColor1;\r\n\t\tvar sqColor2 = jsc.pub.chessboardColor2;\r\n\r\n\t\tvar cWidth = specWidth ? specWidth : sqSize * 2;\r\n\t\tvar cHeight = sqSize * 2;\r\n\r\n\t\tvar canvas = jsc.createEl('canvas');\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\tcanvas.width = cWidth;\r\n\t\tcanvas.height = cHeight;\r\n\t\tif (scaleForHighDPR) {\r\n\t\t\tjsc.scaleCanvasForHighDPR(canvas);\r\n\t\t}\r\n\r\n\t\t// transparency chessboard - background\r\n\t\tctx.fillStyle = sqColor1;\r\n\t\tctx.fillRect(0, 0, cWidth, cHeight);\r\n\r\n\t\t// transparency chessboard - squares\r\n\t\tctx.fillStyle = sqColor2;\r\n\t\tfor (var x = 0; x < cWidth; x += sqSize * 2) {\r\n\t\t\tctx.fillRect(x, 0, sqSize, sqSize);\r\n\t\t\tctx.fillRect(x + sqSize, sqSize, sqSize, sqSize);\r\n\t\t}\r\n\r\n\t\tif (color) {\r\n\t\t\t// actual color in foreground\r\n\t\t\tctx.fillStyle = color;\r\n\t\t\tctx.fillRect(0, 0, cWidth, cHeight);\r\n\t\t}\r\n\r\n\t\tvar start = null;\r\n\t\tswitch (separatorPos) {\r\n\t\t\tcase 'left':\r\n\t\t\t\tstart = 0;\r\n\t\t\t\tctx.clearRect(0, 0, sepW/2, cHeight);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\t\tstart = cWidth - sepW;\r\n\t\t\t\tctx.clearRect(cWidth - (sepW/2), 0, sepW/2, cHeight);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (start !== null) {\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tfor (var i = 0; i < jsc.pub.previewSeparator.length; i += 1) {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.strokeStyle = jsc.pub.previewSeparator[i];\r\n\t\t\t\tctx.moveTo(0.5 + start + i, 0);\r\n\t\t\t\tctx.lineTo(0.5 + start + i, cHeight);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tcanvas: canvas,\r\n\t\t\twidth: cWidth,\r\n\t\t\theight: cHeight,\r\n\t\t};\r\n\t},\r\n\r\n\r\n\t// if position or width is not set => fill the entire element (0%-100%)\r\n\tgenColorPreviewGradient : function (color, position, width) {\r\n\t\tvar params = [];\r\n\r\n\t\tif (position && width) {\r\n\t\t\tparams = [\r\n\t\t\t\t'to ' + {'left':'right', 'right':'left'}[position],\r\n\t\t\t\tcolor + ' 0%',\r\n\t\t\t\tcolor + ' ' + width + 'px',\r\n\t\t\t\t'rgba(0,0,0,0) ' + (width + 1) + 'px',\r\n\t\t\t\t'rgba(0,0,0,0) 100%',\r\n\t\t\t];\r\n\t\t} else {\r\n\t\t\tparams = [\r\n\t\t\t\t'to right',\r\n\t\t\t\tcolor + ' 0%',\r\n\t\t\t\tcolor + ' 100%',\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\treturn jsc.linearGradient.apply(this, params);\r\n\t},\r\n\r\n\r\n\tredrawPosition : function () {\r\n\r\n\t\tif (!jsc.picker || !jsc.picker.owner) {\r\n\t\t\treturn; // picker is not shown\r\n\t\t}\r\n\r\n\t\tvar thisObj = jsc.picker.owner;\r\n\r\n\t\tvar tp, vp;\r\n\r\n\t\tif (thisObj.fixed) {\r\n\t\t\t// Fixed elements are positioned relative to viewport,\r\n\t\t\t// therefore we can ignore the scroll offset\r\n\t\t\ttp = jsc.getElementPos(thisObj.targetElement, true); // target pos\r\n\t\t\tvp = [0, 0]; // view pos\r\n\t\t} else {\r\n\t\t\ttp = jsc.getElementPos(thisObj.targetElement); // target pos\r\n\t\t\tvp = jsc.getViewPos(); // view pos\r\n\t\t}\r\n\r\n\t\tvar ts = jsc.getElementSize(thisObj.targetElement); // target size\r\n\t\tvar vs = jsc.getViewSize(); // view size\r\n\t\tvar pd = jsc.getPickerDims(thisObj);\r\n\t\tvar ps = [pd.borderW, pd.borderH]; // picker outer size\r\n\t\tvar a, b, c;\r\n\t\tswitch (thisObj.position.toLowerCase()) {\r\n\t\t\tcase 'left': a=1; b=0; c=-1; break;\r\n\t\t\tcase 'right':a=1; b=0; c=1; break;\r\n\t\t\tcase 'top':  a=0; b=1; c=-1; break;\r\n\t\t\tdefault:     a=0; b=1; c=1; break;\r\n\t\t}\r\n\t\tvar l = (ts[b]+ps[b])/2;\r\n\r\n\t\t// compute picker position\r\n\t\tif (!thisObj.smartPosition) {\r\n\t\t\tvar pp = [\r\n\t\t\t\ttp[a],\r\n\t\t\t\ttp[b]+ts[b]-l+l*c\r\n\t\t\t];\r\n\t\t} else {\r\n\t\t\tvar pp = [\r\n\t\t\t\t-vp[a]+tp[a]+ps[a] > vs[a] ?\r\n\t\t\t\t\t(-vp[a]+tp[a]+ts[a]/2 > vs[a]/2 && tp[a]+ts[a]-ps[a] >= 0 ? tp[a]+ts[a]-ps[a] : tp[a]) :\r\n\t\t\t\t\ttp[a],\r\n\t\t\t\t-vp[b]+tp[b]+ts[b]+ps[b]-l+l*c > vs[b] ?\r\n\t\t\t\t\t(-vp[b]+tp[b]+ts[b]/2 > vs[b]/2 && tp[b]+ts[b]-l-l*c >= 0 ? tp[b]+ts[b]-l-l*c : tp[b]+ts[b]-l+l*c) :\r\n\t\t\t\t\t(tp[b]+ts[b]-l+l*c >= 0 ? tp[b]+ts[b]-l+l*c : tp[b]+ts[b]-l-l*c)\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\tvar x = pp[a];\r\n\t\tvar y = pp[b];\r\n\t\tvar positionValue = thisObj.fixed ? 'fixed' : 'absolute';\r\n\t\tvar contractShadow =\r\n\t\t\t(pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) &&\r\n\t\t\t(pp[1] + ps[1] < tp[1] + ts[1]);\r\n\r\n\t\tjsc._drawPosition(thisObj, x, y, positionValue, contractShadow);\r\n\t},\r\n\r\n\r\n\t_drawPosition : function (thisObj, x, y, positionValue, contractShadow) {\r\n\t\tvar vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\r\n\r\n\t\tjsc.picker.wrap.style.position = positionValue;\r\n\t\tjsc.picker.wrap.style.left = x + 'px';\r\n\t\tjsc.picker.wrap.style.top = y + 'px';\r\n\r\n\t\tjsc.setBoxShadow(\r\n\t\t\tjsc.picker.boxS,\r\n\t\t\tthisObj.shadow ?\r\n\t\t\t\tnew jsc.BoxShadow(0, vShadow, thisObj.shadowBlur, 0, thisObj.shadowColor) :\r\n\t\t\t\tnull);\r\n\t},\r\n\r\n\r\n\tgetPickerDims : function (thisObj) {\r\n\t\tvar w = 2 * thisObj.controlBorderWidth + thisObj.width;\r\n\t\tvar h = 2 * thisObj.controlBorderWidth + thisObj.height;\r\n\r\n\t\tvar sliderSpace = 2 * thisObj.controlBorderWidth + 2 * jsc.getControlPadding(thisObj) + thisObj.sliderSize;\r\n\r\n\t\tif (jsc.getSliderChannel(thisObj)) {\r\n\t\t\tw += sliderSpace;\r\n\t\t}\r\n\t\tif (thisObj.hasAlphaChannel()) {\r\n\t\t\tw += sliderSpace;\r\n\t\t}\r\n\r\n\t\tvar pal = jsc.getPaletteDims(thisObj, w);\r\n\r\n\t\tif (pal.height) {\r\n\t\t\th += pal.height + thisObj.padding;\r\n\t\t}\r\n\t\tif (thisObj.closeButton) {\r\n\t\t\th += 2 * thisObj.controlBorderWidth + thisObj.padding + thisObj.buttonHeight;\r\n\t\t}\r\n\r\n\t\tvar pW = w + (2 * thisObj.padding);\r\n\t\tvar pH = h + (2 * thisObj.padding);\r\n\r\n\t\treturn {\r\n\t\t\tcontentW: w,\r\n\t\t\tcontentH: h,\r\n\t\t\tpaddedW: pW,\r\n\t\t\tpaddedH: pH,\r\n\t\t\tborderW: pW + (2 * thisObj.borderWidth),\r\n\t\t\tborderH: pH + (2 * thisObj.borderWidth),\r\n\t\t\tpalette: pal,\r\n\t\t};\r\n\t},\r\n\r\n\r\n\tgetPaletteDims : function (thisObj, width) {\r\n\t\tvar cols = 0, rows = 0, cellW = 0, cellH = 0, height = 0;\r\n\t\tvar sampleCount = thisObj._palette ? thisObj._palette.length : 0;\r\n\r\n\t\tif (sampleCount) {\r\n\t\t\tcols = thisObj.paletteCols;\r\n\t\t\trows = cols > 0 ? Math.ceil(sampleCount / cols) : 0;\r\n\r\n\t\t\t// color sample's dimensions (includes border)\r\n\t\t\tcellW = Math.max(1, Math.floor((width - ((cols - 1) * thisObj.paletteSpacing)) / cols));\r\n\t\t\tcellH = thisObj.paletteHeight ? Math.min(thisObj.paletteHeight, cellW) : cellW;\r\n\t\t}\r\n\r\n\t\tif (rows) {\r\n\t\t\theight =\r\n\t\t\t\trows * cellH +\r\n\t\t\t\t(rows - 1) * thisObj.paletteSpacing;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tcols: cols,\r\n\t\t\trows: rows,\r\n\t\t\tcellW: cellW,\r\n\t\t\tcellH: cellH,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t};\r\n\t},\r\n\r\n\r\n\tgetControlPadding : function (thisObj) {\r\n\t\treturn Math.max(\r\n\t\t\tthisObj.padding / 2,\r\n\t\t\t(2 * thisObj.pointerBorderWidth + thisObj.pointerThickness) - thisObj.controlBorderWidth\r\n\t\t);\r\n\t},\r\n\r\n\r\n\tgetPadYChannel : function (thisObj) {\r\n\t\tswitch (thisObj.mode.charAt(1).toLowerCase()) {\r\n\t\t\tcase 'v': return 'v'; break;\r\n\t\t}\r\n\t\treturn 's';\r\n\t},\r\n\r\n\r\n\tgetSliderChannel : function (thisObj) {\r\n\t\tif (thisObj.mode.length > 2) {\r\n\t\t\tswitch (thisObj.mode.charAt(2).toLowerCase()) {\r\n\t\t\t\tcase 's': return 's'; break;\r\n\t\t\t\tcase 'v': return 'v'; break;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\t// calls function specified in picker's property\r\n\ttriggerCallback : function (thisObj, prop) {\r\n\t\tif (!thisObj[prop]) {\r\n\t\t\treturn; // callback func not specified\r\n\t\t}\r\n\t\tvar callback = null;\r\n\r\n\t\tif (typeof thisObj[prop] === 'string') {\r\n\t\t\t// string with code\r\n\t\t\ttry {\r\n\t\t\t\tcallback = new Function (thisObj[prop]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// function\r\n\t\t\tcallback = thisObj[prop];\r\n\t\t}\r\n\r\n\t\tif (callback) {\r\n\t\t\tcallback.call(thisObj);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// Triggers a color change related event(s) on all picker instances.\r\n\t// It is possible to specify multiple events separated with a space.\r\n\ttriggerGlobal : function (eventNames) {\r\n\t\tvar inst = jsc.getInstances();\r\n\t\tfor (var i = 0; i < inst.length; i += 1) {\r\n\t\t\tinst[i].trigger(eventNames);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_pointerMoveEvent : {\r\n\t\tmouse: 'mousemove',\r\n\t\ttouch: 'touchmove'\r\n\t},\r\n\t_pointerEndEvent : {\r\n\t\tmouse: 'mouseup',\r\n\t\ttouch: 'touchend'\r\n\t},\r\n\r\n\r\n\t_pointerOrigin : null,\r\n\t_capturedTarget : null,\r\n\r\n\r\n\tonDocumentKeyUp : function (e) {\r\n\t\tif (['Tab', 'Escape'].indexOf(jsc.eventKey(e)) !== -1) {\r\n\t\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\t\tjsc.picker.owner.tryHide();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonWindowResize : function (e) {\r\n\t\tjsc.redrawPosition();\r\n\t},\r\n\r\n\r\n\tonWindowScroll : function (e) {\r\n\t\tjsc.redrawPosition();\r\n\t},\r\n\r\n\r\n\tonParentScroll : function (e) {\r\n\t\t// hide the picker when one of the parent elements is scrolled\r\n\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\tjsc.picker.owner.tryHide();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonDocumentMouseDown : function (e) {\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tif (target.jscolor && target.jscolor instanceof jsc.pub) { // clicked targetElement -> show picker\r\n\t\t\tif (target.jscolor.showOnClick && !target.disabled) {\r\n\t\t\t\ttarget.jscolor.show();\r\n\t\t\t}\r\n\t\t} else if (jsc.getData(target, 'gui')) { // clicked jscolor's GUI element\r\n\t\t\tvar control = jsc.getData(target, 'control');\r\n\t\t\tif (control) {\r\n\t\t\t\t// jscolor's control\r\n\t\t\t\tjsc.onControlPointerStart(e, target, jsc.getData(target, 'control'), 'mouse');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// mouse is outside the picker's controls -> hide the color picker!\r\n\t\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\t\tjsc.picker.owner.tryHide();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonPickerTouchStart : function (e) {\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tif (jsc.getData(target, 'control')) {\r\n\t\t\tjsc.onControlPointerStart(e, target, jsc.getData(target, 'control'), 'touch');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonControlPointerStart : function (e, target, controlName, pointerType) {\r\n\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\r\n\t\tjsc.preventDefault(e);\r\n\t\tjsc.captureTarget(target);\r\n\r\n\t\tvar registerDragEvents = function (doc, offset) {\r\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerMoveEvent[pointerType],\r\n\t\t\t\tjsc.onDocumentPointerMove(e, target, controlName, pointerType, offset));\r\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerEndEvent[pointerType],\r\n\t\t\t\tjsc.onDocumentPointerEnd(e, target, controlName, pointerType));\r\n\t\t};\r\n\r\n\t\tregisterDragEvents(window.document, [0, 0]);\r\n\r\n\t\tif (window.parent && window.frameElement) {\r\n\t\t\tvar rect = window.frameElement.getBoundingClientRect();\r\n\t\t\tvar ofs = [-rect.left, -rect.top];\r\n\t\t\tregisterDragEvents(window.parent.window.document, ofs);\r\n\t\t}\r\n\r\n\t\tvar abs = jsc.getAbsPointerPos(e);\r\n\t\tvar rel = jsc.getRelPointerPos(e);\r\n\t\tjsc._pointerOrigin = {\r\n\t\t\tx: abs.x - rel.x,\r\n\t\t\ty: abs.y - rel.y\r\n\t\t};\r\n\r\n\t\tswitch (controlName) {\r\n\t\tcase 'pad':\r\n\t\t\t// if the value slider is at the bottom, move it up\r\n\t\t\tif (jsc.getSliderChannel(thisObj) === 'v' && thisObj.channels.v === 0) {\r\n\t\t\t\tthisObj.fromHSVA(null, null, 100, null);\r\n\t\t\t}\r\n\t\t\tjsc.setPad(thisObj, e, 0, 0);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'sld':\r\n\t\t\tjsc.setSld(thisObj, e, 0);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'asld':\r\n\t\t\tjsc.setASld(thisObj, e, 0);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tthisObj.trigger('input');\r\n\t},\r\n\r\n\r\n\tonDocumentPointerMove : function (e, target, controlName, pointerType, offset) {\r\n\t\treturn function (e) {\r\n\t\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\t\t\tswitch (controlName) {\r\n\t\t\tcase 'pad':\r\n\t\t\t\tjsc.setPad(thisObj, e, offset[0], offset[1]);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'sld':\r\n\t\t\t\tjsc.setSld(thisObj, e, offset[1]);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'asld':\r\n\t\t\t\tjsc.setASld(thisObj, e, offset[1]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthisObj.trigger('input');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonDocumentPointerEnd : function (e, target, controlName, pointerType) {\r\n\t\treturn function (e) {\r\n\t\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\t\t\tjsc.detachGroupEvents('drag');\r\n\t\t\tjsc.releaseTarget();\r\n\r\n\t\t\t// Always trigger changes AFTER detaching outstanding mouse handlers,\r\n\t\t\t// in case some color change that occured in user-defined onChange/onInput handler\r\n\t\t\t// intruded into current mouse events\r\n\t\t\tthisObj.trigger('input');\r\n\t\t\tthisObj.trigger('change');\r\n\t\t};\r\n\t},\r\n\r\n\r\n\tonPaletteSampleClick : function (e) {\r\n\t\tvar target = e.currentTarget;\r\n\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\t\tvar color = jsc.getData(target, 'color');\r\n\r\n\t\t// when format is flexible, use the original format of this color sample\r\n\t\tif (thisObj.format.toLowerCase() === 'any') {\r\n\t\t\tthisObj._setFormat(color.format); // adapt format\r\n\t\t\tif (!jsc.isAlphaFormat(thisObj.getFormat())) {\r\n\t\t\t\tcolor.rgba[3] = 1.0; // when switching to a format that doesn't support alpha, set full opacity\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// if this color doesn't specify alpha, use alpha of 1.0 (if applicable)\r\n\t\tif (color.rgba[3] === null) {\r\n\t\t\tif (thisObj.paletteSetsAlpha === true || (thisObj.paletteSetsAlpha === 'auto' && thisObj._paletteHasTransparency)) {\r\n\t\t\t\tcolor.rgba[3] = 1.0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthisObj.fromRGBA.apply(thisObj, color.rgba);\r\n\r\n\t\tthisObj.trigger('input');\r\n\t\tthisObj.trigger('change');\r\n\r\n\t\tif (thisObj.hideOnPaletteClick) {\r\n\t\t\tthisObj.hide();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetPad : function (thisObj, e, ofsX, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar x = ofsX + pointerAbs.x - jsc._pointerOrigin.x - thisObj.padding - thisObj.controlBorderWidth;\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.controlBorderWidth;\r\n\r\n\t\tvar xVal = x * (360 / (thisObj.width - 1));\r\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\tswitch (jsc.getPadYChannel(thisObj)) {\r\n\t\tcase 's': thisObj.fromHSVA(xVal, yVal, null, null); break;\r\n\t\tcase 'v': thisObj.fromHSVA(xVal, null, yVal, null); break;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetSld : function (thisObj, e, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.controlBorderWidth;\r\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\tswitch (jsc.getSliderChannel(thisObj)) {\r\n\t\tcase 's': thisObj.fromHSVA(null, yVal, null, null); break;\r\n\t\tcase 'v': thisObj.fromHSVA(null, null, yVal, null); break;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetASld : function (thisObj, e, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.controlBorderWidth;\r\n\t\tvar yVal = 1.0 - (y * (1.0 / (thisObj.height - 1)));\r\n\r\n\t\tif (yVal < 1.0) {\r\n\t\t\t// if format is flexible and the current format doesn't support alpha, switch to a suitable one\r\n\t\t\tvar fmt = thisObj.getFormat();\r\n\t\t\tif (thisObj.format.toLowerCase() === 'any' && !jsc.isAlphaFormat(fmt)) {\r\n\t\t\t\tthisObj._setFormat(fmt === 'hex' ? 'hexa' : 'rgba');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthisObj.fromHSVA(null, null, null, yVal);\r\n\t},\r\n\r\n\r\n\tcreatePadCanvas : function () {\r\n\r\n\t\tvar ret = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tvar canvas = jsc.createEl('canvas');\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\tvar drawFunc = function (width, height, type) {\r\n\t\t\tcanvas.width = width;\r\n\t\t\tcanvas.height = height;\r\n\r\n\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tvar hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\r\n\t\t\thGrad.addColorStop(0 / 6, '#F00');\r\n\t\t\thGrad.addColorStop(1 / 6, '#FF0');\r\n\t\t\thGrad.addColorStop(2 / 6, '#0F0');\r\n\t\t\thGrad.addColorStop(3 / 6, '#0FF');\r\n\t\t\thGrad.addColorStop(4 / 6, '#00F');\r\n\t\t\thGrad.addColorStop(5 / 6, '#F0F');\r\n\t\t\thGrad.addColorStop(6 / 6, '#F00');\r\n\r\n\t\t\tctx.fillStyle = hGrad;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tvar vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\tswitch (type.toLowerCase()) {\r\n\t\t\tcase 's':\r\n\t\t\t\tvGrad.addColorStop(0, 'rgba(255,255,255,0)');\r\n\t\t\t\tvGrad.addColorStop(1, 'rgba(255,255,255,1)');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'v':\r\n\t\t\t\tvGrad.addColorStop(0, 'rgba(0,0,0,0)');\r\n\t\t\t\tvGrad.addColorStop(1, 'rgba(0,0,0,1)');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tctx.fillStyle = vGrad;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t};\r\n\r\n\t\tret.elm = canvas;\r\n\t\tret.draw = drawFunc;\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\r\n\tcreateSliderGradient : function () {\r\n\r\n\t\tvar ret = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tvar canvas = jsc.createEl('canvas');\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\tvar drawFunc = function (width, height, color1, color2) {\r\n\t\t\tcanvas.width = width;\r\n\t\t\tcanvas.height = height;\r\n\r\n\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\tgrad.addColorStop(0, color1);\r\n\t\t\tgrad.addColorStop(1, color2);\r\n\r\n\t\t\tctx.fillStyle = grad;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t};\r\n\r\n\t\tret.elm = canvas;\r\n\t\tret.draw = drawFunc;\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\r\n\tcreateASliderGradient : function () {\r\n\r\n\t\tvar ret = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tvar canvas = jsc.createEl('canvas');\r\n\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\tvar drawFunc = function (width, height, color) {\r\n\t\t\tcanvas.width = width;\r\n\t\t\tcanvas.height = height;\r\n\r\n\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tvar sqSize = canvas.width / 2;\r\n\t\t\tvar sqColor1 = jsc.pub.chessboardColor1;\r\n\t\t\tvar sqColor2 = jsc.pub.chessboardColor2;\r\n\r\n\t\t\t// dark gray background\r\n\t\t\tctx.fillStyle = sqColor1;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tif (sqSize > 0) { // to avoid infinite loop\r\n\t\t\t\tfor (var y = 0; y < canvas.height; y += sqSize * 2) {\r\n\t\t\t\t\t// light gray squares\r\n\t\t\t\t\tctx.fillStyle = sqColor2;\r\n\t\t\t\t\tctx.fillRect(0, y, sqSize, sqSize);\r\n\t\t\t\t\tctx.fillRect(sqSize, y + sqSize, sqSize, sqSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\tgrad.addColorStop(0, color);\r\n\t\t\tgrad.addColorStop(1, 'rgba(0,0,0,0)');\r\n\r\n\t\t\tctx.fillStyle = grad;\r\n\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t};\r\n\r\n\t\tret.elm = canvas;\r\n\t\tret.draw = drawFunc;\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\r\n\tBoxShadow : (function () {\r\n\t\tvar BoxShadow = function (hShadow, vShadow, blur, spread, color, inset) {\r\n\t\t\tthis.hShadow = hShadow;\r\n\t\t\tthis.vShadow = vShadow;\r\n\t\t\tthis.blur = blur;\r\n\t\t\tthis.spread = spread;\r\n\t\t\tthis.color = color;\r\n\t\t\tthis.inset = !!inset;\r\n\t\t};\r\n\r\n\t\tBoxShadow.prototype.toString = function () {\r\n\t\t\tvar vals = [\r\n\t\t\t\tMath.round(this.hShadow) + 'px',\r\n\t\t\t\tMath.round(this.vShadow) + 'px',\r\n\t\t\t\tMath.round(this.blur) + 'px',\r\n\t\t\t\tMath.round(this.spread) + 'px',\r\n\t\t\t\tthis.color\r\n\t\t\t];\r\n\t\t\tif (this.inset) {\r\n\t\t\t\tvals.push('inset');\r\n\t\t\t}\r\n\t\t\treturn vals.join(' ');\r\n\t\t};\r\n\r\n\t\treturn BoxShadow;\r\n\t})(),\r\n\r\n\r\n\tflags : {\r\n\t\tleaveValue : 1 << 0,\r\n\t\tleaveAlpha : 1 << 1,\r\n\t\tleavePreview : 1 << 2,\r\n\t},\r\n\r\n\r\n\tenumOpts : {\r\n\t\tformat: ['auto', 'any', 'hex', 'hexa', 'rgb', 'rgba'],\r\n\t\tpreviewPosition: ['left', 'right'],\r\n\t\tmode: ['hsv', 'hvs', 'hs', 'hv'],\r\n\t\tposition: ['left', 'right', 'top', 'bottom'],\r\n\t\talphaChannel: ['auto', true, false],\r\n\t\tpaletteSetsAlpha: ['auto', true, false],\r\n\t},\r\n\r\n\r\n\tdeprecatedOpts : {\r\n\t\t// <old_option>: <new_option>  (<new_option> can be null)\r\n\t\t'styleElement': 'previewElement',\r\n\t\t'onFineChange': 'onInput',\r\n\t\t'overwriteImportant': 'forceStyle',\r\n\t\t'closable': 'closeButton',\r\n\t\t'insetWidth': 'controlBorderWidth',\r\n\t\t'insetColor': 'controlBorderColor',\r\n\t\t'refine': null,\r\n\t},\r\n\r\n\r\n\tdocsRef : ' ' + 'See https://jscolor.com/docs/',\r\n\r\n\r\n\t//\r\n\t// Usage:\r\n\t// var myPicker = new JSColor(<targetElement> [, <options>])\r\n\t//\r\n\t// (constructor is accessible via both 'jscolor' and 'JSColor' name)\r\n\t//\r\n\r\n\tpub : function (targetElement, opts) {\r\n\r\n\t\tvar THIS = this;\r\n\r\n\t\tif (!opts) {\r\n\t\t\topts = {};\r\n\t\t}\r\n\r\n\t\tthis.channels = {\r\n\t\t\tr: 255, // red [0-255]\r\n\t\t\tg: 255, // green [0-255]\r\n\t\t\tb: 255, // blue [0-255]\r\n\t\t\th: 0, // hue [0-360]\r\n\t\t\ts: 0, // saturation [0-100]\r\n\t\t\tv: 100, // value (brightness) [0-100]\r\n\t\t\ta: 1.0, // alpha (opacity) [0.0 - 1.0]\r\n\t\t};\r\n\r\n\t\t// General options\r\n\t\t//\r\n\t\tthis.format = 'auto'; // 'auto' | 'any' | 'hex' | 'hexa' | 'rgb' | 'rgba' - Format of the input/output value\r\n\t\tthis.value = undefined; // INITIAL color value in any supported format. To change it later, use method fromString(), fromHSVA(), fromRGBA() or channel()\r\n\t\tthis.alpha = undefined; // INITIAL alpha value. To change it later, call method channel('A', <value>)\r\n\t\tthis.onChange = undefined; // called when color changes. Value can be either a function or a string with JS code.\r\n\t\tthis.onInput = undefined; // called repeatedly as the color is being changed, e.g. while dragging a slider. Value can be either a function or a string with JS code.\r\n\t\tthis.valueElement = undefined; // element that will be used to display and input the color value\r\n\t\tthis.alphaElement = undefined; // element that will be used to display and input the alpha (opacity) value\r\n\t\tthis.previewElement = undefined; // element that will preview the picked color using CSS background\r\n\t\tthis.previewPosition = 'left'; // 'left' | 'right' - position of the color preview in previewElement\r\n\t\tthis.previewSize = 32; // (px) width of the color preview displayed in previewElement\r\n\t\tthis.previewPadding = 8; // (px) space between color preview and content of the previewElement\r\n\t\tthis.required = true; // whether the associated text input must always contain a color value. If false, the input can be left empty.\r\n\t\tthis.hash = true; // whether to prefix the HEX color code with # symbol (only applicable for HEX format)\r\n\t\tthis.uppercase = true; // whether to show the HEX color code in upper case (only applicable for HEX format)\r\n\t\tthis.forceStyle = true; // whether to overwrite CSS style of the previewElement using !important flag\r\n\r\n\t\t// Color Picker options\r\n\t\t//\r\n\t\tthis.width = 181; // width of the color spectrum (in px)\r\n\t\tthis.height = 101; // height of the color spectrum (in px)\r\n\t\tthis.mode = 'HSV'; // 'HSV' | 'HVS' | 'HS' | 'HV' - layout of the color picker controls\r\n\t\tthis.alphaChannel = 'auto'; // 'auto' | true | false - if alpha channel is enabled, the alpha slider will be visible. If 'auto', it will be determined according to color format\r\n\t\tthis.position = 'bottom'; // 'left' | 'right' | 'top' | 'bottom' - position relative to the target element\r\n\t\tthis.smartPosition = true; // automatically change picker position when there is not enough space for it\r\n\t\tthis.showOnClick = true; // whether to show the picker when user clicks its target element\r\n\t\tthis.hideOnLeave = true; // whether to automatically hide the picker when user leaves its target element (e.g. upon clicking the document)\r\n\t\tthis.palette = []; // colors to be displayed in the palette, specified as an array or a string of space separated color values (in any supported format)\r\n\t\tthis.paletteCols = 10; // number of columns in the palette\r\n\t\tthis.paletteSetsAlpha = 'auto'; // 'auto' | true | false - if true, palette colors that don't specify alpha will set alpha to 1.0\r\n\t\tthis.paletteHeight = 16; // maximum height (px) of a row in the palette\r\n\t\tthis.paletteSpacing = 4; // distance (px) between color samples in the palette\r\n\t\tthis.hideOnPaletteClick = false; // when set to true, clicking the palette will also hide the color picker\r\n\t\tthis.sliderSize = 16; // px\r\n\t\tthis.crossSize = 8; // px\r\n\t\tthis.closeButton = false; // whether to display the Close button\r\n\t\tthis.closeText = 'Close';\r\n\t\tthis.buttonColor = 'rgba(0,0,0,1)'; // CSS color\r\n\t\tthis.buttonHeight = 18; // px\r\n\t\tthis.padding = 12; // px\r\n\t\tthis.backgroundColor = 'rgba(255,255,255,1)'; // CSS color\r\n\t\tthis.borderWidth = 1; // px\r\n\t\tthis.borderColor = 'rgba(187,187,187,1)'; // CSS color\r\n\t\tthis.borderRadius = 8; // px\r\n\t\tthis.controlBorderWidth = 1; // px\r\n\t\tthis.controlBorderColor = 'rgba(187,187,187,1)'; // CSS color\r\n\t\tthis.shadow = true; // whether to display a shadow\r\n\t\tthis.shadowBlur = 15; // px\r\n\t\tthis.shadowColor = 'rgba(0,0,0,0.2)'; // CSS color\r\n\t\tthis.pointerColor = 'rgba(76,76,76,1)'; // CSS color\r\n\t\tthis.pointerBorderWidth = 1; // px\r\n\t\tthis.pointerBorderColor = 'rgba(255,255,255,1)'; // CSS color\r\n\t\tthis.pointerThickness = 2; // px\r\n\t\tthis.zIndex = 5000;\r\n\t\tthis.container = undefined; // where to append the color picker (BODY element by default)\r\n\r\n\t\t// Experimental\r\n\t\t//\r\n\t\tthis.minS = 0; // min allowed saturation (0 - 100)\r\n\t\tthis.maxS = 100; // max allowed saturation (0 - 100)\r\n\t\tthis.minV = 0; // min allowed value (brightness) (0 - 100)\r\n\t\tthis.maxV = 100; // max allowed value (brightness) (0 - 100)\r\n\t\tthis.minA = 0.0; // min allowed alpha (opacity) (0.0 - 1.0)\r\n\t\tthis.maxA = 1.0; // max allowed alpha (opacity) (0.0 - 1.0)\r\n\r\n\r\n\t\t// Getter: option(name)\r\n\t\t// Setter: option(name, value)\r\n\t\t//         option({name:value, ...})\r\n\t\t//\r\n\t\tthis.option = function () {\r\n\t\t\tif (!arguments.length) {\r\n\t\t\t\tthrow new Error('No option specified');\r\n\t\t\t}\r\n\r\n\t\t\tif (arguments.length === 1 && typeof arguments[0] === 'string') {\r\n\t\t\t\t// getting a single option\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn getOption(arguments[0]);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t} else if (arguments.length >= 2 && typeof arguments[0] === 'string') {\r\n\t\t\t\t// setting a single option\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!setOption(arguments[0], arguments[1])) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.redraw(); // immediately redraws the picker, if it's displayed\r\n\t\t\t\tthis.exposeColor(); // in case some preview-related or format-related option was changed\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t} else if (arguments.length === 1 && typeof arguments[0] === 'object') {\r\n\t\t\t\t// setting multiple options\r\n\t\t\t\tvar opts = arguments[0];\r\n\t\t\t\tvar success = true;\r\n\t\t\t\tfor (var opt in opts) {\r\n\t\t\t\t\tif (opts.hasOwnProperty(opt)) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (!setOption(opt, opts[opt])) {\r\n\t\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.redraw(); // immediately redraws the picker, if it's displayed\r\n\t\t\t\tthis.exposeColor(); // in case some preview-related or format-related option was changed\r\n\t\t\t\treturn success;\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error('Invalid arguments');\r\n\t\t}\r\n\r\n\r\n\t\t// Getter: channel(name)\r\n\t\t// Setter: channel(name, value)\r\n\t\t//\r\n\t\tthis.channel = function (name, value) {\r\n\t\t\tif (typeof name !== 'string') {\r\n\t\t\t\tthrow new Error('Invalid value for channel name: ' + name);\r\n\t\t\t}\r\n\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\t// getting channel value\r\n\t\t\t\tif (!this.channels.hasOwnProperty(name.toLowerCase())) {\r\n\t\t\t\t\tconsole.warn('Getting unknown channel: ' + name);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.channels[name.toLowerCase()];\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// setting channel value\r\n\t\t\t\tvar res = false;\r\n\t\t\t\tswitch (name.toLowerCase()) {\r\n\t\t\t\t\tcase 'r': res = this.fromRGBA(value, null, null, null); break;\r\n\t\t\t\t\tcase 'g': res = this.fromRGBA(null, value, null, null); break;\r\n\t\t\t\t\tcase 'b': res = this.fromRGBA(null, null, value, null); break;\r\n\t\t\t\t\tcase 'h': res = this.fromHSVA(value, null, null, null); break;\r\n\t\t\t\t\tcase 's': res = this.fromHSVA(null, value, null, null); break;\r\n\t\t\t\t\tcase 'v': res = this.fromHSVA(null, null, value, null); break;\r\n\t\t\t\t\tcase 'a': res = this.fromHSVA(null, null, null, value); break;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.warn('Setting unknown channel: ' + name);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.redraw(); // immediately redraws the picker, if it's displayed\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\r\n\t\t// Triggers given input event(s) by:\r\n\t\t// - executing on<Event> callback specified as picker's option\r\n\t\t// - triggering standard DOM event listeners attached to the value element\r\n\t\t//\r\n\t\t// It is possible to specify multiple events separated with a space.\r\n\t\t//\r\n\t\tthis.trigger = function (eventNames) {\r\n\t\t\tvar evs = jsc.strList(eventNames);\r\n\t\t\tfor (var i = 0; i < evs.length; i += 1) {\r\n\t\t\t\tvar ev = evs[i].toLowerCase();\r\n\r\n\t\t\t\t// trigger a callback\r\n\t\t\t\tvar callbackProp = null;\r\n\t\t\t\tswitch (ev) {\r\n\t\t\t\t\tcase 'input': callbackProp = 'onInput'; break;\r\n\t\t\t\t\tcase 'change': callbackProp = 'onChange'; break;\r\n\t\t\t\t}\r\n\t\t\t\tif (callbackProp) {\r\n\t\t\t\t\tjsc.triggerCallback(this, callbackProp);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// trigger standard DOM event listeners on the value element\r\n\t\t\t\tjsc.triggerInputEvent(this.valueElement, ev, true, true);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\t// h: 0-360\r\n\t\t// s: 0-100\r\n\t\t// v: 0-100\r\n\t\t// a: 0.0-1.0\r\n\t\t//\r\n\t\tthis.fromHSVA = function (h, s, v, a, flags) { // null = don't change\r\n\t\t\tif (h === undefined) { h = null; }\r\n\t\t\tif (s === undefined) { s = null; }\r\n\t\t\tif (v === undefined) { v = null; }\r\n\t\t\tif (a === undefined) { a = null; }\r\n\r\n\t\t\tif (h !== null) {\r\n\t\t\t\tif (isNaN(h)) { return false; }\r\n\t\t\t\tthis.channels.h = Math.max(0, Math.min(360, h));\r\n\t\t\t}\r\n\t\t\tif (s !== null) {\r\n\t\t\t\tif (isNaN(s)) { return false; }\r\n\t\t\t\tthis.channels.s = Math.max(0, Math.min(100, this.maxS, s), this.minS);\r\n\t\t\t}\r\n\t\t\tif (v !== null) {\r\n\t\t\t\tif (isNaN(v)) { return false; }\r\n\t\t\t\tthis.channels.v = Math.max(0, Math.min(100, this.maxV, v), this.minV);\r\n\t\t\t}\r\n\t\t\tif (a !== null) {\r\n\t\t\t\tif (isNaN(a)) { return false; }\r\n\t\t\t\tthis.channels.a = this.hasAlphaChannel() ?\r\n\t\t\t\t\tMath.max(0, Math.min(1, this.maxA, a), this.minA) :\r\n\t\t\t\t\t1.0; // if alpha channel is disabled, the color should stay 100% opaque\r\n\t\t\t}\r\n\r\n\t\t\tvar rgb = jsc.HSV_RGB(\r\n\t\t\t\tthis.channels.h,\r\n\t\t\t\tthis.channels.s,\r\n\t\t\t\tthis.channels.v\r\n\t\t\t);\r\n\t\t\tthis.channels.r = rgb[0];\r\n\t\t\tthis.channels.g = rgb[1];\r\n\t\t\tthis.channels.b = rgb[2];\r\n\r\n\t\t\tthis.exposeColor(flags);\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\r\n\t\t// r: 0-255\r\n\t\t// g: 0-255\r\n\t\t// b: 0-255\r\n\t\t// a: 0.0-1.0\r\n\t\t//\r\n\t\tthis.fromRGBA = function (r, g, b, a, flags) { // null = don't change\r\n\t\t\tif (r === undefined) { r = null; }\r\n\t\t\tif (g === undefined) { g = null; }\r\n\t\t\tif (b === undefined) { b = null; }\r\n\t\t\tif (a === undefined) { a = null; }\r\n\r\n\t\t\tif (r !== null) {\r\n\t\t\t\tif (isNaN(r)) { return false; }\r\n\t\t\t\tr = Math.max(0, Math.min(255, r));\r\n\t\t\t}\r\n\t\t\tif (g !== null) {\r\n\t\t\t\tif (isNaN(g)) { return false; }\r\n\t\t\t\tg = Math.max(0, Math.min(255, g));\r\n\t\t\t}\r\n\t\t\tif (b !== null) {\r\n\t\t\t\tif (isNaN(b)) { return false; }\r\n\t\t\t\tb = Math.max(0, Math.min(255, b));\r\n\t\t\t}\r\n\t\t\tif (a !== null) {\r\n\t\t\t\tif (isNaN(a)) { return false; }\r\n\t\t\t\tthis.channels.a = this.hasAlphaChannel() ?\r\n\t\t\t\t\tMath.max(0, Math.min(1, this.maxA, a), this.minA) :\r\n\t\t\t\t\t1.0; // if alpha channel is disabled, the color should stay 100% opaque\r\n\t\t\t}\r\n\r\n\t\t\tvar hsv = jsc.RGB_HSV(\r\n\t\t\t\tr===null ? this.channels.r : r,\r\n\t\t\t\tg===null ? this.channels.g : g,\r\n\t\t\t\tb===null ? this.channels.b : b\r\n\t\t\t);\r\n\t\t\tif (hsv[0] !== null) {\r\n\t\t\t\tthis.channels.h = Math.max(0, Math.min(360, hsv[0]));\r\n\t\t\t}\r\n\t\t\tif (hsv[2] !== 0) { // fully black color stays black through entire saturation range, so let's not change saturation\r\n\t\t\t\tthis.channels.s = Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\r\n\t\t\t}\r\n\t\t\tthis.channels.v = Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2]));\r\n\r\n\t\t\t// update RGB according to final HSV, as some values might be trimmed\r\n\t\t\tvar rgb = jsc.HSV_RGB(this.channels.h, this.channels.s, this.channels.v);\r\n\t\t\tthis.channels.r = rgb[0];\r\n\t\t\tthis.channels.g = rgb[1];\r\n\t\t\tthis.channels.b = rgb[2];\r\n\r\n\t\t\tthis.exposeColor(flags);\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\r\n\t\t// DEPRECATED. Use .fromHSVA() instead\r\n\t\t//\r\n\t\tthis.fromHSV = function (h, s, v, flags) {\r\n\t\t\tconsole.warn('fromHSV() method is DEPRECATED. Using fromHSVA() instead.' + jsc.docsRef);\r\n\t\t\treturn this.fromHSVA(h, s, v, null, flags);\r\n\t\t};\r\n\r\n\r\n\t\t// DEPRECATED. Use .fromRGBA() instead\r\n\t\t//\r\n\t\tthis.fromRGB = function (r, g, b, flags) {\r\n\t\t\tconsole.warn('fromRGB() method is DEPRECATED. Using fromRGBA() instead.' + jsc.docsRef);\r\n\t\t\treturn this.fromRGBA(r, g, b, null, flags);\r\n\t\t};\r\n\r\n\r\n\t\tthis.fromString = function (str, flags) {\r\n\t\t\tif (!this.required && str.trim() === '') {\r\n\t\t\t\t// setting empty string to an optional color input\r\n\t\t\t\tthis.setPreviewElementBg(null);\r\n\t\t\t\tthis.setValueElementValue('');\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tvar color = jsc.parseColorString(str);\r\n\t\t\tif (!color) {\r\n\t\t\t\treturn false; // could not parse\r\n\t\t\t}\r\n\t\t\tif (this.format.toLowerCase() === 'any') {\r\n\t\t\t\tthis._setFormat(color.format); // adapt format\r\n\t\t\t\tif (!jsc.isAlphaFormat(this.getFormat())) {\r\n\t\t\t\t\tcolor.rgba[3] = 1.0; // when switching to a format that doesn't support alpha, set full opacity\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.fromRGBA(\r\n\t\t\t\tcolor.rgba[0],\r\n\t\t\t\tcolor.rgba[1],\r\n\t\t\t\tcolor.rgba[2],\r\n\t\t\t\tcolor.rgba[3],\r\n\t\t\t\tflags\r\n\t\t\t);\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\r\n\t\tthis.toString = function (format) {\r\n\t\t\tif (format === undefined) {\r\n\t\t\t\tformat = this.getFormat(); // format not specified -> use the current format\r\n\t\t\t}\r\n\t\t\tswitch (format.toLowerCase()) {\r\n\t\t\t\tcase 'hex': return this.toHEXString(); break;\r\n\t\t\t\tcase 'hexa': return this.toHEXAString(); break;\r\n\t\t\t\tcase 'rgb': return this.toRGBString(); break;\r\n\t\t\t\tcase 'rgba': return this.toRGBAString(); break;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\r\n\t\tthis.toHEXString = function () {\r\n\t\t\treturn jsc.hexColor(\r\n\t\t\t\tthis.channels.r,\r\n\t\t\t\tthis.channels.g,\r\n\t\t\t\tthis.channels.b\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toHEXAString = function () {\r\n\t\t\treturn jsc.hexaColor(\r\n\t\t\t\tthis.channels.r,\r\n\t\t\t\tthis.channels.g,\r\n\t\t\t\tthis.channels.b,\r\n\t\t\t\tthis.channels.a\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toRGBString = function () {\r\n\t\t\treturn jsc.rgbColor(\r\n\t\t\t\tthis.channels.r,\r\n\t\t\t\tthis.channels.g,\r\n\t\t\t\tthis.channels.b\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toRGBAString = function () {\r\n\t\t\treturn jsc.rgbaColor(\r\n\t\t\t\tthis.channels.r,\r\n\t\t\t\tthis.channels.g,\r\n\t\t\t\tthis.channels.b,\r\n\t\t\t\tthis.channels.a\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toGrayscale = function () {\r\n\t\t\treturn (\r\n\t\t\t\t0.213 * this.channels.r +\r\n\t\t\t\t0.715 * this.channels.g +\r\n\t\t\t\t0.072 * this.channels.b\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toCanvas = function () {\r\n\t\t\treturn jsc.genColorPreviewCanvas(this.toRGBAString()).canvas;\r\n\t\t};\r\n\r\n\r\n\t\tthis.toDataURL = function () {\r\n\t\t\treturn this.toCanvas().toDataURL();\r\n\t\t};\r\n\r\n\r\n\t\tthis.toBackground = function () {\r\n\t\t\treturn jsc.pub.background(this.toRGBAString());\r\n\t\t};\r\n\r\n\r\n\t\tthis.isLight = function () {\r\n\t\t\treturn this.toGrayscale() > 255 / 2;\r\n\t\t};\r\n\r\n\r\n\t\tthis.hide = function () {\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tdetachPicker();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.show = function () {\r\n\t\t\tdrawPicker();\r\n\t\t};\r\n\r\n\r\n\t\tthis.redraw = function () {\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tdrawPicker();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.getFormat = function () {\r\n\t\t\treturn this._currentFormat;\r\n\t\t};\r\n\r\n\r\n\t\tthis._setFormat = function (format) {\r\n\t\t\tthis._currentFormat = format.toLowerCase();\r\n\t\t};\r\n\r\n\r\n\t\tthis.hasAlphaChannel = function () {\r\n\t\t\tif (this.alphaChannel === 'auto') {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthis.format.toLowerCase() === 'any' || // format can change on the fly (e.g. from hex to rgba), so let's consider the alpha channel enabled\r\n\t\t\t\t\tjsc.isAlphaFormat(this.getFormat()) || // the current format supports alpha channel\r\n\t\t\t\t\tthis.alpha !== undefined || // initial alpha value is set, so we're working with alpha channel\r\n\t\t\t\t\tthis.alphaElement !== undefined // the alpha value is redirected, so we're working with alpha channel\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn this.alphaChannel; // the alpha channel is explicitly set\r\n\t\t};\r\n\r\n\r\n\t\tthis.processValueInput = function (str) {\r\n\t\t\tif (!this.fromString(str)) {\r\n\t\t\t\t// could not parse the color value - let's just expose the current color\r\n\t\t\t\tthis.exposeColor();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.processAlphaInput = function (str) {\r\n\t\t\tif (!this.fromHSVA(null, null, null, parseFloat(str))) {\r\n\t\t\t\t// could not parse the alpha value - let's just expose the current color\r\n\t\t\t\tthis.exposeColor();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.exposeColor = function (flags) {\r\n\t\t\tvar colorStr = this.toString();\r\n\t\t\tvar fmt = this.getFormat();\r\n\r\n\t\t\t// reflect current color in data- attribute\r\n\t\t\tjsc.setDataAttr(this.targetElement, 'current-color', colorStr);\r\n\r\n\t\t\tif (!(flags & jsc.flags.leaveValue) && this.valueElement) {\r\n\t\t\t\tif (fmt === 'hex' || fmt === 'hexa') {\r\n\t\t\t\t\tif (!this.uppercase) { colorStr = colorStr.toLowerCase(); }\r\n\t\t\t\t\tif (!this.hash) { colorStr = colorStr.replace(/^#/, ''); }\r\n\t\t\t\t}\r\n\t\t\t\tthis.setValueElementValue(colorStr);\r\n\t\t\t}\r\n\r\n\t\t\tif (!(flags & jsc.flags.leaveAlpha) && this.alphaElement) {\r\n\t\t\t\tvar alphaVal = Math.round(this.channels.a * 100) / 100;\r\n\t\t\t\tthis.setAlphaElementValue(alphaVal);\r\n\t\t\t}\r\n\r\n\t\t\tif (!(flags & jsc.flags.leavePreview) && this.previewElement) {\r\n\t\t\t\tvar previewPos = null; // 'left' | 'right' (null -> fill the entire element)\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tjsc.isTextInput(this.previewElement) || // text input\r\n\t\t\t\t\t(jsc.isButton(this.previewElement) && !jsc.isButtonEmpty(this.previewElement)) // button with text\r\n\t\t\t\t) {\r\n\t\t\t\t\tpreviewPos = this.previewPosition;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setPreviewElementBg(this.toRGBAString());\r\n\t\t\t}\r\n\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tredrawPad();\r\n\t\t\t\tredrawSld();\r\n\t\t\t\tredrawASld();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.setPreviewElementBg = function (color) {\r\n\t\t\tif (!this.previewElement) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar position = null; // color preview position:  null | 'left' | 'right'\r\n\t\t\tvar width = null; // color preview width:  px | null = fill the entire element\r\n\t\t\tif (\r\n\t\t\t\tjsc.isTextInput(this.previewElement) || // text input\r\n\t\t\t\t(jsc.isButton(this.previewElement) && !jsc.isButtonEmpty(this.previewElement)) // button with text\r\n\t\t\t) {\r\n\t\t\t\tposition = this.previewPosition;\r\n\t\t\t\twidth = this.previewSize;\r\n\t\t\t}\r\n\r\n\t\t\tvar backgrounds = [];\r\n\r\n\t\t\tif (!color) {\r\n\t\t\t\t// there is no color preview to display -> let's remove any previous background image\r\n\t\t\t\tbackgrounds.push({\r\n\t\t\t\t\timage: 'none',\r\n\t\t\t\t\tposition: 'left top',\r\n\t\t\t\t\tsize: 'auto',\r\n\t\t\t\t\trepeat: 'no-repeat',\r\n\t\t\t\t\torigin: 'padding-box',\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// CSS gradient for background color preview\r\n\t\t\t\tbackgrounds.push({\r\n\t\t\t\t\timage: jsc.genColorPreviewGradient(\r\n\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\tposition,\r\n\t\t\t\t\t\twidth ? width - jsc.pub.previewSeparator.length : null\r\n\t\t\t\t\t),\r\n\t\t\t\t\tposition: 'left top',\r\n\t\t\t\t\tsize: 'auto',\r\n\t\t\t\t\trepeat: position ? 'repeat-y' : 'repeat',\r\n\t\t\t\t\torigin: 'padding-box',\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// data URL of generated PNG image with a gray transparency chessboard\r\n\t\t\t\tvar preview = jsc.genColorPreviewCanvas(\r\n\t\t\t\t\t'rgba(0,0,0,0)',\r\n\t\t\t\t\tposition ? {'left':'right', 'right':'left'}[position] : null,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t\tbackgrounds.push({\r\n\t\t\t\t\timage: 'url(\\'' + preview.canvas.toDataURL() + '\\')',\r\n\t\t\t\t\tposition: (position || 'left') + ' top',\r\n\t\t\t\t\tsize: preview.width + 'px ' + preview.height + 'px',\r\n\t\t\t\t\trepeat: position ? 'repeat-y' : 'repeat',\r\n\t\t\t\t\torigin: 'padding-box',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar bg = {\r\n\t\t\t\timage: [],\r\n\t\t\t\tposition: [],\r\n\t\t\t\tsize: [],\r\n\t\t\t\trepeat: [],\r\n\t\t\t\torigin: [],\r\n\t\t\t};\r\n\t\t\tfor (var i = 0; i < backgrounds.length; i += 1) {\r\n\t\t\t\tbg.image.push(backgrounds[i].image);\r\n\t\t\t\tbg.position.push(backgrounds[i].position);\r\n\t\t\t\tbg.size.push(backgrounds[i].size);\r\n\t\t\t\tbg.repeat.push(backgrounds[i].repeat);\r\n\t\t\t\tbg.origin.push(backgrounds[i].origin);\r\n\t\t\t}\r\n\r\n\t\t\t// set previewElement's background-images\r\n\t\t\tvar sty = {\r\n\t\t\t\t'background-image': bg.image.join(', '),\r\n\t\t\t\t'background-position': bg.position.join(', '),\r\n\t\t\t\t'background-size': bg.size.join(', '),\r\n\t\t\t\t'background-repeat': bg.repeat.join(', '),\r\n\t\t\t\t'background-origin': bg.origin.join(', '),\r\n\t\t\t};\r\n\t\t\tjsc.setStyle(this.previewElement, sty, this.forceStyle);\r\n\r\n\r\n\t\t\t// set/restore previewElement's padding\r\n\t\t\tvar padding = {\r\n\t\t\t\tleft: null,\r\n\t\t\t\tright: null,\r\n\t\t\t};\r\n\t\t\tif (position) {\r\n\t\t\t\tpadding[position] = (this.previewSize + this.previewPadding) + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tvar sty = {\r\n\t\t\t\t'padding-left': padding.left,\r\n\t\t\t\t'padding-right': padding.right,\r\n\t\t\t};\r\n\t\t\tjsc.setStyle(this.previewElement, sty, this.forceStyle, true);\r\n\t\t};\r\n\r\n\r\n\t\tthis.setValueElementValue = function (str) {\r\n\t\t\tif (this.valueElement) {\r\n\t\t\t\tif (jsc.nodeName(this.valueElement) === 'input') {\r\n\t\t\t\t\tthis.valueElement.value = str;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.valueElement.innerHTML = str;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.setAlphaElementValue = function (str) {\r\n\t\t\tif (this.alphaElement) {\r\n\t\t\t\tif (jsc.nodeName(this.alphaElement) === 'input') {\r\n\t\t\t\t\tthis.alphaElement.value = str;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.alphaElement.innerHTML = str;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis._processParentElementsInDOM = function () {\r\n\t\t\tif (this._parentElementsProcessed) { return; }\r\n\t\t\tthis._parentElementsProcessed = true;\r\n\r\n\t\t\tvar elm = this.targetElement;\r\n\t\t\tdo {\r\n\t\t\t\t// If the target element or one of its parent nodes has fixed position,\r\n\t\t\t\t// then use fixed positioning instead\r\n\t\t\t\tvar compStyle = jsc.getCompStyle(elm);\r\n\t\t\t\tif (compStyle.position && compStyle.position.toLowerCase() === 'fixed') {\r\n\t\t\t\t\tthis.fixed = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elm !== this.targetElement) {\r\n\t\t\t\t\t// Ensure to attach onParentScroll only once to each parent element\r\n\t\t\t\t\t// (multiple targetElements can share the same parent nodes)\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// Note: It's not just offsetParents that can be scrollable,\r\n\t\t\t\t\t// that's why we loop through all parent nodes\r\n\t\t\t\t\tif (!jsc.getData(elm, 'hasScrollListener')) {\r\n\t\t\t\t\t\telm.addEventListener('scroll', jsc.onParentScroll, false);\r\n\t\t\t\t\t\tjsc.setData(elm, 'hasScrollListener', true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} while ((elm = elm.parentNode) && jsc.nodeName(elm) !== 'body');\r\n\t\t};\r\n\r\n\r\n\t\tthis.tryHide = function () {\r\n\t\t\tif (this.hideOnLeave) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.set__palette = function (val) {\r\n\t\t\tthis.palette = val;\r\n\t\t\tthis._palette = jsc.parsePaletteValue(val);\r\n\t\t\tthis._paletteHasTransparency = jsc.containsTranparentColor(this._palette);\r\n\t\t};\r\n\r\n\r\n\t\tfunction setOption (option, value) {\r\n\t\t\tif (typeof option !== 'string') {\r\n\t\t\t\tthrow new Error('Invalid value for option name: ' + option);\r\n\t\t\t}\r\n\r\n\t\t\t// enum option\r\n\t\t\tif (jsc.enumOpts.hasOwnProperty(option)) {\r\n\t\t\t\tif (typeof value === 'string') { // enum string values are case insensitive\r\n\t\t\t\t\tvalue = value.toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t\tif (jsc.enumOpts[option].indexOf(value) === -1) {\r\n\t\t\t\t\tthrow new Error('Option \\'' + option + '\\' has invalid value: ' + value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// deprecated option\r\n\t\t\tif (jsc.deprecatedOpts.hasOwnProperty(option)) {\r\n\t\t\t\tvar oldOpt = option;\r\n\t\t\t\tvar newOpt = jsc.deprecatedOpts[option];\r\n\t\t\t\tif (newOpt) {\r\n\t\t\t\t\t// if we have a new name for this option, let's log a warning and use the new name\r\n\t\t\t\t\tconsole.warn('Option \\'%s\\' is DEPRECATED, using \\'%s\\' instead.' + jsc.docsRef, oldOpt, newOpt);\r\n\t\t\t\t\toption = newOpt;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// new name not available for the option\r\n\t\t\t\t\tthrow new Error('Option \\'' + option + '\\' is DEPRECATED');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar setter = 'set__' + option;\r\n\r\n\t\t\tif (typeof THIS[setter] === 'function') { // a setter exists for this option\r\n\t\t\t\tTHIS[setter](value);\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t} else if (option in THIS) { // option exists as a property\r\n\t\t\t\tTHIS[option] = value;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error('Unrecognized configuration option: ' + option);\r\n\t\t}\r\n\r\n\r\n\t\tfunction getOption (option) {\r\n\t\t\tif (typeof option !== 'string') {\r\n\t\t\t\tthrow new Error('Invalid value for option name: ' + option);\r\n\t\t\t}\r\n\r\n\t\t\t// deprecated option\r\n\t\t\tif (jsc.deprecatedOpts.hasOwnProperty(option)) {\r\n\t\t\t\tvar oldOpt = option;\r\n\t\t\t\tvar newOpt = jsc.deprecatedOpts[option];\r\n\t\t\t\tif (newOpt) {\r\n\t\t\t\t\t// if we have a new name for this option, let's log a warning and use the new name\r\n\t\t\t\t\tconsole.warn('Option \\'%s\\' is DEPRECATED, using \\'%s\\' instead.' + jsc.docsRef, oldOpt, newOpt);\r\n\t\t\t\t\toption = newOpt;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// new name not available for the option\r\n\t\t\t\t\tthrow new Error('Option \\'' + option + '\\' is DEPRECATED');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar getter = 'get__' + option;\r\n\r\n\t\t\tif (typeof THIS[getter] === 'function') { // a getter exists for this option\r\n\t\t\t\treturn THIS[getter](value);\r\n\r\n\t\t\t} else if (option in THIS) { // option exists as a property\r\n\t\t\t\treturn THIS[option];\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error('Unrecognized configuration option: ' + option);\r\n\t\t}\r\n\r\n\r\n\t\tfunction detachPicker () {\r\n\t\t\tjsc.removeClass(THIS.targetElement, jsc.pub.activeClassName);\r\n\t\t\tjsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\r\n\t\t\tdelete jsc.picker.owner;\r\n\t\t}\r\n\r\n\r\n\t\tfunction drawPicker () {\r\n\r\n\t\t\t// At this point, when drawing the picker, we know what the parent elements are\r\n\t\t\t// and we can do all related DOM operations, such as registering events on them\r\n\t\t\t// or checking their positioning\r\n\t\t\tTHIS._processParentElementsInDOM();\r\n\r\n\t\t\tif (!jsc.picker) {\r\n\t\t\t\tjsc.picker = {\r\n\t\t\t\t\towner: null, // owner picker instance\r\n\t\t\t\t\twrap : jsc.createEl('div'),\r\n\t\t\t\t\tbox : jsc.createEl('div'),\r\n\t\t\t\t\tboxS : jsc.createEl('div'), // shadow area\r\n\t\t\t\t\tboxB : jsc.createEl('div'), // border\r\n\t\t\t\t\tpad : jsc.createEl('div'),\r\n\t\t\t\t\tpadB : jsc.createEl('div'), // border\r\n\t\t\t\t\tpadM : jsc.createEl('div'), // mouse/touch area\r\n\t\t\t\t\tpadCanvas : jsc.createPadCanvas(),\r\n\t\t\t\t\tcross : jsc.createEl('div'),\r\n\t\t\t\t\tcrossBY : jsc.createEl('div'), // border Y\r\n\t\t\t\t\tcrossBX : jsc.createEl('div'), // border X\r\n\t\t\t\t\tcrossLY : jsc.createEl('div'), // line Y\r\n\t\t\t\t\tcrossLX : jsc.createEl('div'), // line X\r\n\t\t\t\t\tsld : jsc.createEl('div'), // slider\r\n\t\t\t\t\tsldB : jsc.createEl('div'), // border\r\n\t\t\t\t\tsldM : jsc.createEl('div'), // mouse/touch area\r\n\t\t\t\t\tsldGrad : jsc.createSliderGradient(),\r\n\t\t\t\t\tsldPtrS : jsc.createEl('div'), // slider pointer spacer\r\n\t\t\t\t\tsldPtrIB : jsc.createEl('div'), // slider pointer inner border\r\n\t\t\t\t\tsldPtrMB : jsc.createEl('div'), // slider pointer middle border\r\n\t\t\t\t\tsldPtrOB : jsc.createEl('div'), // slider pointer outer border\r\n\t\t\t\t\tasld : jsc.createEl('div'), // alpha slider\r\n\t\t\t\t\tasldB : jsc.createEl('div'), // border\r\n\t\t\t\t\tasldM : jsc.createEl('div'), // mouse/touch area\r\n\t\t\t\t\tasldGrad : jsc.createASliderGradient(),\r\n\t\t\t\t\tasldPtrS : jsc.createEl('div'), // slider pointer spacer\r\n\t\t\t\t\tasldPtrIB : jsc.createEl('div'), // slider pointer inner border\r\n\t\t\t\t\tasldPtrMB : jsc.createEl('div'), // slider pointer middle border\r\n\t\t\t\t\tasldPtrOB : jsc.createEl('div'), // slider pointer outer border\r\n\t\t\t\t\tpal : jsc.createEl('div'), // palette\r\n\t\t\t\t\tbtn : jsc.createEl('div'),\r\n\t\t\t\t\tbtnT : jsc.createEl('span'), // text\r\n\t\t\t\t};\r\n\r\n\t\t\t\tjsc.picker.pad.appendChild(jsc.picker.padCanvas.elm);\r\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.pad);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBY);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBX);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLY);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLX);\r\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.cross);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padM);\r\n\r\n\t\t\t\tjsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\r\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sld);\r\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\r\n\t\t\t\tjsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\r\n\t\t\t\tjsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\r\n\t\t\t\tjsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldM);\r\n\r\n\t\t\t\tjsc.picker.asld.appendChild(jsc.picker.asldGrad.elm);\r\n\t\t\t\tjsc.picker.asldB.appendChild(jsc.picker.asld);\r\n\t\t\t\tjsc.picker.asldB.appendChild(jsc.picker.asldPtrOB);\r\n\t\t\t\tjsc.picker.asldPtrOB.appendChild(jsc.picker.asldPtrMB);\r\n\t\t\t\tjsc.picker.asldPtrMB.appendChild(jsc.picker.asldPtrIB);\r\n\t\t\t\tjsc.picker.asldPtrIB.appendChild(jsc.picker.asldPtrS);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.asldB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.asldM);\r\n\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.pal);\r\n\r\n\t\t\t\tjsc.picker.btn.appendChild(jsc.picker.btnT);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.btn);\r\n\r\n\t\t\t\tjsc.picker.boxB.appendChild(jsc.picker.box);\r\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxS);\r\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxB);\r\n\r\n\t\t\t\tjsc.picker.wrap.addEventListener('touchstart', jsc.onPickerTouchStart,\r\n\t\t\t\t\tjsc.isPassiveEventSupported ? {passive: false} : false);\r\n\t\t\t}\r\n\r\n\t\t\tvar p = jsc.picker;\r\n\r\n\t\t\tvar displaySlider = !!jsc.getSliderChannel(THIS);\r\n\t\t\tvar displayAlphaSlider = THIS.hasAlphaChannel();\r\n\t\t\tvar pickerDims = jsc.getPickerDims(THIS);\r\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\tvar controlPadding = jsc.getControlPadding(THIS);\r\n\t\t\tvar borderRadius = Math.min(\r\n\t\t\t\tTHIS.borderRadius,\r\n\t\t\t\tMath.round(THIS.padding * Math.PI)); // px\r\n\t\t\tvar padCursor = 'crosshair';\r\n\r\n\t\t\t// wrap\r\n\t\t\tp.wrap.className = 'jscolor-picker-wrap';\r\n\t\t\tp.wrap.style.clear = 'both';\r\n\t\t\tp.wrap.style.width = pickerDims.borderW + 'px';\r\n\t\t\tp.wrap.style.height = pickerDims.borderH + 'px';\r\n\t\t\tp.wrap.style.zIndex = THIS.zIndex;\r\n\r\n\t\t\t// picker\r\n\t\t\tp.box.className = 'jscolor-picker';\r\n\t\t\tp.box.style.width = pickerDims.paddedW + 'px';\r\n\t\t\tp.box.style.height = pickerDims.paddedH + 'px';\r\n\t\t\tp.box.style.position = 'relative';\r\n\r\n\t\t\t// picker shadow\r\n\t\t\tp.boxS.className = 'jscolor-picker-shadow';\r\n\t\t\tp.boxS.style.position = 'absolute';\r\n\t\t\tp.boxS.style.left = '0';\r\n\t\t\tp.boxS.style.top = '0';\r\n\t\t\tp.boxS.style.width = '100%';\r\n\t\t\tp.boxS.style.height = '100%';\r\n\t\t\tjsc.setBorderRadius(p.boxS, borderRadius + 'px');\r\n\r\n\t\t\t// picker border\r\n\t\t\tp.boxB.className = 'jscolor-picker-border';\r\n\t\t\tp.boxB.style.position = 'relative';\r\n\t\t\tp.boxB.style.border = THIS.borderWidth + 'px solid';\r\n\t\t\tp.boxB.style.borderColor = THIS.borderColor;\r\n\t\t\tp.boxB.style.background = THIS.backgroundColor;\r\n\t\t\tjsc.setBorderRadius(p.boxB, borderRadius + 'px');\r\n\r\n\t\t\t// IE hack:\r\n\t\t\t// If the element is transparent, IE will trigger the event on the elements under it,\r\n\t\t\t// e.g. on Canvas or on elements with border\r\n\t\t\tp.padM.style.background = 'rgba(255,0,0,.2)';\r\n\t\t\tp.sldM.style.background = 'rgba(0,255,0,.2)';\r\n\t\t\tp.asldM.style.background = 'rgba(0,0,255,.2)';\r\n\r\n\t\t\tp.padM.style.opacity =\r\n\t\t\tp.sldM.style.opacity =\r\n\t\t\tp.asldM.style.opacity =\r\n\t\t\t\t'0';\r\n\r\n\t\t\t// pad\r\n\t\t\tp.pad.style.position = 'relative';\r\n\t\t\tp.pad.style.width = THIS.width + 'px';\r\n\t\t\tp.pad.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// pad - color spectrum (HSV and HVS)\r\n\t\t\tp.padCanvas.draw(THIS.width, THIS.height, jsc.getPadYChannel(THIS));\r\n\r\n\t\t\t// pad border\r\n\t\t\tp.padB.style.position = 'absolute';\r\n\t\t\tp.padB.style.left = THIS.padding + 'px';\r\n\t\t\tp.padB.style.top = THIS.padding + 'px';\r\n\t\t\tp.padB.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\tp.padB.style.borderColor = THIS.controlBorderColor;\r\n\r\n\t\t\t// pad mouse area\r\n\t\t\tp.padM.style.position = 'absolute';\r\n\t\t\tp.padM.style.left = 0 + 'px';\r\n\t\t\tp.padM.style.top = 0 + 'px';\r\n\t\t\tp.padM.style.width = (THIS.padding + 2 * THIS.controlBorderWidth + THIS.width + controlPadding) + 'px';\r\n\t\t\tp.padM.style.height = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\t\t\tp.padM.style.cursor = padCursor;\r\n\t\t\tjsc.setData(p.padM, {\r\n\t\t\t\tinstance: THIS,\r\n\t\t\t\tcontrol: 'pad',\r\n\t\t\t})\r\n\r\n\t\t\t// pad cross\r\n\t\t\tp.cross.style.position = 'absolute';\r\n\t\t\tp.cross.style.left =\r\n\t\t\tp.cross.style.top =\r\n\t\t\t\t'0';\r\n\t\t\tp.cross.style.width =\r\n\t\t\tp.cross.style.height =\r\n\t\t\t\tcrossOuterSize + 'px';\r\n\r\n\t\t\t// pad cross border Y and X\r\n\t\t\tp.crossBY.style.position =\r\n\t\t\tp.crossBX.style.position =\r\n\t\t\t\t'absolute';\r\n\t\t\tp.crossBY.style.background =\r\n\t\t\tp.crossBX.style.background =\r\n\t\t\t\tTHIS.pointerBorderColor;\r\n\t\t\tp.crossBY.style.width =\r\n\t\t\tp.crossBX.style.height =\r\n\t\t\t\t(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.crossBY.style.height =\r\n\t\t\tp.crossBX.style.width =\r\n\t\t\t\tcrossOuterSize + 'px';\r\n\t\t\tp.crossBY.style.left =\r\n\t\t\tp.crossBX.style.top =\r\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) - THIS.pointerBorderWidth) + 'px';\r\n\t\t\tp.crossBY.style.top =\r\n\t\t\tp.crossBX.style.left =\r\n\t\t\t\t'0';\r\n\r\n\t\t\t// pad cross line Y and X\r\n\t\t\tp.crossLY.style.position =\r\n\t\t\tp.crossLX.style.position =\r\n\t\t\t\t'absolute';\r\n\t\t\tp.crossLY.style.background =\r\n\t\t\tp.crossLX.style.background =\r\n\t\t\t\tTHIS.pointerColor;\r\n\t\t\tp.crossLY.style.height =\r\n\t\t\tp.crossLX.style.width =\r\n\t\t\t\t(crossOuterSize - 2 * THIS.pointerBorderWidth) + 'px';\r\n\t\t\tp.crossLY.style.width =\r\n\t\t\tp.crossLX.style.height =\r\n\t\t\t\tTHIS.pointerThickness + 'px';\r\n\t\t\tp.crossLY.style.left =\r\n\t\t\tp.crossLX.style.top =\r\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2)) + 'px';\r\n\t\t\tp.crossLY.style.top =\r\n\t\t\tp.crossLX.style.left =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px';\r\n\r\n\r\n\t\t\t// slider\r\n\t\t\tp.sld.style.overflow = 'hidden';\r\n\t\t\tp.sld.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.sld.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// slider gradient\r\n\t\t\tp.sldGrad.draw(THIS.sliderSize, THIS.height, '#000', '#000');\r\n\r\n\t\t\t// slider border\r\n\t\t\tp.sldB.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\tp.sldB.style.position = 'absolute';\r\n\t\t\tp.sldB.style.left = (THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + 2 * controlPadding) + 'px';\r\n\t\t\tp.sldB.style.top = THIS.padding + 'px';\r\n\t\t\tp.sldB.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\tp.sldB.style.borderColor = THIS.controlBorderColor;\r\n\r\n\t\t\t// slider mouse area\r\n\t\t\tp.sldM.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\tp.sldM.style.position = 'absolute';\r\n\t\t\tp.sldM.style.left = (THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + controlPadding) + 'px';\r\n\t\t\tp.sldM.style.top = 0 + 'px';\r\n\t\t\tp.sldM.style.width = (\r\n\t\t\t\t\t(THIS.sliderSize + 2 * controlPadding + 2 * THIS.controlBorderWidth) +\r\n\t\t\t\t\t(displayAlphaSlider ? 0 : Math.max(0, THIS.padding - controlPadding)) // remaining padding to the right edge\r\n\t\t\t\t) + 'px';\r\n\t\t\tp.sldM.style.height = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\t\t\tp.sldM.style.cursor = 'default';\r\n\t\t\tjsc.setData(p.sldM, {\r\n\t\t\t\tinstance: THIS,\r\n\t\t\t\tcontrol: 'sld',\r\n\t\t\t});\r\n\r\n\t\t\t// slider pointer inner and outer border\r\n\t\t\tp.sldPtrIB.style.border =\r\n\t\t\tp.sldPtrOB.style.border =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\r\n\r\n\t\t\t// slider pointer outer border\r\n\t\t\tp.sldPtrOB.style.position = 'absolute';\r\n\t\t\tp.sldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.sldPtrOB.style.top = '0';\r\n\r\n\t\t\t// slider pointer middle border\r\n\t\t\tp.sldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\r\n\r\n\t\t\t// slider pointer spacer\r\n\t\t\tp.sldPtrS.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.sldPtrS.style.height = jsc.pub.sliderInnerSpace + 'px';\r\n\r\n\r\n\t\t\t// alpha slider\r\n\t\t\tp.asld.style.overflow = 'hidden';\r\n\t\t\tp.asld.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.asld.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// alpha slider gradient\r\n\t\t\tp.asldGrad.draw(THIS.sliderSize, THIS.height, '#000');\r\n\r\n\t\t\t// alpha slider border\r\n\t\t\tp.asldB.style.display = displayAlphaSlider ? 'block' : 'none';\r\n\t\t\tp.asldB.style.position = 'absolute';\r\n\t\t\tp.asldB.style.left = (\r\n\t\t\t\t\t(THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + controlPadding) +\r\n\t\t\t\t\t(displaySlider ? (THIS.sliderSize + 3 * controlPadding + 2 * THIS.controlBorderWidth) : 0)\r\n\t\t\t\t) + 'px';\r\n\t\t\tp.asldB.style.top = THIS.padding + 'px';\r\n\t\t\tp.asldB.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\tp.asldB.style.borderColor = THIS.controlBorderColor;\r\n\r\n\t\t\t// alpha slider mouse area\r\n\t\t\tp.asldM.style.display = displayAlphaSlider ? 'block' : 'none';\r\n\t\t\tp.asldM.style.position = 'absolute';\r\n\t\t\tp.asldM.style.left = (\r\n\t\t\t\t\t(THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + controlPadding) +\r\n\t\t\t\t\t(displaySlider ? (THIS.sliderSize + 2 * controlPadding + 2 * THIS.controlBorderWidth) : 0)\r\n\t\t\t\t) + 'px';\r\n\t\t\tp.asldM.style.top = 0 + 'px';\r\n\t\t\tp.asldM.style.width = (\r\n\t\t\t\t\t(THIS.sliderSize + 2 * controlPadding + 2 * THIS.controlBorderWidth) +\r\n\t\t\t\t\tMath.max(0, THIS.padding - controlPadding) // remaining padding to the right edge\r\n\t\t\t\t) + 'px';\r\n\t\t\tp.asldM.style.height = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\t\t\tp.asldM.style.cursor = 'default';\r\n\t\t\tjsc.setData(p.asldM, {\r\n\t\t\t\tinstance: THIS,\r\n\t\t\t\tcontrol: 'asld',\r\n\t\t\t})\r\n\r\n\t\t\t// alpha slider pointer inner and outer border\r\n\t\t\tp.asldPtrIB.style.border =\r\n\t\t\tp.asldPtrOB.style.border =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\r\n\r\n\t\t\t// alpha slider pointer outer border\r\n\t\t\tp.asldPtrOB.style.position = 'absolute';\r\n\t\t\tp.asldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.asldPtrOB.style.top = '0';\r\n\r\n\t\t\t// alpha slider pointer middle border\r\n\t\t\tp.asldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\r\n\r\n\t\t\t// alpha slider pointer spacer\r\n\t\t\tp.asldPtrS.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.asldPtrS.style.height = jsc.pub.sliderInnerSpace + 'px';\r\n\r\n\r\n\t\t\t// palette\r\n\t\t\tp.pal.className = 'jscolor-palette';\r\n\t\t\tp.pal.style.display = pickerDims.palette.rows ? 'block' : 'none';\r\n\t\t\tp.pal.style.position = 'absolute';\r\n\t\t\tp.pal.style.left = THIS.padding + 'px';\r\n\t\t\tp.pal.style.top = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\r\n\t\t\t// palette's color samples\r\n\r\n\t\t\tp.pal.innerHTML = '';\r\n\r\n\t\t\tvar chessboard = jsc.genColorPreviewCanvas('rgba(0,0,0,0)');\r\n\r\n\t\t\tvar si = 0; // color sample's index\r\n\t\t\tfor (var r = 0; r < pickerDims.palette.rows; r++) {\r\n\t\t\t\tfor (var c = 0; c < pickerDims.palette.cols && si < THIS._palette.length; c++, si++) {\r\n\t\t\t\t\tvar sampleColor = THIS._palette[si];\r\n\t\t\t\t\tvar sampleCssColor = jsc.rgbaColor.apply(null, sampleColor.rgba);\r\n\r\n\t\t\t\t\tvar sc = jsc.createEl('div'); // color sample's color\r\n\t\t\t\t\tsc.style.width = (pickerDims.palette.cellW - 2 * THIS.controlBorderWidth) + 'px';\r\n\t\t\t\t\tsc.style.height = (pickerDims.palette.cellH - 2 * THIS.controlBorderWidth) + 'px';\r\n\t\t\t\t\tsc.style.backgroundColor = sampleCssColor;\r\n\r\n\t\t\t\t\tvar sw = jsc.createEl('div'); // color sample's wrap\r\n\t\t\t\t\tsw.className = 'jscolor-palette-sample';\r\n\t\t\t\t\tsw.style.display = 'block';\r\n\t\t\t\t\tsw.style.position = 'absolute';\r\n\t\t\t\t\tsw.style.left = (\r\n\t\t\t\t\t\t\tpickerDims.palette.cols <= 1 ? 0 :\r\n\t\t\t\t\t\t\tMath.round(10 * (c * ((pickerDims.contentW - pickerDims.palette.cellW) / (pickerDims.palette.cols - 1)))) / 10\r\n\t\t\t\t\t\t) + 'px';\r\n\t\t\t\t\tsw.style.top = (r * (pickerDims.palette.cellH + THIS.paletteSpacing)) + 'px';\r\n\t\t\t\t\tsw.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\t\t\tsw.style.borderColor = THIS.controlBorderColor;\r\n\t\t\t\t\tsw.style.cursor = 'pointer';\r\n\t\t\t\t\tif (sampleColor.rgba[3] !== null && sampleColor.rgba[3] < 1.0) { // only create chessboard background if the sample has transparency\r\n\t\t\t\t\t\tsw.style.backgroundImage = 'url(\\'' + chessboard.canvas.toDataURL() + '\\')';\r\n\t\t\t\t\t\tsw.style.backgroundRepeat = 'repeat';\r\n\t\t\t\t\t\tsw.style.backgroundPosition = 'center center';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tjsc.setData(sw, {\r\n\t\t\t\t\t\tinstance: THIS,\r\n\t\t\t\t\t\tcontrol: 'palette-sample',\r\n\t\t\t\t\t\tcolor: sampleColor,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsw.addEventListener('click', jsc.onPaletteSampleClick, false);\r\n\t\t\t\t\tsw.appendChild(sc);\r\n\t\t\t\t\tp.pal.appendChild(sw);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// the Close button\r\n\t\t\tfunction setBtnBorder () {\r\n\t\t\t\tvar insetColors = THIS.controlBorderColor.split(/\\s+/);\r\n\t\t\t\tvar outsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1];\r\n\t\t\t\tp.btn.style.borderColor = outsetColor;\r\n\t\t\t}\r\n\t\t\tvar btnPadding = 15; // px\r\n\t\t\tp.btn.className = 'jscolor-btn-close';\r\n\t\t\tp.btn.style.display = THIS.closeButton ? 'block' : 'none';\r\n\t\t\tp.btn.style.position = 'absolute';\r\n\t\t\tp.btn.style.left = THIS.padding + 'px';\r\n\t\t\tp.btn.style.bottom = THIS.padding + 'px';\r\n\t\t\tp.btn.style.padding = '0 ' + btnPadding + 'px';\r\n\t\t\tp.btn.style.maxWidth = (pickerDims.contentW - 2 * THIS.controlBorderWidth - 2 * btnPadding) + 'px';\r\n\t\t\tp.btn.style.overflow = 'hidden';\r\n\t\t\tp.btn.style.height = THIS.buttonHeight + 'px';\r\n\t\t\tp.btn.style.whiteSpace = 'nowrap';\r\n\t\t\tp.btn.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\tsetBtnBorder();\r\n\t\t\tp.btn.style.color = THIS.buttonColor;\r\n\t\t\tp.btn.style.font = '12px sans-serif';\r\n\t\t\tp.btn.style.textAlign = 'center';\r\n\t\t\tp.btn.style.cursor = 'pointer';\r\n\t\t\tp.btn.onmousedown = function () {\r\n\t\t\t\tTHIS.hide();\r\n\t\t\t};\r\n\t\t\tp.btnT.style.lineHeight = THIS.buttonHeight + 'px';\r\n\t\t\tp.btnT.innerHTML = '';\r\n\t\t\tp.btnT.appendChild(window.document.createTextNode(THIS.closeText));\r\n\r\n\t\t\t// reposition the pointers\r\n\t\t\tredrawPad();\r\n\t\t\tredrawSld();\r\n\t\t\tredrawASld();\r\n\r\n\t\t\t// If we are changing the owner without first closing the picker,\r\n\t\t\t// make sure to first deal with the old owner\r\n\t\t\tif (jsc.picker.owner && jsc.picker.owner !== THIS) {\r\n\t\t\t\tjsc.removeClass(jsc.picker.owner.targetElement, jsc.pub.activeClassName);\r\n\t\t\t}\r\n\r\n\t\t\t// Set a new picker owner\r\n\t\t\tjsc.picker.owner = THIS;\r\n\r\n\t\t\t// The redrawPosition() method needs picker.owner to be set, that's why we call it here,\r\n\t\t\t// after setting the owner\r\n\t\t\tif (THIS.container === window.document.body) {\r\n\t\t\t\tjsc.redrawPosition();\r\n\t\t\t} else {\r\n\t\t\t\tjsc._drawPosition(THIS, 0, 0, 'relative', false);\r\n\t\t\t}\r\n\r\n\t\t\tif (p.wrap.parentNode !== THIS.container) {\r\n\t\t\t\tTHIS.container.appendChild(p.wrap);\r\n\t\t\t}\r\n\r\n\t\t\tjsc.addClass(THIS.targetElement, jsc.pub.activeClassName);\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawPad () {\r\n\t\t\t// redraw the pad pointer\r\n\t\t\tvar yChannel = jsc.getPadYChannel(THIS);\r\n\t\t\tvar x = Math.round((THIS.channels.h / 360) * (THIS.width - 1));\r\n\t\t\tvar y = Math.round((1 - THIS.channels[yChannel] / 100) * (THIS.height - 1));\r\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\tvar ofs = -Math.floor(crossOuterSize / 2);\r\n\t\t\tjsc.picker.cross.style.left = (x + ofs) + 'px';\r\n\t\t\tjsc.picker.cross.style.top = (y + ofs) + 'px';\r\n\r\n\t\t\t// redraw the slider\r\n\t\t\tswitch (jsc.getSliderChannel(THIS)) {\r\n\t\t\tcase 's':\r\n\t\t\t\tvar rgb1 = jsc.HSV_RGB(THIS.channels.h, 100, THIS.channels.v);\r\n\t\t\t\tvar rgb2 = jsc.HSV_RGB(THIS.channels.h, 0, THIS.channels.v);\r\n\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb1[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb1[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb1[2]) + ')';\r\n\t\t\t\tvar color2 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb2[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb2[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb2[2]) + ')';\r\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'v':\r\n\t\t\t\tvar rgb = jsc.HSV_RGB(THIS.channels.h, THIS.channels.s, 100);\r\n\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb[2]) + ')';\r\n\t\t\t\tvar color2 = '#000';\r\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// redraw the alpha slider\r\n\t\t\tjsc.picker.asldGrad.draw(THIS.sliderSize, THIS.height, THIS.toHEXString());\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawSld () {\r\n\t\t\tvar sldChannel = jsc.getSliderChannel(THIS);\r\n\t\t\tif (sldChannel) {\r\n\t\t\t\t// redraw the slider pointer\r\n\t\t\t\tvar y = Math.round((1 - THIS.channels[sldChannel] / 100) * (THIS.height - 1));\r\n\t\t\t\tjsc.picker.sldPtrOB.style.top = (y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(jsc.pub.sliderInnerSpace / 2)) + 'px';\r\n\t\t\t}\r\n\r\n\t\t\t// redraw the alpha slider\r\n\t\t\tjsc.picker.asldGrad.draw(THIS.sliderSize, THIS.height, THIS.toHEXString());\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawASld () {\r\n\t\t\tvar y = Math.round((1 - THIS.channels.a) * (THIS.height - 1));\r\n\t\t\tjsc.picker.asldPtrOB.style.top = (y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(jsc.pub.sliderInnerSpace / 2)) + 'px';\r\n\t\t}\r\n\r\n\r\n\t\tfunction isPickerOwner () {\r\n\t\t\treturn jsc.picker && jsc.picker.owner === THIS;\r\n\t\t}\r\n\r\n\r\n\t\tfunction onValueKeyDown (ev) {\r\n\t\t\tif (jsc.eventKey(ev) === 'Enter') {\r\n\t\t\t\tif (THIS.valueElement) {\r\n\t\t\t\t\tTHIS.processValueInput(THIS.valueElement.value);\r\n\t\t\t\t}\r\n\t\t\t\tTHIS.tryHide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction onAlphaKeyDown (ev) {\r\n\t\t\tif (jsc.eventKey(ev) === 'Enter') {\r\n\t\t\t\tif (THIS.alphaElement) {\r\n\t\t\t\t\tTHIS.processAlphaInput(THIS.alphaElement.value);\r\n\t\t\t\t}\r\n\t\t\t\tTHIS.tryHide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction onValueChange (ev) {\r\n\t\t\tif (jsc.getData(ev, 'internal')) {\r\n\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t}\r\n\r\n\t\t\tvar oldVal = THIS.valueElement.value;\r\n\r\n\t\t\tTHIS.processValueInput(THIS.valueElement.value); // this might change the value\r\n\r\n\t\t\tjsc.triggerCallback(THIS, 'onChange');\r\n\r\n\t\t\tif (THIS.valueElement.value !== oldVal) {\r\n\t\t\t\t// value was additionally changed -> let's trigger the change event again, even though it was natively dispatched\r\n\t\t\t\tjsc.triggerInputEvent(THIS.valueElement, 'change', true, true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction onAlphaChange (ev) {\r\n\t\t\tif (jsc.getData(ev, 'internal')) {\r\n\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t}\r\n\r\n\t\t\tvar oldVal = THIS.alphaElement.value;\r\n\r\n\t\t\tTHIS.processAlphaInput(THIS.alphaElement.value); // this might change the value\r\n\r\n\t\t\tjsc.triggerCallback(THIS, 'onChange');\r\n\r\n\t\t\t// triggering valueElement's onChange (because changing alpha changes the entire color, e.g. with rgba format)\r\n\t\t\tjsc.triggerInputEvent(THIS.valueElement, 'change', true, true);\r\n\r\n\t\t\tif (THIS.alphaElement.value !== oldVal) {\r\n\t\t\t\t// value was additionally changed -> let's trigger the change event again, even though it was natively dispatched\r\n\t\t\t\tjsc.triggerInputEvent(THIS.alphaElement, 'change', true, true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction onValueInput (ev) {\r\n\t\t\tif (jsc.getData(ev, 'internal')) {\r\n\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t}\r\n\r\n\t\t\tif (THIS.valueElement) {\r\n\t\t\t\tTHIS.fromString(THIS.valueElement.value, jsc.flags.leaveValue);\r\n\t\t\t}\r\n\r\n\t\t\tjsc.triggerCallback(THIS, 'onInput');\r\n\r\n\t\t\t// triggering valueElement's onInput\r\n\t\t\t// (not needed, it was dispatched normally by the browser)\r\n\t\t}\r\n\r\n\r\n\t\tfunction onAlphaInput (ev) {\r\n\t\t\tif (jsc.getData(ev, 'internal')) {\r\n\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t}\r\n\r\n\t\t\tif (THIS.alphaElement) {\r\n\t\t\t\tTHIS.fromHSVA(null, null, null, parseFloat(THIS.alphaElement.value), jsc.flags.leaveAlpha);\r\n\t\t\t}\r\n\r\n\t\t\tjsc.triggerCallback(THIS, 'onInput');\r\n\r\n\t\t\t// triggering valueElement's onInput (because changing alpha changes the entire color, e.g. with rgba format)\r\n\t\t\tjsc.triggerInputEvent(THIS.valueElement, 'input', true, true);\r\n\t\t}\r\n\r\n\r\n\t\t// let's process the DEPRECATED 'options' property (this will be later removed)\r\n\t\tif (jsc.pub.options) {\r\n\t\t\t// let's set custom default options, if specified\r\n\t\t\tfor (var opt in jsc.pub.options) {\r\n\t\t\t\tif (jsc.pub.options.hasOwnProperty(opt)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsetOption(opt, jsc.pub.options[opt]);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t// let's apply configuration presets\r\n\t\t//\r\n\t\tvar presetsArr = [];\r\n\r\n\t\tif (opts.preset) {\r\n\t\t\tif (typeof opts.preset === 'string') {\r\n\t\t\t\tpresetsArr = opts.preset.split(/\\s+/);\r\n\t\t\t} else if (Array.isArray(opts.preset)) {\r\n\t\t\t\tpresetsArr = opts.preset.slice(); // slice() to clone\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn('Unrecognized preset value');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// always use the 'default' preset. If it's not listed, append it to the end.\r\n\t\tif (presetsArr.indexOf('default') === -1) {\r\n\t\t\tpresetsArr.push('default');\r\n\t\t}\r\n\r\n\t\t// let's apply the presets in reverse order, so that should there be any overlapping options,\r\n\t\t// the formerly listed preset will override the latter\r\n\t\tfor (var i = presetsArr.length - 1; i >= 0; i -= 1) {\r\n\t\t\tvar pres = presetsArr[i];\r\n\t\t\tif (!pres) {\r\n\t\t\t\tcontinue; // preset is empty string\r\n\t\t\t}\r\n\t\t\tif (!jsc.pub.presets.hasOwnProperty(pres)) {\r\n\t\t\t\tconsole.warn('Unknown preset: %s', pres);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tfor (var opt in jsc.pub.presets[pres]) {\r\n\t\t\t\tif (jsc.pub.presets[pres].hasOwnProperty(opt)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsetOption(opt, jsc.pub.presets[pres][opt]);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t// let's set specific options for this color picker\r\n\t\tvar nonProperties = [\r\n\t\t\t// these options won't be set as instance properties\r\n\t\t\t'preset',\r\n\t\t];\r\n\t\tfor (var opt in opts) {\r\n\t\t\tif (opts.hasOwnProperty(opt)) {\r\n\t\t\t\tif (nonProperties.indexOf(opt) === -1) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsetOption(opt, opts[opt]);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//\r\n\t\t// Install the color picker on chosen element(s)\r\n\t\t//\r\n\r\n\r\n\t\t// Determine picker's container element\r\n\t\tif (this.container === undefined) {\r\n\t\t\tthis.container = window.document.body; // default container is BODY element\r\n\r\n\t\t} else { // explicitly set to custom element\r\n\t\t\tthis.container = jsc.node(this.container);\r\n\t\t}\r\n\r\n\t\tif (!this.container) {\r\n\t\t\tthrow new Error('Cannot instantiate color picker without a container element');\r\n\t\t}\r\n\r\n\r\n\t\t// Fetch the target element\r\n\t\tthis.targetElement = jsc.node(targetElement);\r\n\r\n\t\tif (!this.targetElement) {\r\n\t\t\t// temporarily customized error message to help with migrating from versions prior to 2.2\r\n\t\t\tif (typeof targetElement === 'string' && /^[a-zA-Z][\\w:.-]*$/.test(targetElement)) {\r\n\t\t\t\t// targetElement looks like valid ID\r\n\t\t\t\tvar possiblyId = targetElement;\r\n\t\t\t\tthrow new Error('If \\'' + possiblyId + '\\' is supposed to be an ID, please use \\'#' + possiblyId + '\\' or any valid CSS selector.');\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error('Cannot instantiate color picker without a target element');\r\n\t\t}\r\n\r\n\t\tif (this.targetElement.jscolor && this.targetElement.jscolor instanceof jsc.pub) {\r\n\t\t\tthrow new Error('Color picker already installed on this element');\r\n\t\t}\r\n\r\n\r\n\t\t// link this instance with the target element\r\n\t\tthis.targetElement.jscolor = this;\r\n\t\tjsc.addClass(this.targetElement, jsc.pub.className);\r\n\r\n\t\t// register this instance\r\n\t\tjsc.instances.push(this);\r\n\r\n\r\n\t\t// if target is BUTTON\r\n\t\tif (jsc.isButton(this.targetElement)) {\r\n\r\n\t\t\tif (this.targetElement.type.toLowerCase() !== 'button') {\r\n\t\t\t\t// on buttons, always force type to be 'button', e.g. in situations the target <button> has no type\r\n\t\t\t\t// and thus defaults to 'submit' and would submit the form when clicked\r\n\t\t\t\tthis.targetElement.type = 'button';\r\n\t\t\t}\r\n\r\n\t\t\tif (jsc.isButtonEmpty(this.targetElement)) { // empty button\r\n\t\t\t\t// it is important to clear element's contents first.\r\n\t\t\t\t// if we're re-instantiating color pickers on DOM that has been modified by changing page's innerHTML,\r\n\t\t\t\t// we would keep adding more non-breaking spaces to element's content (because element's contents survive\r\n\t\t\t\t// innerHTML changes, but picker instances don't)\r\n\t\t\t\tjsc.removeChildren(this.targetElement);\r\n\r\n\t\t\t\t// let's insert a non-breaking space\r\n\t\t\t\tthis.targetElement.appendChild(window.document.createTextNode('\\xa0'));\r\n\r\n\t\t\t\t// set min-width = previewSize, if not already greater\r\n\t\t\t\tvar compStyle = jsc.getCompStyle(this.targetElement);\r\n\t\t\t\tvar currMinWidth = parseFloat(compStyle['min-width']) || 0;\r\n\t\t\t\tif (currMinWidth < this.previewSize) {\r\n\t\t\t\t\tjsc.setStyle(this.targetElement, {\r\n\t\t\t\t\t\t'min-width': this.previewSize + 'px',\r\n\t\t\t\t\t}, this.forceStyle);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Determine the value element\r\n\t\tif (this.valueElement === undefined) {\r\n\t\t\tif (jsc.isTextInput(this.targetElement)) {\r\n\t\t\t\t// for text inputs, default valueElement is targetElement\r\n\t\t\t\tthis.valueElement = this.targetElement;\r\n\t\t\t} else {\r\n\t\t\t\t// leave it undefined\r\n\t\t\t}\r\n\r\n\t\t} else if (this.valueElement === null) { // explicitly set to null\r\n\t\t\t// leave it null\r\n\r\n\t\t} else { // explicitly set to custom element\r\n\t\t\tthis.valueElement = jsc.node(this.valueElement);\r\n\t\t}\r\n\r\n\t\t// Determine the alpha element\r\n\t\tif (this.alphaElement) {\r\n\t\t\tthis.alphaElement = jsc.node(this.alphaElement);\r\n\t\t}\r\n\r\n\t\t// Determine the preview element\r\n\t\tif (this.previewElement === undefined) {\r\n\t\t\tthis.previewElement = this.targetElement; // default previewElement is targetElement\r\n\r\n\t\t} else if (this.previewElement === null) { // explicitly set to null\r\n\t\t\t// leave it null\r\n\r\n\t\t} else { // explicitly set to custom element\r\n\t\t\tthis.previewElement = jsc.node(this.previewElement);\r\n\t\t}\r\n\r\n\t\t// valueElement\r\n\t\tif (this.valueElement && jsc.isTextInput(this.valueElement)) {\r\n\r\n\t\t\t// If the value element has onInput event already set, we need to detach it and attach AFTER our listener.\r\n\t\t\t// otherwise the picker instance would still contain the old color when accessed from the onInput handler.\r\n\t\t\tvar valueElementOrigEvents = {\r\n\t\t\t\tonInput: this.valueElement.oninput\r\n\t\t\t};\r\n\t\t\tthis.valueElement.oninput = null;\r\n\r\n\t\t\tthis.valueElement.addEventListener('keydown', onValueKeyDown, false);\r\n\t\t\tthis.valueElement.addEventListener('change', onValueChange, false);\r\n\t\t\tthis.valueElement.addEventListener('input', onValueInput, false);\r\n\t\t\t// the original event listener must be attached AFTER our handler (to let it first set picker's color)\r\n\t\t\tif (valueElementOrigEvents.onInput) {\r\n\t\t\t\tthis.valueElement.addEventListener('input', valueElementOrigEvents.onInput, false);\r\n\t\t\t}\r\n\r\n\t\t\tthis.valueElement.setAttribute('autocomplete', 'off');\r\n\t\t\tthis.valueElement.setAttribute('autocorrect', 'off');\r\n\t\t\tthis.valueElement.setAttribute('autocapitalize', 'off');\r\n\t\t\tthis.valueElement.setAttribute('spellcheck', false);\r\n\t\t}\r\n\r\n\t\t// alphaElement\r\n\t\tif (this.alphaElement && jsc.isTextInput(this.alphaElement)) {\r\n\t\t\tthis.alphaElement.addEventListener('keydown', onAlphaKeyDown, false);\r\n\t\t\tthis.alphaElement.addEventListener('change', onAlphaChange, false);\r\n\t\t\tthis.alphaElement.addEventListener('input', onAlphaInput, false);\r\n\r\n\t\t\tthis.alphaElement.setAttribute('autocomplete', 'off');\r\n\t\t\tthis.alphaElement.setAttribute('autocorrect', 'off');\r\n\t\t\tthis.alphaElement.setAttribute('autocapitalize', 'off');\r\n\t\t\tthis.alphaElement.setAttribute('spellcheck', false);\r\n\t\t}\r\n\r\n\t\t// determine initial color value\r\n\t\t//\r\n\t\tvar initValue = 'FFFFFF';\r\n\r\n\t\tif (this.value !== undefined) {\r\n\t\t\tinitValue = this.value; // get initial color from the 'value' property\r\n\t\t} else if (this.valueElement && this.valueElement.value !== undefined) {\r\n\t\t\tinitValue = this.valueElement.value; // get initial color from valueElement's value\r\n\t\t}\r\n\r\n\t\t// determine initial alpha value\r\n\t\t//\r\n\t\tvar initAlpha = undefined;\r\n\r\n\t\tif (this.alpha !== undefined) {\r\n\t\t\tinitAlpha = (''+this.alpha); // get initial alpha value from the 'alpha' property\r\n\t\t} else if (this.alphaElement && this.alphaElement.value !== undefined) {\r\n\t\t\tinitAlpha = this.alphaElement.value; // get initial color from alphaElement's value\r\n\t\t}\r\n\r\n\t\t// determine current format based on the initial color value\r\n\t\t//\r\n\t\tthis._currentFormat = null;\r\n\r\n\t\tif (['auto', 'any'].indexOf(this.format.toLowerCase()) > -1) {\r\n\t\t\t// format is 'auto' or 'any' -> let's auto-detect current format\r\n\t\t\tvar color = jsc.parseColorString(initValue);\r\n\t\t\tthis._currentFormat = color ? color.format : 'hex';\r\n\t\t} else {\r\n\t\t\t// format is specified\r\n\t\t\tthis._currentFormat = this.format.toLowerCase();\r\n\t\t}\r\n\r\n\r\n\t\t// let's parse the initial color value and expose color's preview\r\n\t\tthis.processValueInput(initValue);\r\n\r\n\t\t// let's also parse and expose the initial alpha value, if any\r\n\t\t//\r\n\t\t// Note: If the initial color value contains alpha value in it (e.g. in rgba format),\r\n\t\t// this will overwrite it. So we should only process alpha input if there was any initial\r\n\t\t// alpha explicitly set, otherwise we could needlessly lose initial value's alpha\r\n\t\tif (initAlpha !== undefined) {\r\n\t\t\tthis.processAlphaInput(initAlpha);\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n\r\n//================================\r\n// Public properties and methods\r\n//================================\r\n\r\n//\r\n// These will be publicly available via jscolor.<name> and JSColor.<name>\r\n//\r\n\r\n\r\n// class that will be set to elements having jscolor installed on them\r\njsc.pub.className = 'jscolor';\r\n\r\n\r\n// class that will be set to elements having jscolor active on them\r\njsc.pub.activeClassName = 'jscolor-active';\r\n\r\n\r\n// whether to try to parse the options string by evaluating it using 'new Function()'\r\n// in case it could not be parsed with JSON.parse()\r\njsc.pub.looseJSON = true;\r\n\r\n\r\n// presets\r\njsc.pub.presets = {};\r\n\r\n// built-in presets\r\njsc.pub.presets['default'] = {}; // baseline for customization\r\n\r\njsc.pub.presets['light'] = { // default color scheme\r\n\tbackgroundColor: 'rgba(255,255,255,1)',\r\n\tcontrolBorderColor: 'rgba(187,187,187,1)',\r\n\tbuttonColor: 'rgba(0,0,0,1)',\r\n};\r\njsc.pub.presets['dark'] = {\r\n\tbackgroundColor: 'rgba(51,51,51,1)',\r\n\tcontrolBorderColor: 'rgba(153,153,153,1)',\r\n\tbuttonColor: 'rgba(240,240,240,1)',\r\n};\r\n\r\njsc.pub.presets['small'] = { width:101, height:101, padding:10, sliderSize:14, paletteCols:8 };\r\njsc.pub.presets['medium'] = { width:181, height:101, padding:12, sliderSize:16, paletteCols:10 }; // default size\r\njsc.pub.presets['large'] = { width:271, height:151, padding:12, sliderSize:24, paletteCols:15 };\r\n\r\njsc.pub.presets['thin'] = { borderWidth:1, controlBorderWidth:1, pointerBorderWidth:1 }; // default thickness\r\njsc.pub.presets['thick'] = { borderWidth:2, controlBorderWidth:2, pointerBorderWidth:2 };\r\n\r\n\r\n// size of space in the sliders\r\njsc.pub.sliderInnerSpace = 3; // px\r\n\r\n// transparency chessboard\r\njsc.pub.chessboardSize = 8; // px\r\njsc.pub.chessboardColor1 = '#666666';\r\njsc.pub.chessboardColor2 = '#999999';\r\n\r\n// preview separator\r\njsc.pub.previewSeparator = ['rgba(255,255,255,.65)', 'rgba(128,128,128,.65)'];\r\n\r\n\r\n// Initializes jscolor\r\njsc.pub.init = function () {\r\n\tif (jsc.initialized) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// attach some necessary handlers\r\n\twindow.document.addEventListener('mousedown', jsc.onDocumentMouseDown, false);\r\n\twindow.document.addEventListener('keyup', jsc.onDocumentKeyUp, false);\r\n\twindow.addEventListener('resize', jsc.onWindowResize, false);\r\n\twindow.addEventListener('scroll', jsc.onWindowScroll, false);\r\n\r\n\t// install jscolor on current DOM\r\n\tjsc.pub.install();\r\n\r\n\tjsc.initialized = true;\r\n\r\n\t// call functions waiting in the queue\r\n\twhile (jsc.readyQueue.length) {\r\n\t\tvar func = jsc.readyQueue.shift();\r\n\t\tfunc();\r\n\t}\r\n};\r\n\r\n\r\n// Installs jscolor on current DOM tree\r\njsc.pub.install = function (rootNode) {\r\n\tvar success = true;\r\n\r\n\ttry {\r\n\t\tjsc.installBySelector('[data-jscolor]', rootNode);\r\n\t} catch (e) {\r\n\t\tsuccess = false;\r\n\t\tconsole.warn(e);\r\n\t}\r\n\r\n\t// for backward compatibility with DEPRECATED installation using class name\r\n\tif (jsc.pub.lookupClass) {\r\n\t\ttry {\r\n\t\t\tjsc.installBySelector(\r\n\t\t\t\t(\r\n\t\t\t\t\t'input.' + jsc.pub.lookupClass + ', ' +\r\n\t\t\t\t\t'button.' + jsc.pub.lookupClass\r\n\t\t\t\t),\r\n\t\t\t\trootNode\r\n\t\t\t);\r\n\t\t} catch (e) {}\r\n\t}\r\n\r\n\treturn success;\r\n};\r\n\r\n\r\n// Registers function to be called as soon as jscolor is initialized (or immediately, if it already is).\r\n//\r\njsc.pub.ready = function (func) {\r\n\tif (typeof func !== 'function') {\r\n\t\tconsole.warn('Passed value is not a function');\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (jsc.initialized) {\r\n\t\tfunc();\r\n\t} else {\r\n\t\tjsc.readyQueue.push(func);\r\n\t}\r\n\treturn true;\r\n};\r\n\r\n\r\n// Triggers given input event(s) (e.g. 'input' or 'change') on all color pickers.\r\n//\r\n// It is possible to specify multiple events separated with a space.\r\n// If called before jscolor is initialized, then the events will be triggered after initialization.\r\n//\r\njsc.pub.trigger = function (eventNames) {\r\n\tvar triggerNow = function () {\r\n\t\tjsc.triggerGlobal(eventNames);\r\n\t};\r\n\r\n\tif (jsc.initialized) {\r\n\t\ttriggerNow();\r\n\t} else {\r\n\t\tjsc.pub.ready(triggerNow);\r\n\t}\r\n};\r\n\r\n\r\n// Hides current color picker box\r\njsc.pub.hide = function () {\r\n\tif (jsc.picker && jsc.picker.owner) {\r\n\t\tjsc.picker.owner.hide();\r\n\t}\r\n};\r\n\r\n\r\n// Returns a data URL of a gray chessboard image that indicates transparency\r\njsc.pub.chessboard = function (color) {\r\n\tif (!color) {\r\n\t\tcolor = 'rgba(0,0,0,0)';\r\n\t}\r\n\tvar preview = jsc.genColorPreviewCanvas(color);\r\n\treturn preview.canvas.toDataURL();\r\n};\r\n\r\n\r\n// Returns a data URL of a gray chessboard image that indicates transparency\r\njsc.pub.background = function (color) {\r\n\tvar backgrounds = [];\r\n\r\n\t// CSS gradient for background color preview\r\n\tbackgrounds.push(jsc.genColorPreviewGradient(color));\r\n\r\n\t// data URL of generated PNG image with a gray transparency chessboard\r\n\tvar preview = jsc.genColorPreviewCanvas();\r\n\tbackgrounds.push([\r\n\t\t'url(\\'' + preview.canvas.toDataURL() + '\\')',\r\n\t\t'left top',\r\n\t\t'repeat',\r\n\t].join(' '));\r\n\r\n\treturn backgrounds.join(', ');\r\n};\r\n\r\n\r\n//\r\n// DEPRECATED properties and methods\r\n//\r\n\r\n\r\n// DEPRECATED. Use jscolor.presets.default instead.\r\n//\r\n// Custom default options for all color pickers, e.g. { hash: true, width: 300 }\r\njsc.pub.options = {};\r\n\r\n\r\n// DEPRECATED. Use data-jscolor attribute instead, which installs jscolor on given element.\r\n//\r\n// By default, we'll search for all elements with class=\"jscolor\" and install a color picker on them.\r\n//\r\n// You can change what class name will be looked for by setting the property jscolor.lookupClass\r\n// anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\r\n//\r\njsc.pub.lookupClass = 'jscolor';\r\n\r\n\r\n// DEPRECATED. Use data-jscolor attribute instead, which installs jscolor on given element.\r\n//\r\n// Install jscolor on all elements that have the specified class name\r\njsc.pub.installByClassName = function () {\r\n\tconsole.error('jscolor.installByClassName() is DEPRECATED. Use data-jscolor=\"\" attribute instead of a class name.' + jsc.docsRef);\r\n\treturn false;\r\n};\r\n\r\n\r\njsc.register();\r\n\r\n\r\nreturn jsc.pub;\r\n\r\n\r\n})(); // END jscolor\r\n\r\n\r\nif (typeof window.jscolor === 'undefined') {\r\n\twindow.jscolor = window.JSColor = jscolor;\r\n}\r\n\r\n\r\n// END jscolor code\r\n\r\nreturn jscolor;\r\n\r\n}); // END factory\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * Main draw loop\n */\nexport default function drawLoop() {}\n","/**\n * Short description of the mod\n */\nconst modDescription = `<a href=\"https://github.com/CookieMonsterTeam\" target=\"blank\">Cookie Monster Team</a>\noffers a suite of tools to enhance your game experience.</br>\nOriginally known from our work on the Cookie Monster add-on we are now expanding and working on new tools within the Cookie Monster Mod Family.</br>\nKeep an eye on our GitHub to see future work or use it to report bugs or feature requests!</br>\n`;\n\nexport default modDescription;\n","/**\n * This function saves the settings and headers within the Framework without saving any of the other save-data\n * This allows saving in between the autosave intervals\n */\nexport default function saveFramework() {\n  Object.keys(Game.mods.cookieMonsterFramework.saveData).forEach((modName) => {\n    const modSaveString = JSON.stringify(Game.mods.cookieMonsterFramework.saveData[modName]);\n\n    const cookieClickerSaveString = b64_to_utf8(\n      unescape(localStorage.getItem('CookieClickerGame')).split('!END!')[0],\n    );\n    const pattern = new RegExp(`${modName}.*(;|$)`);\n    const modSave = cookieClickerSaveString.match(pattern);\n    if (modSave !== null) {\n      const newSaveString = cookieClickerSaveString.replace(\n        modSave[0],\n        `${modName}:${modSaveString}`,\n      );\n      localStorage.setItem('CookieClickerGame', escape(`${utf8_to_b64(newSaveString)}!END!`));\n    }\n  });\n}\n","import saveFramework from '../saveDataFunctions/saveFramework';\n\n/**\n * This function toggles header options by incrementing them with 1 and handling changes\n * It is called by the onclick event of the +/- next to headers\n * @param \t{string}\tconfig\tThe name of the header\n */\nexport default function toggleHeader(modName, headerName) {\n  if (\n    typeof Game.mods.cookieMonsterFramework.saveData[modName].headers[headerName] === 'undefined'\n  ) {\n    Game.mods.cookieMonsterFramework.saveData[modName].headers[headerName] = 1;\n  }\n  switch (Game.mods.cookieMonsterFramework.saveData[modName].headers[headerName]) {\n    case 0:\n      Game.mods.cookieMonsterFramework.saveData[modName].headers[headerName] = 1;\n      break;\n    default:\n      Game.mods.cookieMonsterFramework.saveData[modName].headers[headerName] = 0;\n      break;\n  }\n  saveFramework();\n}\n","import modDescription from '../../data/modInfo';\nimport toggleHeader from '../../../menuFunctions/toggleHeader';\n/**\n * Add things to the Info menu\n * @returns {object}  frameworkInfoDiv  Subsection to which other mods can add their info sections\n */\nexport default function createFrameworkInfoMenuSection() {\n  const frameworkInfoDiv = document.createElement('div');\n  frameworkInfoDiv.className = 'subsection';\n  frameworkInfoDiv.id = 'cookieMonsterFrameworkMenuSection';\n\n  const titleDiv = document.createElement('div');\n  titleDiv.className = 'title';\n  titleDiv.innerHTML = 'Cookie Monster Mod Family';\n\n  const buttonSpan = document.createElement('span');\n  buttonSpan.style.cursor = 'pointer';\n  buttonSpan.style.display = 'inline-block';\n  buttonSpan.style.height = '14px';\n  buttonSpan.style.width = '14px';\n  buttonSpan.style.borderRadius = '7px';\n  buttonSpan.style.textAlign = 'center';\n  buttonSpan.style.backgroundColor = '#C0C0C0';\n  buttonSpan.style.color = 'black';\n  buttonSpan.style.fontSize = '13px';\n  buttonSpan.style.verticalAlign = 'middle';\n  buttonSpan.textContent = Game.mods.cookieMonsterFramework.saveData.cookieMonsterFramework.headers\n    .infoMenu\n    ? '-'\n    : '+';\n  buttonSpan.onclick = function () {\n    toggleHeader('cookieMonsterFramework', 'infoMenu');\n    Game.UpdateMenu();\n  };\n  titleDiv.appendChild(buttonSpan);\n\n  frameworkInfoDiv.appendChild(titleDiv);\n\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterFramework.headers.infoMenu) {\n    const descriptionDiv = document.createElement('div');\n    descriptionDiv.className = 'listing';\n    descriptionDiv.innerHTML = modDescription;\n    frameworkInfoDiv.appendChild(descriptionDiv);\n  }\n\n  return frameworkInfoDiv;\n}\n","import createFrameworkInfoMenuSection from './createFrameworkInfoMenuSection';\n/**\n * Add things to the Info menu\n * The listeners.infoMenu objects contains functions which create <div>'s to add to the menu section\n */\nexport default function addInfoMenuSection() {\n  const menu = l('menu').children[1];\n  menu.insertBefore(createFrameworkInfoMenuSection(), menu.children[1]);\n\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterFramework.headers.infoMenu) {\n    const listeners = Game.mods.cookieMonsterFramework.listeners.infoMenu;\n    for (let i = 0; i < listeners.length; i++) {\n      l('cookieMonsterFrameworkMenuSection').appendChild(listeners[i]());\n    }\n  }\n}\n","import toggleHeader from '../../../menuFunctions/toggleHeader';\n\n/**\n * Add things to the Options menu\n */\nexport default function addOptionsMenuSection() {\n  const modOptionsDiv = document.createElement('div');\n  modOptionsDiv.className = 'subsection';\n  modOptionsDiv.id = 'cookieMonsterOptionsDiv';\n\n  const titleDiv = document.createElement('div');\n  titleDiv.className = 'title';\n  titleDiv.innerHTML = 'Cookie Monster Mod Family';\n\n  const buttonSpan = document.createElement('span');\n  buttonSpan.style.cursor = 'pointer';\n  buttonSpan.style.display = 'inline-block';\n  buttonSpan.style.height = '14px';\n  buttonSpan.style.width = '14px';\n  buttonSpan.style.borderRadius = '7px';\n  buttonSpan.style.textAlign = 'center';\n  buttonSpan.style.backgroundColor = '#C0C0C0';\n  buttonSpan.style.color = 'black';\n  buttonSpan.style.fontSize = '13px';\n  buttonSpan.style.verticalAlign = 'middle';\n  buttonSpan.textContent = Game.mods.cookieMonsterFramework.saveData.cookieMonsterFramework.headers\n    .optionsMenu\n    ? '-'\n    : '+';\n  buttonSpan.onclick = function () {\n    toggleHeader('cookieMonsterFramework', 'optionsMenu');\n    Game.UpdateMenu();\n  };\n  titleDiv.appendChild(buttonSpan);\n\n  modOptionsDiv.appendChild(titleDiv);\n\n  const subMenuLength = l('menu').children[2].children.length - 1;\n  l('menu').children[2].insertBefore(modOptionsDiv, l('menu').children[2].children[subMenuLength]);\n}\n","import addInfoMenuSection from './info/addInfoMenuSection';\nimport addOptionMenuSection from './options/addOptionsMenuSection';\n\n/**\n * Call the function to add a Menu based on the current menu\n * @param {MutationObserver}  The observer object that is listening to DOM-changes of id='menu'\n */\nexport default function addMenu(_, observer) {\n  // Disconnect observer to avoid infinite loop\n  observer.disconnect();\n\n  if (Game.onMenu === 'log') {\n    addInfoMenuSection();\n  } else if (Game.onMenu === 'prefs') {\n    addOptionMenuSection();\n  }\n\n  // Reconnect observer to monitor changes\n  observer.observe(document.getElementById('menu'), {\n    attributes: true,\n    childList: true,\n    subtree: true,\n  });\n}\n","import drawLoop from './draw/drawLoop';\nimport addMenu from './menuSections/addMenu';\n\n/**\n * This creates a init function for the CM object. Per Game code/comments:\n * \"this function is called as soon as the mod is registered\n * declare hooks here\"\n * It starts the further initialization of CookieMonster and registers hooks\n */\nexport default function init() {\n  // Create Data object in global scope\n  window.cookieMonsterFrameworkData = {};\n\n  // Create MutationObserver for menu sections\n  const observer = new MutationObserver(addMenu);\n  observer.observe(document.getElementById('menu'), {\n    attributes: true,\n    childList: true,\n    subtree: true,\n  });\n\n  // Register hooks\n  Game.registerHook('draw', drawLoop);\n}\n","/**\n * Creates the save data object to be stored\n * @param   {object}    saveData      The loaded save data\n * @param   {object}    settingsData  The data containing default values of settings\n * @param   {object}    headersData   The data containing default values of headers\n */\nexport default function createSaveDataObject(saveData, settingsData, headersData) {\n  const modSaveData = {};\n\n  const settingsObject = {};\n  Object.keys(settingsData).forEach((i) => {\n    if (typeof saveData.settings === 'undefined' || typeof saveData.settings[i] === 'undefined') {\n      settingsObject[i] = settingsData[i].defaultValue; // eslint-disable-line prefer-destructuring\n    } else {\n      settingsObject[i] = saveData.settings[i];\n    }\n  });\n  modSaveData.settings = settingsObject;\n\n  const headersObject = {};\n  Object.keys(headersData).forEach((i) => {\n    if (typeof saveData.headers === 'undefined' || typeof saveData.headers[i] === 'undefined') {\n      headersObject[i] = headersData[i];\n    } else {\n      headersObject[i] = saveData.headers[i];\n    }\n  });\n  modSaveData.headers = headersObject;\n\n  Object.keys(saveData).forEach((key) => {\n    if (key !== 'settings' && key !== 'headers') {\n      modSaveData[key] = saveData[key];\n    }\n  });\n  return modSaveData;\n}\n","import createSaveDataObject from './createSaveDataObject';\nimport saveFramework from './saveFramework';\n\n/**\n * Load the data from a save-file into a mod\n * @param   {string}    modName       The name of the mode to be saved\n * @param   {string}    saveData      JSON-string of the save data\n * @param   {object}    settingsData  The data containing default values of settings\n * @param   {object}    headersData   The data containing default values of headers\n * @param   {Function}  logicLoop     The logic-loop of the mod\n */\nexport default function loadMod(modName, saveData, settingsData, headersData, logicLoop) {\n  const saveDataObject = JSON.parse(saveData);\n  Game.mods.cookieMonsterFramework.saveData[modName] = createSaveDataObject(\n    saveDataObject,\n    settingsData,\n    headersData,\n  );\n  saveFramework();\n  logicLoop();\n  Object.keys(Game.mods.cookieMonsterFramework.saveData[modName].settings).forEach((i) => {\n    if (typeof settingsData[i].func !== 'undefined') {\n      settingsData[i].func();\n    }\n  });\n  Game.UpdateMenu();\n}\n","/** This includes all headers of the Cookie Monster Framework and their relevant data */\nconst headers = { infoMenu: 1, optionsMenu: 1 };\nexport default headers;\n","/** This includes all options of the Cookie Monster Framework and their relevant data */\nconst settings = {};\nexport default settings;\n","/**\n * Main logic loop\n */\nexport default function logicLoop() {}\n","import loadMod from '../saveDataFunctions/loadMod';\nimport headers from './data/headers';\nimport settings from './data/settings';\nimport logicLoop from './logic/logicLoop';\n\n/**\n * This creates a load function to the CM object. Per Game code/comments:\n * \"do stuff with the string data you saved previously\"\n * @param   {string}    JSON string of save-data\n */\nexport default function load(str) {\n  loadMod('cookieMonsterFramework', str, settings, headers, logicLoop);\n}\n","/**\n * This creates a save function to the CM object. Per Game code/comments:\n * \"use this to store persistent data associated with your mod\n * return 'a string to be saved';\"\n * @returns {string}    The data to be saved\n */\nexport default function save() {\n  return JSON.stringify(Game.mods.cookieMonsterFramework.saveData.cookieMonsterFramework);\n}\n","import init from './init';\nimport load from './load';\nimport save from './save';\n\n/** The mod object to be registered with the Modding API */\nconst cookieMonsterFramework = {\n  init,\n  load,\n  save,\n  listeners: {\n    infoMenu: [],\n  },\n  saveData: { cookieMonsterFramework: { headers: {}, settings: {} } },\n};\n\nexport default cookieMonsterFramework;\n","import cookieMonsterFramework from '../frameworkDataObject/cookieMonsterFramework';\n\n/** Check if Cookie Monster Mod Framework has been loaded yet and if not, does so */\nexport default function initModFramework() {\n  if (typeof cookieMonsterFrameworkData === 'undefined') {\n    Game.registerMod('cookieMonsterFramework', cookieMonsterFramework);\n  }\n}\n","/**\n * Adds the mod to the saveData object to store Settings and Headers\n */\nexport default function registerMod(modName) {\n  Game.mods.cookieMonsterFramework.saveData[modName] = { settings: {}, headers: {} };\n}\n","/**\n * Returns a subsection for the mod to add listings/info to\n * @param   {string}  listingHTML   The innerHTML of the listing\n * @returns {object}  listingDiv    Div of the subseciont\n */\nexport default function createInfoListing(listingHTML) {\n  const listingDiv = document.createElement('div');\n  listingDiv.className = 'listing';\n  listingDiv.innerHTML = listingHTML;\n  return listingDiv;\n}\n","import toggleHeader from './toggleHeader';\n\n/**\n * Returns a subsection for the mod to add listings/info to\n * @param   {string}  modName         The name of the mod (i.e., CookieMonster)\n * @param   {string}  modDisplayName  Display name of the mod (i.e., Cookie Monster)\n * @param   {string}  menuName        Name of the menu (i.e., Info, Options)\n * @returns {object}  modSectionDiv   Div of the subseciont\n */\nexport default function createModMenuSection(modName, modDisplayName, menuName) {\n  const modSectionDiv = document.createElement('div');\n  modSectionDiv.className = 'subsection';\n  modSectionDiv.id = `${modName}MenuSection`;\n\n  const titleDiv = document.createElement('div');\n  titleDiv.className = 'title';\n  titleDiv.style.fontSize = '18px';\n  titleDiv.innerHTML = modDisplayName;\n\n  const buttonSpan = document.createElement('span'); // Creates the +/- button\n  buttonSpan.style.cursor = 'pointer';\n  buttonSpan.style.display = 'inline-block';\n  buttonSpan.style.height = '14px';\n  buttonSpan.style.width = '14px';\n  buttonSpan.style.borderRadius = '7px';\n  buttonSpan.style.textAlign = 'center';\n  buttonSpan.style.backgroundColor = '#C0C0C0';\n  buttonSpan.style.color = 'black';\n  buttonSpan.style.fontSize = '13px';\n  buttonSpan.style.verticalAlign = 'middle';\n  buttonSpan.textContent = Game.mods.cookieMonsterFramework.saveData[modName].headers[menuName]\n    ? '-'\n    : '+';\n  buttonSpan.onclick = function () {\n    toggleHeader(modName, menuName);\n    Game.UpdateMenu();\n  };\n\n  titleDiv.appendChild(buttonSpan);\n\n  modSectionDiv.appendChild(titleDiv);\n\n  return modSectionDiv;\n}\n","import initModFramework from './initFunctions/initModFramework';\nimport registerMod from './initFunctions/registerMod';\nimport createInfoListing from './menuFunctions/createInfoListing';\nimport createModMenuSection from './menuFunctions/createModMenuSection';\nimport toggleHeader from './menuFunctions/toggleHeader';\nimport loadMod from './saveDataFunctions/loadMod';\nimport saveFramework from './saveDataFunctions/saveFramework';\n\nexport const initFunctions = {\n  initModFramework,\n  registerMod,\n};\nexport const menuFunctions = {\n  createInfoListing,\n  createModMenuSection,\n  toggleHeader,\n};\nexport const optionFunctions = {};\n\nexport const saveFunctions = {\n  loadMod,\n  saveFramework,\n};\n","/** Data related directly to Cookie Monster */\n\nexport const VersionMajor = '2.031';\nexport const VersionMinor = '9';\n\n/** Information about Cookie Monster to be displayed in the info section */\nexport const ModDescription = `<a href=\"https://github.com/CookieMonsterTeam/CookieMonster\" target=\"blank\">Cookie Monster</a>\n offers a wide range of tools and statistics to enhance your game experience.\n It is not a cheat interface  although it does offer helpers for golden cookies and such, everything can be toggled off at will to only leave how much information you want.</br>\n Progess on new updates and all previous release notes can be found on the GitHub page linked above!</br>\n Please also report any bugs you may find over there!</br>\n `;\n\n/** Latest releasenotes of Cookie Monster to be displayed in the info section */\nexport const LatestReleaseNotes = `This update implements the following functions:</br>\n- HOTFIX: Fixed the possibility of clicking Golden Cookies multiple times with autoclickers</br>\n- For developers: we now expose some data calculated by Cookie Monster to the global scope. You can access it through the CookieMonsterData object</br>\n- The column with the most optimal building now has a green coloured indicator whenever colour coding is turned on</br>\n- The current season in the seasons statistics section is now displayed with green text for easier identification</br>\n- New option to show a timer bar that counts down till next autosave</br>\n- New option to sort buildings based on the \"cost till next achievement\"</br>\n- Added extra information about achievements in statistics page</br>\n</br>\nThis update fixes the following bugs:</br>\n- Fixed a bug where ignoring certain buildings in rare cases did not create a \"most optimal building\"</br>\n- Fixed some issues related to \"left till achievement\"</br>\n- Fixed some cases where upgrades and buildings were not correctly sorted</br>\n- Fixed the tooltip of \"Pop all normal wrinklers\" displaying an incorrect reward when Shiny's are present</br>\n`;\n","/**\n * This function updates the display setting of the two objects created by CM.Disp.CreateWrinklerButtons()\n * It is called by changes in CM.Options.WrinklerButtons\n */\nexport default function ToggleWrinklerButtons() {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.WrinklerButtons &&\n    Game.elderWrath\n  ) {\n    l('PopAllNormalWrinklerButton').style.display = '';\n    l('PopFattestWrinklerButton').style.display = '';\n  } else {\n    l('PopAllNormalWrinklerButton').style.display = 'none';\n    l('PopFattestWrinklerButton').style.display = 'none';\n  }\n}\n","/** Data related directly to the scales used by Cookie Monster */\n\n/** Array of abbreviations used in the \"Metric\" scale */\nexport const metric: string[] = ['', '', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'];\n\n/** Array of abbreviations used in the \"Short\" scale */\nexport const shortScale: string[] = [\n  '',\n  '',\n  'M',\n  'B',\n  'Tr',\n  'Quadr',\n  'Quint',\n  'Sext',\n  'Sept',\n  'Oct',\n  'Non',\n  'Dec',\n  'Undec',\n  'Duodec',\n  'Tredec',\n  'Quattuordec',\n  'Quindec',\n  'Sexdec',\n  'Septendec',\n  'Octodec',\n  'Novemdec',\n  'Vigint',\n  'Unvigint',\n  'Duovigint',\n  'Trevigint',\n  'Quattuorvigint',\n];\n\n/** Array of abbreviations used in the \"Abbreviated Short\" scale */\nexport const shortScaleAbbreviated: string[] = [\n  '',\n  'K',\n  'M',\n  'B',\n  'T',\n  'Qa',\n  'Qi',\n  'Sx',\n  'Sp',\n  'Oc',\n  'No',\n  'De',\n  'UDe',\n  'DDe',\n  'TDe',\n  'QaDe',\n  'QiDe',\n  'SxDe',\n  'SpDe',\n  'ODe',\n  'NDe',\n  'Vi',\n  'UVi',\n  'DVi',\n  'TVi',\n  'QaVi',\n  'QiVi',\n  'SxVi',\n  'SpVi',\n  'OVi',\n  'NVi',\n  'Tr',\n  'UTr',\n  'DTr',\n  'TTr',\n  'QaTr',\n  'QiTr',\n  'SxTr',\n  'SpTr',\n  'OTr',\n  'NTr',\n  'Qaa',\n  'UQa',\n  'DQa',\n  'TQa',\n  'QaQa',\n  'QiQa',\n  'SxQa',\n  'SpQa',\n  'OQa',\n  'NQa',\n  'Qia',\n  'UQi',\n  'DQi',\n  'TQi',\n  'QaQi',\n  'QiQi',\n  'SxQi',\n  'SpQi',\n  'OQi',\n  'NQi',\n  'Sxa',\n  'USx',\n  'DSx',\n  'TSx',\n  'QaSx',\n  'QiSx',\n  'SxSx',\n  'SpSx',\n  'OSx',\n  'NSx',\n  'Spa',\n  'USp',\n  'DSp',\n  'TSp',\n  'QaSp',\n  'QiSp',\n  'SxSp',\n  'SpSp',\n  'OSp',\n  'NSp',\n  'Oco',\n  'UOc',\n  'DOc',\n  'TOc',\n  'QaOc',\n  'QiOc',\n  'SxOc',\n  'SpOc',\n  'OOc',\n  'NOc',\n  'Noa',\n  'UNo',\n  'DNo',\n  'TNo',\n  'QaNo',\n  'QiNo',\n  'SxNo',\n  'SpNo',\n  'ONo',\n  'NNo',\n  'Ct',\n  'UCt',\n];\n","export let LastModCount;\nexport let TooltipBuildBackup = []; // eslint-disable-line prefer-const\nexport let TooltipLumpBackup;\nexport let TooltipGrimoireBackup = []; // eslint-disable-line prefer-const\nexport let TooltipUpgradeBackup = []; // eslint-disable-line prefer-const\nexport let BackupGrimoireLaunch;\nexport let BackupGrimoireLaunchMod;\nexport let BackupGrimoireDraw;\nexport let HasReplaceNativeGrimoireLaunch;\nexport let HasReplaceNativeGrimoireDraw;\nexport let LoadMinigames;\nexport let BackupFunctions = {}; // eslint-disable-line prefer-const\n\nexport let LastSeasonPopupState;\nexport let LastTickerFortuneState;\nexport let LastGardenNextStep;\nexport let LastGoldenCookieState;\nexport let LastSpawnedGoldenCookieState;\nexport let LastMagicBarFull;\nexport let CurrSpawnedGoldenCookieState;\nexport let LastWrinklerCount;\n\n/** Stores the date at Game.CalculateGains for God Cyclius\n */\nexport let CycliusDateAtBeginLoop = Date.now(); // eslint-disable-line prefer-const\n\n/** Stores the date at Game.CalculateGains for the Century egg\n */\nexport let CenturyDateAtBeginLoop = Date.now(); // eslint-disable-line prefer-const\n","/** General functions to format or beautify strings */\n\nimport { metric, shortScale, shortScaleAbbreviated } from '../../Data/Scales.ts';\nimport { BackupFunctions } from '../../Main/VariablesAndData';\n\n/**\n * This function returns formats number based on the Scale setting\n * @param\t{number}\tnum\t\tNumber to be beautified\n * @param \t{any}\t\tfloats \tUsed in some scenario's by CM.Backup.Beautify (Game's original function)\n * @param\t{number}\tforced\tUsed to force (type 3) in certains cases\n * @returns\t{string}\t\t\tFormatted number\n */\nexport default function Beautify(num, floats, forced) {\n  const decimals =\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ScaleDecimals + 1;\n  if (num === Infinity) {\n    return 'Infinity';\n  }\n  if (typeof num === 'undefined') {\n    return '0';\n  }\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Scale === 0) {\n    return BackupFunctions.Beautify(num, floats);\n  }\n  if (Number.isFinite(num)) {\n    if (num < 0) {\n      return `-${Beautify(Math.abs(num))}`;\n    }\n    let answer = '';\n    if (num === 0) {\n      return num.toString();\n    }\n    if (\n      num > 0.001 &&\n      num < Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ScaleCutoff\n    ) {\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ScaleSeparator)\n        answer = num.toLocaleString('nl');\n      else answer = num.toLocaleString('en');\n      return answer;\n    }\n    if (\n      (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Scale === 4 &&\n        !forced) ||\n      forced === 4\n    ) {\n      // Scientific notation, 123456789 => 1.235E+8\n      answer = num.toExponential(decimals).toString().replace('e', 'E');\n    } else {\n      const exponential = num.toExponential().toString();\n      const AmountOfTenPowerThree = Math.floor(exponential.slice(exponential.indexOf('e') + 1) / 3);\n      answer = (num / Number(`1e${AmountOfTenPowerThree * 3}`)).toFixed(decimals);\n      // answer is now \"xxx.xx\" (e.g., 123456789 would be 123.46)\n      if (\n        (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Scale === 1 &&\n          !forced) ||\n        forced === 1\n      ) {\n        // Metric scale, 123456789 => 123.457 M\n        if (num >= 0.01 && num < Number(`1e${metric.length * 3}`)) {\n          answer += ` ${metric[AmountOfTenPowerThree]}`;\n        } else answer = Beautify(num, 0, 4); // If number is too large or little, revert to scientific notation\n      } else if (\n        (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Scale === 2 &&\n          !forced) ||\n        forced === 2\n      ) {\n        // Short scale, 123456789 => 123.457 M\n        if (num >= 0.01 && num < Number(`1e${shortScale.length * 3}`)) {\n          answer += ` ${shortScale[AmountOfTenPowerThree]}`;\n        } else answer = Beautify(num, 0, 4); // If number is too large or little, revert to scientific notation\n      } else if (\n        (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Scale === 3 &&\n          !forced) ||\n        forced === 3\n      ) {\n        // Short scale, 123456789 => 123.457 M\n        if (num >= 0.01 && num < Number(`1e${shortScaleAbbreviated.length * 3}`)) {\n          answer += ` ${shortScaleAbbreviated[AmountOfTenPowerThree]}`;\n        } else answer = Beautify(num, 0, 4); // If number is too large or little, revert to scientific notation\n      } else if (\n        (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Scale === 5 &&\n          !forced) ||\n        forced === 5\n      ) {\n        // Engineering notation, 123456789 => 123.457E+6\n        answer += `E${AmountOfTenPowerThree * 3}`;\n      }\n    }\n    if (answer === '') {\n      // eslint-disable-next-line no-console\n      console.log(`Could not beautify number with Cookie Monster Beautify: ${num}`);\n      answer = BackupFunctions.Beautify(num, floats);\n    }\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ScaleSeparator)\n      answer = answer.replace('.', ',');\n    return answer;\n  }\n  console.log(`Could not beautify number with Cookie Monster Beautify: ${num}`); // eslint-disable-line no-console\n  return BackupFunctions.Beautify(num, floats);\n}\n","/* eslint-disable prefer-const */\n\nexport let CacheDragonAura = 0;\nexport let CacheDragonAura2 = 0;\nexport let CacheLastDragonLevel = 0;\nexport let CacheCostDragonUpgrade = 0;\nexport let CacheLucky = 0;\nexport let CacheLuckyReward = 0;\nexport let CacheLuckyWrathReward = 0;\nexport let CacheLuckyFrenzy = 0;\nexport let CacheLuckyRewardFrenzy = 0;\nexport let CacheLuckyWrathRewardFrenzy = 0;\nexport let CacheConjure = 0;\nexport let CacheConjureReward = 0;\nexport let CacheEdifice = 0;\nexport let CacheEdificeBuilding = 0;\nexport let CacheNoGoldSwitchCookiesPS = 0;\nexport let CacheDragonsFortuneMultAdjustment = 1;\nexport let CacheGoldenCookiesMult = 1;\nexport let CacheWrathCookiesMult = 1;\n\nexport let CacheHCPerSecond = 0;\n\nexport let CacheCentEgg = 0;\nexport let CacheSeaSpec = 0;\nexport let CacheLastChoEgg = 0;\n\nexport let CacheObjects1 = {};\nexport let CacheObjects10 = {};\nexport let CacheObjects100 = {};\nexport let CacheObjectsNextAchievement = {};\n\nexport let CacheWrinklersTotal = 0;\nexport let CacheWrinklersNormal = 0;\nexport let CacheWrinklersFattest = [0, null];\n\nexport let CacheCurrWrinklerCPSMult = 0;\nexport let CacheCurrWrinklerCount = 0;\n\nexport let CacheUpgrades = {};\n\nexport let CacheAverageClicks = {};\nexport let CacheAverageCookiesFromClicks;\n\nexport let CacheMissingUpgrades = {};\nexport let CacheMissingUpgradesPrestige = {};\nexport let CacheMissingUpgradesCookies = {};\n\nexport let CacheChainRequired = 0;\nexport let CacheChainRequiredNext = 0;\nexport let CacheChainMaxReward = [];\nexport let CacheChainWrathRequired = 0;\nexport let CacheChainWrathRequiredNext = 0;\nexport let CacheChainWrathMaxReward = [];\nexport let CacheChainFrenzyRequired = 0;\nexport let CacheChainFrenzyRequiredNext = 0;\nexport let CacheChainFrenzyMaxReward = [];\nexport let CacheChainFrenzyWrathRequired = 0;\nexport let CacheChainFrenzyWrathRequiredNext = 0;\nexport let CacheChainFrenzyWrathMaxReward = [];\n\nexport let CacheRealCookiesEarned = 0;\nexport let CacheAvgCPSWithChoEgg = 0;\n\nexport let CacheSpawnedGoldenShimmer = {};\nexport let CacheSeasonPopShimmer = {};\n\nexport let CacheTimeTillNextPrestige = 0;\n\n/** Stores lowest PP value */\nexport let CacheMinPP = 0;\n/** Stores lowest PP value category */\nexport let CacheMinPPBulk = 0;\n/** Stores all PP values of all buildings for all buy settings (1, 10, 100) */\nexport let CachePPArray = [];\n\nexport let CacheGoldenShimmersByID = {};\n\nexport let CacheSellForChoEgg = 0;\n\nexport let CookiesDiff;\nexport let WrinkDiff;\nexport let WrinkFattestDiff;\nexport let ChoEggDiff;\nexport let ClicksDiff;\nexport let HeavenlyChipsDiff;\n\nexport let CacheLastCPSCheck;\nexport let CacheLastCookies;\nexport let CacheLastWrinkCookies;\nexport let CacheLastWrinkFattestCookies;\nexport let CacheLastClicks;\n\nexport let CacheAverageGainBank;\nexport let CacheAverageGainWrink;\nexport let CacheAverageGainWrinkFattest;\nexport let CacheAverageGainChoEgg;\nexport let CacheAverageCPS;\n\nexport let CacheLastHeavenlyCheck;\nexport let CacheLastHeavenlyChips;\n\nexport let CacheDoRemakeBuildPrices;\n\nexport let CacheHadBuildAura;\n\n/** Store the CPS effect of each god if it was put into each slot */\nexport let CacheGods = {\n  0: [0, 0, 0],\n  1: [0, 0, 0],\n  2: [0, 0, 0],\n  3: [0, 0, 0],\n  4: [0, 0, 0],\n  5: [0, 0, 0],\n  6: [0, 0, 0],\n  7: [0, 0, 0],\n  8: [0, 0, 0],\n  9: [0, 0, 0],\n  10: [0, 0, 0],\n};\n","/** All variables used by simulation functions */\n\nexport let SimObjects = []; // eslint-disable-line prefer-const\nexport let SimUpgrades = []; // eslint-disable-line prefer-const\nexport let SimAchievements = []; // eslint-disable-line prefer-const\nexport let SimBuildingsOwned;\nexport let SimUpgradesOwned;\nexport let SimPledges;\nexport let SimAchievementsOwned;\nexport let SimHeavenlyPower;\nexport let SimPrestige;\nexport let SimDragonAura;\nexport let SimDragonAura2;\nexport let SimGod1;\nexport let SimGod2;\nexport let SimGod3;\nexport let SimDoSims;\nexport let SimEffs;\nexport let SimCookiesPs;\nexport let SimCookiesPsRaw;\n","import { SimDragonAura, SimDragonAura2 } from '../VariablesAndData';\n\n/**\n * This functions creates functions similarly to Game.auraMult but checks Sim Data instead of Game Data\n */\nexport default function SimAuraMult(what) {\n  let n = 0;\n  if (\n    Game.dragonAuras[SimDragonAura].name === what ||\n    Game.dragonAuras[SimDragonAura2].name === what\n  )\n    n = 1;\n  if (\n    Game.dragonAuras[SimDragonAura].name === 'Reality Bending' ||\n    Game.dragonAuras[SimDragonAura2].name === 'Reality Bending'\n  )\n    n += 0.1;\n  return n;\n}\n","import SimAuraMult from './SimAuraMult';\n\n/**\n * This function calculates the sell multiplier based on current \"sim data\"\n * It is called by CM.Sim.BuildingSell()\n * @returns {number}\tgiveBack\tThe multiplier\n */\nexport default function SimGetSellMultiplier() {\n  let giveBack = 0.25;\n  giveBack *= 1 + SimAuraMult('Earth Shatterer');\n  return giveBack;\n}\n","import { SimEffs } from '../VariablesAndData';\n\n/**\n * This functions creates functions similarly to Game.Eff but checks Sim Data instead of Game Data\n */\nexport default function SimEff(name, def) {\n  if (typeof SimEffs[name] === 'undefined') {\n    return typeof def === 'undefined' ? 1 : def;\n  }\n  return SimEffs[name];\n}\n","import { SimUpgrades } from '../VariablesAndData';\n\n/**\n * This functions creates functions similarly to Game.Has but checks Sim Data instead of Game Data\n */\nexport default function SimHas(what) {\n  const it = SimUpgrades[what];\n  if (Game.ascensionMode === 1 && (it.pool === 'prestige' || it.tier === 'fortune')) return 0;\n  return it ? it.bought : 0;\n}\n","import { SimGod1, SimGod2, SimGod3, SimObjects } from '../VariablesAndData';\n\n/**\n * This function checks for the current God level in the sim data\n * It functions similarly to Game.hasGod()\n * @param\t{string}\twhat\tName of the achievement\n */\nexport default function SimHasGod(what) {\n  if (Game.hasGod) {\n    if (SimObjects.Temple.minigame === undefined) {\n      SimObjects.Temple.minigame = Game.Objects.Temple.minigame;\n    }\n    const god = SimObjects.Temple.minigame.gods[what];\n    if (SimGod1 === god.id) {\n      return 1;\n    }\n    if (SimGod2 === god.id) {\n      return 2;\n    }\n    if (SimGod3 === god.id) {\n      return 3;\n    }\n  }\n  return false;\n}\n","import { SimObjects } from '../VariablesAndData';\nimport SimAuraMult from './SimAuraMult';\nimport SimEff from './SimEff';\nimport SimHas from './SimHas';\nimport SimHasGod from './SimHasGod';\n\n/**\n * This function calculates the sell price of a building based on current \"sim data\"\n * @param\t{string}\tbuilding\tName of the building\n * @param\t{number}\tprice\t\tCurrent price of building\n * @returns {number}\tModifiedPrice\t\tThe modified building price\n */\nexport default function SimModifyBuildingPrice(building, price) {\n  let ModifiedPrice = price;\n  if (SimHas('Season savings')) ModifiedPrice *= 0.99;\n  if (SimHas(\"Santa's dominion\")) ModifiedPrice *= 0.99;\n  if (SimHas('Faberge egg')) ModifiedPrice *= 0.99;\n  if (SimHas('Divine discount')) ModifiedPrice *= 0.99;\n  if (SimHas('Fortune #100')) ModifiedPrice *= 0.99;\n  // if (SimHasAura('Fierce Hoarder')) ModifiedPrice *= 0.98;\n  ModifiedPrice *= 1 - SimAuraMult('Fierce Hoarder') * 0.02;\n  if (Game.hasBuff('Everything must go')) ModifiedPrice *= 0.95;\n  if (Game.hasBuff('Crafty pixies')) ModifiedPrice *= 0.98;\n  if (Game.hasBuff('Nasty goblins')) ModifiedPrice *= 1.02;\n  if (building.fortune && SimHas(building.fortune.name)) ModifiedPrice *= 0.93;\n  ModifiedPrice *= SimEff('buildingCost');\n  if (SimObjects.Temple.minigameLoaded) {\n    const godLvl = SimHasGod('creation');\n    if (godLvl === 1) ModifiedPrice *= 0.93;\n    else if (godLvl === 2) ModifiedPrice *= 0.95;\n    else if (godLvl === 3) ModifiedPrice *= 0.98;\n  }\n  return ModifiedPrice;\n}\n","import SimGetSellMultiplier from '../ReplacedGameFunctions/SimGetSellMultiplier';\nimport SimModifyBuildingPrice from '../ReplacedGameFunctions/SimModifyBuidlingPrice';\n\n/**\n * This function calculates the cookies returned for selling a building\n * Base Game does not do this correctly\n * @param\t{string}\tbuild\t\tName of the building\n * @param\t{number}\tbasePrice\tBase Price of building\n * @param\t{number}\tstart\t\tStarting amount of building\n * @param\t{number}\tfree\t\tFree amount of building\n * @param\t{number}\tincrease\tIncrease of building\n * @param\t{number}\tnoSim\t\t1 of 0 depending on if function is called from CM.Sim\n * @returns {number}\tmoni\t\tTotal price gained\n */\nexport default function BuildingSell(build, basePrice, start, free, amount, noSim) {\n  // Calculate money gains from selling buildings\n  // If noSim is set, use Game methods to compute price instead of Sim ones.\n  const noSimRes = typeof noSim === 'undefined' ? 0 : noSim;\n  let toChange = amount;\n  let startingAmount = start;\n  let moni = 0;\n  if (amount === -1) toChange = startingAmount;\n  if (!amount) toChange = Game.buyBulk;\n  for (let i = 0; i < toChange; i++) {\n    let price = basePrice * Game.priceIncrease ** Math.max(0, startingAmount - free);\n    price = noSimRes\n      ? Game.modifyBuildingPrice(build, price)\n      : SimModifyBuildingPrice(build, price);\n    price = Math.ceil(price);\n    const giveBack = noSimRes ? build.getSellMultiplier() : SimGetSellMultiplier();\n    price = Math.floor(price * giveBack);\n    if (startingAmount > 0) {\n      moni += price;\n      startingAmount -= 1;\n    }\n  }\n  return moni;\n}\n","/**\n * Section: Variables used in Disp functions */\n\nexport let DispCSS;\n\n/**\n * These are variables used to create DOM object names and id (e.g., 'CMTextTooltip)\n */\nexport const ColourTextPre = 'CMText';\nexport const ColourBackPre = 'CMBack';\nexport const ColourBorderPre = 'CMBorder';\n\n/**\n * These are variables which can be set in the options by the user to standardize colours throughout CookieMonster\n */\nexport const ColourBlue = 'Blue';\nexport const ColourGreen = 'Green';\nexport const ColourYellow = 'Yellow';\nexport const ColourOrange = 'Orange';\nexport const ColourRed = 'Red';\nexport const ColourPurple = 'Purple';\nexport const ColourGray = 'Gray';\nexport const ColourPink = 'Pink';\nexport const ColourBrown = 'Brown';\nexport const ColoursOrdering = [\n  ColourBlue,\n  ColourGreen,\n  ColourYellow,\n  ColourOrange,\n  ColourRed,\n  ColourPurple,\n  ColourPink,\n  ColourBrown,\n  ColourGray,\n];\n\n/**\n * This list is used to make some very basic tooltips.\n * It is used by CM.Main.DelayInit() in the call of CM.Disp.CreateSimpleTooltip()\n * @item\t{string}\tplaceholder\n * @item\t{string}\ttext\n * @item\t{string}\tminWidth\n */\nexport const TooltipText = [\n  ['GoldCookTooltipPlaceholder', 'Calculated with Golden Switch off', '200px'],\n  [\n    'GoldCookDragonsFortuneTooltipPlaceholder',\n    'Calculated with Golden Switch off and at least one golden cookie on-screen',\n    '240px',\n  ],\n  [\n    'PrestMaxTooltipPlaceholder',\n    'The MAX prestige is calculated with the cookies gained from popping all wrinklers with Skruuia god in Diamond slot, selling all stock market goods, selling all buildings with Earth Shatterer and Reality Bending auras, and buying Chocolate egg',\n    '320px',\n  ],\n  [\n    'NextPrestTooltipPlaceholder',\n    'Calculated with cookies gained from wrinklers and Chocolate egg',\n    '200px',\n  ],\n  [\n    'HeavenChipMaxTooltipPlaceholder',\n    'The MAX heavenly chips is calculated with the cookies gained from popping all wrinklers with Skruuia god in Diamond slot, selling all stock market goods, selling all buildings with Earth Shatterer and Reality Bending auras, and buying Chocolate egg',\n    '330px',\n  ],\n  [\n    'ResetTooltipPlaceholder',\n    'The bonus income you would get from new prestige levels unlocked at 100% of its potential and from ascension achievements if you have the same buildings/upgrades after reset',\n    '370px',\n  ],\n  [\n    'ChoEggTooltipPlaceholder',\n    'The amount of cookies you would get from popping all wrinklers with Skruuia god in Diamond slot, selling all stock market goods, selling all buildings with Earth Shatterer and Reality Bending auras, and then buying Chocolate egg',\n    '300px',\n  ],\n  ['ChainNextLevelPlaceholder', 'Cheated cookies might break this formula', '250px'],\n  [\n    'FavouriteSettingPlaceholder',\n    \"Click to set this setting as favourite and show it in 'favourite' settings at the top of the Cookie Monster Settings\",\n    '250px',\n  ],\n];\nexport const SimpleTooltipElements = {};\n\n/**\n * These are variables used by the functions that create tooltips for wrinklers\n * See CM.Disp.CheckWrinklerTooltip(), CM.Disp.UpdateWrinklerTooltip() and CM.Main.AddWrinklerAreaDetect()\n */\nexport let TooltipWrinklerArea = 0; // eslint-disable-line prefer-const\nexport let TooltipWrinkler = -1; // eslint-disable-line prefer-const\n\n/**\n * This array is used to store whether a Wrinkler tooltip is being shown or not\n * [i] = 1 means tooltip is being shown, [i] = 0 means hidden\n * It is used by CM.Disp.CheckWrinklerTooltip() and CM.Main.AddWrinklerAreaDetect()\n */\nexport let TooltipWrinklerBeingShown = []; // eslint-disable-line prefer-const\n\nexport let CMLastAscendState;\nexport let CMSayTime = function () {}; // eslint-disable-line prefer-const\n\n/**\n * These are variables used to create various displays when the game is loaded on the \"sell all\" screen\n */\nexport let LastTargetBotBar = 1; // eslint-disable-line prefer-const\nexport let LastTargetBuildings = 1; // eslint-disable-line prefer-const\nexport let LastTargetTooltipBuilding = 1; // eslint-disable-line prefer-const\n\n/**\n * These arrays are used in the stats page to show\n * average cookies per {CM.Disp.cookieTimes/CM.Disp.clickTimes} seconds\n */\nexport const CookieTimes = [10, 15, 30, 60, 300, 600, 900, 1800];\nexport const ClickTimes = [1, 5, 10, 15, 30];\n\n/**\n * This array is used to give certain timers specific colours\n */\nexport const BuffColours = {\n  Frenzy: ColourYellow,\n  'Dragon Harvest': ColourBrown,\n  'Elder frenzy': ColourGreen,\n  Clot: ColourRed,\n  'Click frenzy': ColourBlue,\n  Dragonflight: ColourPink,\n};\n\n/**\n * This array is used to track GC timers\n */\nexport let GCTimers = {}; // eslint-disable-line prefer-const\n\n/**\n * Used to store the number of cookies to be displayed in the tab-title\n */\nexport let Title = ''; // eslint-disable-line prefer-const\n\nexport let TooltipPrice;\nexport let TooltipBonusIncome;\nexport let TooltipType;\nexport let TooltipName;\nexport let TooltipBonusMouse;\n\nexport let LastAscendState;\nexport let LastNumberOfTimers;\n\n/**\n * This stores the names of settings shown in the favourites section\n */\nexport let FavouriteSettings = []; // eslint-disable-line prefer-const\n","import {\n  CacheMinPPBulk,\n  CacheObjects1,\n  CacheObjects10,\n  CacheObjects100,\n  CacheObjectsNextAchievement,\n} from '../../Cache/VariablesAndData';\nimport BuildingSell from '../../Sim/SimulationEvents/SellBuilding';\nimport Beautify from '../BeautifyAndFormatting/Beautify';\nimport { ColoursOrdering, LastTargetBuildings } from '../VariablesAndData';\n\n/**\n * Section: Functions related to right column of the screen (buildings/upgrades)\n\n/**\n * This function adjusts some things in the column of buildings.\n * It colours them, helps display the correct sell-price and shuffles the order when CM.Options.SortBuildings is set\n * The function is called by CM.Disp.Draw(), CM.Disp.UpdateColours() & CM.Disp.RefreshScale()\n * And by changes in CM.Options.BuildColour, CM.Options.SortBuild & CM.Data.Config.BulkBuildColour\n */\nexport default function UpdateBuildings() {\n  let target = Game.buyBulk;\n  if (Game.buyMode === 1) {\n    LastTargetBuildings = target;\n  } else {\n    target = LastTargetBuildings;\n  }\n  if (target === 1) target = CacheObjects1;\n  else if (target === 10) target = CacheObjects10;\n  else if (target === 100) target = CacheObjects100;\n\n  // Remove colour if applied\n  l(`storeBulk1`).style.removeProperty('color');\n  l(`storeBulk10`).style.removeProperty('color');\n  l(`storeBulk100`).style.removeProperty('color');\n\n  if (Game.buyMode === 1) {\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.BuildColour === 1) {\n      Object.keys(target).forEach((i) => {\n        l(`productPrice${Game.Objects[i].id}`).style.color =\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[\n            `Colour${target[i].color}`\n          ];\n      });\n      l(`storeBulk${CacheMinPPBulk}`).style.color =\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ColourGreen;\n    } else {\n      Object.keys(Game.Objects).forEach((i) => {\n        l(`productPrice${Game.Objects[i].id}`).style.removeProperty('color');\n      });\n    }\n  } else if (Game.buyMode === -1) {\n    Object.keys(CacheObjects1).forEach((i) => {\n      const o = Game.Objects[i];\n      l(`productPrice${o.id}`).style.color = '';\n      /*\n       * Fix sell price displayed in the object in the store.\n       *\n       * The buildings sell price displayed by the game itself (without any mod) is incorrect.\n       * The following line of code fixes this issue, and can be safely removed when the game gets fixed.\n       *\n       * This issue is extensively detailed here: https://github.com/Aktanusa/CookieMonster/issues/359#issuecomment-735658262\n       */\n      l(`productPrice${o.id}`).innerHTML = Beautify(\n        BuildingSell(o, o.basePrice, o.amount, o.free, Game.buyBulk, 1),\n      );\n    });\n  }\n\n  // Build array of pointers and sort according to the user's configured sort option.\n  // This regulates sorting of buildings.\n  let arr;\n  if (\n    Game.buyMode !== 1 ||\n    !Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.SortBuildings\n  ) {\n    arr = Object.keys(CacheObjects1).map((k) => {\n      const o = {};\n      o.name = k;\n      o.id = Game.Objects[k].id;\n      return o;\n    });\n    // Sort using default order.\n    arr.sort((a, b) => a.id - b.id);\n  } else if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.SortBuildings === 1\n  ) {\n    arr = Object.keys(CacheObjects1).map((k) => {\n      const o = {};\n      o.name = k;\n      o.pp = CacheObjects1[k].pp;\n      o.color = CacheObjects1[k].color;\n      return o;\n    });\n    // Sort by pp colour group, then by pp.\n    arr.sort((a, b) =>\n      ColoursOrdering.indexOf(a.color) === ColoursOrdering.indexOf(b.color)\n        ? a.pp - b.pp\n        : ColoursOrdering.indexOf(a.color) - ColoursOrdering.indexOf(b.color),\n    );\n  } else if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.SortBuildings === 2\n  ) {\n    arr = Object.keys(target).map((k) => {\n      const o = {};\n      o.name = k;\n      o.pp = target[k].pp;\n      o.color = target[k].color;\n      return o;\n    });\n    // Sort by pp colour group, then by pp.\n    arr.sort((a, b) =>\n      ColoursOrdering.indexOf(a.color) === ColoursOrdering.indexOf(b.color)\n        ? a.pp - b.pp\n        : ColoursOrdering.indexOf(a.color) - ColoursOrdering.indexOf(b.color),\n    );\n  } else if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.SortBuildings === 3\n  ) {\n    arr = Object.keys(CacheObjectsNextAchievement).map((k) => {\n      const o = {};\n      o.name = k;\n      o.id = Game.Objects[k].id;\n      o.amountUntilNext = CacheObjectsNextAchievement[k].AmountNeeded;\n      o.priceUntilNext = CacheObjectsNextAchievement[k].price;\n      return o;\n    });\n    // First, sort using default order.\n    arr.sort((a, b) => a.id - b.id);\n    // Sort by price until next achievement.\n    // Buildings that aren't within 100 of an achievement are placed at the end, still in\n    // default order relative to each other because sort() is guaranteed stable.\n    arr.sort(\n      (a, b) =>\n        (a.amountUntilNext !== 101 ? a.priceUntilNext : Infinity) -\n        (b.amountUntilNext !== 101 ? b.priceUntilNext : Infinity),\n    );\n  }\n\n  // Use array index (+2) as the grid row number.\n  // (grid rows are 1-based indexing, and row 1 is the bulk buy/sell options)\n  for (let x = 0; x < arr.length; x++) {\n    Game.Objects[arr[x].name].l.style.gridRow = `${x + 2}/${x + 2}`;\n  }\n}\n","/**\n * This function toggles the upgrade to be always expanded\n * It is called by a change in CM.Options.ToolWarnPos\n * and upon creation of the warning tooltip by CM.Disp.UpdateTooltipWarnings()\n */\nexport default function UpdateUpgradeSectionsHeight() {\n  Object.values(document.getElementsByClassName('storeSection')).forEach((section) => {\n    if (\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.UpgradesNeverCollapse ||\n      section.id === 'products'\n    ) {\n      section.style.height = 'auto'; // eslint-disable-line no-param-reassign\n    } else if (section.id === 'vaultUpgrades') {\n      section.style.height = ''; // eslint-disable-line no-param-reassign\n      section.style.minHeight = '0px'; // eslint-disable-line no-param-reassign\n    } else if (section.id === 'upgrades') {\n      section.style.height = ''; // eslint-disable-line no-param-reassign\n      if (section.className.includes('hasMenu')) {\n        section.style.minHeight = '82px'; // eslint-disable-line no-param-reassign\n      } else {\n        section.style.minHeight = '60px'; // eslint-disable-line no-param-reassign\n      }\n    } else {\n      section.style.height = ''; // eslint-disable-line no-param-reassign\n      section.style.minHeight = '60px'; // eslint-disable-line no-param-reassign\n    }\n  });\n}\n","import { CacheUpgrades } from '../../Cache/VariablesAndData';\nimport {\n  ColourBackPre,\n  ColourBlue,\n  ColourGray,\n  ColourGreen,\n  ColourOrange,\n  ColourPurple,\n  ColourRed,\n  ColoursOrdering,\n  ColourYellow,\n} from '../VariablesAndData';\n\n/**\n * This function adjusts some things in the upgrades section\n * It colours them and shuffles the order when CM.Options.SortBuildings is set\n * The function is called by CM.Disp.Draw(), CM.Disp.ToggleUpgradeBarAndColour & CM.Disp.RefreshScale()\n * And by changes in CM.Options.SortUpgrades\n */\nexport default function UpdateUpgrades() {\n  // This counts the amount of upgrades for each pp group and updates the Upgrade Bar\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.UpBarColour > 0) {\n    let blue = 0;\n    let green = 0;\n    let yellow = 0;\n    let orange = 0;\n    let red = 0;\n    let purple = 0;\n    let gray = 0;\n\n    Object.keys(Game.UpgradesInStore).forEach((i) => {\n      const me = Game.UpgradesInStore[i];\n      let addedColour = false;\n      for (let j = 0; j < l(`upgrade${i}`).childNodes.length; j += 1) {\n        if (l(`upgrade${i}`).childNodes[j].className.indexOf(ColourBackPre) !== -1) {\n          l(`upgrade${i}`).childNodes[j].className = ColourBackPre + CacheUpgrades[me.name].color;\n          addedColour = true;\n          break;\n        }\n      }\n      if (!addedColour) {\n        const div = document.createElement('div');\n        div.style.width = '10px';\n        div.style.height = '10px';\n        div.className = ColourBackPre + CacheUpgrades[me.name].color;\n        l(`upgrade${i}`).appendChild(div);\n      }\n      if (CacheUpgrades[me.name].color === ColourBlue) blue += 1;\n      else if (CacheUpgrades[me.name].color === ColourGreen) green += 1;\n      else if (CacheUpgrades[me.name].color === ColourYellow) yellow += 1;\n      else if (CacheUpgrades[me.name].color === ColourOrange) orange += 1;\n      else if (CacheUpgrades[me.name].color === ColourRed) red += 1;\n      else if (CacheUpgrades[me.name].color === ColourPurple) purple += 1;\n      else if (CacheUpgrades[me.name].color === ColourGray) gray += 1;\n    });\n\n    l('CMUpgradeBarBlue').textContent = blue;\n    l('CMUpgradeBarGreen').textContent = green;\n    l('CMUpgradeBarYellow').textContent = yellow;\n    l('CMUpgradeBarOrange').textContent = orange;\n    l('CMUpgradeBarRed').textContent = red;\n    l('CMUpgradeBarPurple').textContent = purple;\n    l('CMUpgradeBarGray').textContent = gray;\n  }\n\n  const arr = [];\n  // Build array of pointers, sort by pp, set flex positions\n  // This regulates sorting of upgrades\n  for (let x = 0; x < Game.UpgradesInStore.length; x += 1) {\n    const o = {};\n    o.name = Game.UpgradesInStore[x].name;\n    o.price = Game.UpgradesInStore[x].basePrice;\n    o.pp = CacheUpgrades[o.name].pp;\n    o.color = CacheUpgrades[o.name].color;\n    arr.push(o);\n  }\n\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.SortUpgrades) {\n    // Sort by pp colour group, then by pp.\n    arr.sort((a, b) =>\n      ColoursOrdering.indexOf(a.color) === ColoursOrdering.indexOf(b.color)\n        ? a.pp - b.pp\n        : ColoursOrdering.indexOf(a.color) - ColoursOrdering.indexOf(b.color),\n    );\n  } else {\n    arr.sort((a, b) => a.price - b.price);\n  }\n\n  const nameChecker = function (arr2, upgrade) {\n    return arr2.findIndex((e) => e.name === upgrade.name);\n  };\n  for (let x = 0; x < Game.UpgradesInStore.length; x += 1) {\n    l(`upgrade${x}`).style.order = nameChecker(arr, Game.UpgradesInStore[x]) + 1;\n  }\n}\n","/**\n * This function returns time as a string depending on TimeFormat setting\n * @param  \t{number} \ttime\t\tTime to be formatted\n * @param  \t{number}\tlongFormat \t1 or 0\n * @returns\t{string}\t\t\t\tFormatted time\n */\nexport default function FormatTime(time, longFormat) {\n  let formattedTime = time;\n  if (time === Infinity) return time;\n  if (time < 0) return 'Negative time period';\n  formattedTime = Math.ceil(time);\n  const y = Math.floor(formattedTime / 31536000);\n  const d = Math.floor((formattedTime % 31536000) / 86400);\n  const h = Math.floor(((formattedTime % 31536000) % 86400) / 3600);\n  const m = Math.floor((((formattedTime % 31536000) % 86400) % 3600) / 60);\n  const s = Math.floor((((formattedTime % 31536000) % 86400) % 3600) % 60);\n  let str = '';\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimeFormat) {\n    if (formattedTime > 3155760000) return 'XX:XX:XX:XX:XX';\n    str += `${(y < 10 ? '0' : '') + y}:`;\n    str += `${(d < 10 ? '0' : '') + d}:`;\n    str += `${(h < 10 ? '0' : '') + h}:`;\n    str += `${(m < 10 ? '0' : '') + m}:`;\n    str += (s < 10 ? '0' : '') + s;\n  } else {\n    if (formattedTime > 777600000) return longFormat ? 'Over 9000 days!' : '>9000d';\n    str +=\n      y > 0\n        ? `${y + (longFormat ? (y === 1 ? ' year' : ' years') : 'y')}, ` // eslint-disable-line no-nested-ternary\n        : '';\n    if (str.length > 0 || d > 0)\n      str += `${d + (longFormat ? (d === 1 ? ' day' : ' days') : 'd')}, `; // eslint-disable-line no-nested-ternary\n    if (str.length > 0 || h > 0)\n      str += `${h + (longFormat ? (h === 1 ? ' hour' : ' hours') : 'h')}, `; // eslint-disable-line no-nested-ternary\n    if (str.length > 0 || m > 0)\n      str += `${m + (longFormat ? (m === 1 ? ' minute' : ' minutes') : 'm')}, `; // eslint-disable-line no-nested-ternary\n    str += s + (longFormat ? (s === 1 ? ' second' : ' seconds') : 's'); // eslint-disable-line no-nested-ternary\n  }\n  return str;\n}\n","import { ColourGreen, ColourOrange, ColourRed, ColourYellow } from '../VariablesAndData';\nimport FormatTime from './FormatTime';\n\n/**\n * This function returns the color to be used for time-strings\n * @param\t{number}\t\t\ttime\t\t\tTime to be coloured\n * @returns {{string, string}}\t{text, color}\tBoth the formatted time and color as strings in an array\n */\nexport default function GetTimeColour(time) {\n  let color;\n  let text;\n  if (time <= 0) {\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimeFormat)\n      text = '00:00:00:00:00';\n    else text = 'Done!';\n    color = ColourGreen;\n  } else {\n    text = FormatTime(time);\n    if (time > 300) color = ColourRed;\n    else if (time > 60) color = ColourOrange;\n    else color = ColourYellow;\n  }\n  return { text, color };\n}\n","import {\n  CacheAverageCPS,\n  CacheCurrWrinklerCount,\n  CacheCurrWrinklerCPSMult,\n  CacheWrinklersFattest,\n} from '../../Cache/VariablesAndData';\n\n/**\n * This function returns the cps as either current or average CPS depending on CM.Options.CPSMode\n * @returns\t{number}\tThe average or current cps\n */\nexport default function GetCPS() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CPSMode) {\n    return CacheAverageCPS;\n  }\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 0) {\n    return Game.cookiesPs * (1 - Game.cpsSucked);\n  }\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 1) {\n    return Game.cookiesPs * (CacheCurrWrinklerCPSMult + (1 - CacheCurrWrinklerCount * 0.05));\n  }\n  if (CacheWrinklersFattest[1] !== null)\n    if (\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 2 &&\n      Game.wrinklers[CacheWrinklersFattest[1]].type === 1\n    ) {\n      return (\n        Game.cookiesPs *\n        ((CacheCurrWrinklerCPSMult * 3) / CacheCurrWrinklerCount +\n          (1 - CacheCurrWrinklerCount * 0.05))\n      );\n    }\n  return (\n    Game.cookiesPs *\n    (CacheCurrWrinklerCPSMult / CacheCurrWrinklerCount + (1 - CacheCurrWrinklerCount * 0.05))\n  );\n}\n","import { CacheWrinklersFattest, CacheWrinklersTotal } from '../../Cache/VariablesAndData';\n\n/**\n * This function returns the total amount stored in the Wrinkler Bank\n * as calculated by  CM.Cache.CacheWrinklers() if CM.Options.CalcWrink is set\n * @returns\t{number}\t0 or the amount of cookies stored (CM.Cache.WrinklersTotal)\n */\nexport default function GetWrinkConfigBank() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 1) {\n    return CacheWrinklersTotal;\n  }\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 2) {\n    return CacheWrinklersFattest[0];\n  }\n  return 0;\n}\n","/** Functions to create various DOM elements used by the Bars */\n\nimport { ColourBackPre, ColourBlue, ColourTextPre } from '../VariablesAndData';\n\n/**\n * This function creates an indivudual timer for the timer bar\n * @param\t{string}\t\t\t\t\tid\t\t\t\t\tAn id to identify the timer\n * @param\t{string}\t\t\t\t\tname\t\t\t\tThe title of the timer\n * @param\t[{{string}, {string}}, ...]\tbars ([id, color])\tThe id and colours of individual parts of the timer\n */\nexport function CreateTimer(id, name, bars) {\n  const timerBar = document.createElement('div');\n  timerBar.id = id;\n  timerBar.style.height = '12px';\n  timerBar.style.margin = '0px 10px';\n  timerBar.style.position = 'relative';\n\n  const div = document.createElement('div');\n  div.style.width = '100%';\n  div.style.height = '10px';\n  div.style.margin = 'auto';\n  div.style.position = 'absolute';\n  div.style.left = '0px';\n  div.style.top = '0px';\n  div.style.right = '0px';\n  div.style.bottom = '0px';\n\n  const type = document.createElement('span');\n  type.style.display = 'inline-block';\n  type.style.textAlign = 'right';\n  type.style.fontSize = '10px';\n  type.style.width = '108px';\n  type.style.marginRight = '5px';\n  type.style.verticalAlign = 'text-top';\n  type.textContent = name;\n  div.appendChild(type);\n\n  for (let i = 0; i < bars.length; i++) {\n    const colorBar = document.createElement('span');\n    colorBar.id = bars[i].id;\n    colorBar.style.display = 'inline-block';\n    colorBar.style.height = '10px';\n    colorBar.style.verticalAlign = 'text-top';\n    colorBar.style.textAlign = 'center';\n    if (bars.length - 1 === i) {\n      colorBar.style.borderTopRightRadius = '10px';\n      colorBar.style.borderBottomRightRadius = '10px';\n    }\n    if (typeof bars[i].color !== 'undefined') {\n      colorBar.className = ColourBackPre + bars[i].color;\n    }\n    div.appendChild(colorBar);\n  }\n\n  const timer = document.createElement('span');\n  timer.id = `${id}Time`;\n  timer.style.marginLeft = '5px';\n  timer.style.verticalAlign = 'text-top';\n  div.appendChild(timer);\n\n  timerBar.appendChild(div);\n\n  return timerBar;\n}\n\n/**\n * This function extends the bottom bar (created by CM.Disp.CreateBotBar) with a column for the given building.\n * @param\t{string}\tbuildingName\tObjectname to be added (e.g., \"Cursor\")\n */\nexport function CreateBotBarBuildingColumn(buildingName) {\n  if (l('CMBotBar') !== null) {\n    const type = l('CMBotBar').firstChild.firstChild.childNodes[0];\n    const bonus = l('CMBotBar').firstChild.firstChild.childNodes[1];\n    const pp = l('CMBotBar').firstChild.firstChild.childNodes[2];\n    const time = l('CMBotBar').firstChild.firstChild.childNodes[3];\n\n    const i = buildingName;\n    const header = type.appendChild(document.createElement('td'));\n    header.appendChild(\n      document.createTextNode(`${i.indexOf(' ') !== -1 ? i.substring(0, i.indexOf(' ')) : i} (`),\n    );\n\n    const span = header.appendChild(document.createElement('span'));\n    span.className = ColourTextPre + ColourBlue;\n\n    header.appendChild(document.createTextNode(')'));\n    type.lastChild.style.paddingLeft = '8px';\n    bonus.appendChild(document.createElement('td'));\n    bonus.lastChild.style.paddingLeft = '8px';\n    pp.appendChild(document.createElement('td'));\n    pp.lastChild.style.paddingLeft = '8px';\n    time.appendChild(document.createElement('td'));\n    time.lastChild.style.paddingLeft = '2px';\n  }\n}\n","/** Functions related to the Bottom Bar */\n\nimport { CacheObjects1, CacheObjects10, CacheObjects100 } from '../../Cache/VariablesAndData';\nimport { VersionMajor, VersionMinor } from '../../Data/Moddata.ts';\nimport Beautify from '../BeautifyAndFormatting/Beautify';\nimport FormatTime from '../BeautifyAndFormatting/FormatTime';\nimport GetTimeColour from '../BeautifyAndFormatting/GetTimeColour';\n\nimport GetCPS from '../HelperFunctions/GetCPS';\nimport GetWrinkConfigBank from '../HelperFunctions/GetWrinkConfigBank';\nimport { ColourBlue, ColourTextPre, ColourYellow, LastTargetBotBar } from '../VariablesAndData';\nimport { CreateBotBarBuildingColumn } from './CreateDOMElements';\n\n/**\n * This function creates the bottom bar and appends it to l('wrapper')\n */\nexport function CreateBotBar() {\n  const BotBar = document.createElement('div');\n  BotBar.id = 'CMBotBar';\n  BotBar.style.height = '69px';\n  BotBar.style.width = '100%';\n  BotBar.style.position = 'absolute';\n  BotBar.style.display = 'none';\n  BotBar.style.backgroundColor = '#262224';\n  BotBar.style.backgroundImage = 'linear-gradient(to bottom, #4d4548, #000000)';\n  BotBar.style.borderTop = '1px solid black';\n  BotBar.style.overflow = 'auto';\n  BotBar.style.textShadow = '-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black';\n\n  const table = BotBar.appendChild(document.createElement('table'));\n  table.style.width = '100%';\n  table.style.textAlign = 'center';\n  table.style.whiteSpace = 'nowrap';\n  const tbody = table.appendChild(document.createElement('tbody'));\n\n  const firstCol = function (text, color) {\n    const td = document.createElement('td');\n    td.style.textAlign = 'right';\n    td.className = ColourTextPre + color;\n    td.textContent = text;\n    return td;\n  };\n  const type = tbody.appendChild(document.createElement('tr'));\n  type.style.fontWeight = 'bold';\n  type.appendChild(firstCol(`CM ${VersionMajor}.${VersionMinor}`, ColourYellow));\n  const bonus = tbody.appendChild(document.createElement('tr'));\n  bonus.appendChild(firstCol('Bonus Income', ColourBlue));\n  const pp = tbody.appendChild(document.createElement('tr'));\n  pp.appendChild(firstCol('Payback Period', ColourBlue));\n  const time = tbody.appendChild(document.createElement('tr'));\n  time.appendChild(firstCol('Time Left', ColourBlue));\n\n  l('wrapper').appendChild(BotBar);\n\n  Object.keys(Game.Objects).forEach((i) => {\n    CreateBotBarBuildingColumn(i);\n  });\n}\n\n/**\n * This function updates the bonus-, pp-, and time-rows in the the bottom bar\n */\nexport function UpdateBotBar() {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.BotBar === 1 &&\n    CacheObjects1 &&\n    Game.buyMode === 1\n  ) {\n    let count = 0;\n    Object.keys(CacheObjects1).forEach((i) => {\n      let target = Game.buyBulk;\n      if (Game.buyMode === 1) {\n        LastTargetBotBar = target;\n      } else {\n        target = LastTargetBotBar;\n      }\n      if (target === 1) target = CacheObjects1;\n      if (target === 10) target = CacheObjects10;\n      if (target === 100) target = CacheObjects100;\n      count += 1;\n      l('CMBotBar').firstChild.firstChild.childNodes[0].childNodes[\n        count\n      ].childNodes[1].textContent = Game.Objects[i].amount;\n      l('CMBotBar').firstChild.firstChild.childNodes[1].childNodes[count].textContent = Beautify(\n        target[i].bonus,\n        2,\n      );\n      l('CMBotBar').firstChild.firstChild.childNodes[2].childNodes[count].className =\n        ColourTextPre + target[i].color;\n      let PPString;\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPDisplayTime)\n        PPString = FormatTime(Math.round(target[i].pp));\n      else PPString = Beautify(Math.round(target[i].pp), 2);\n      l('CMBotBar').firstChild.firstChild.childNodes[2].childNodes[count].textContent = PPString;\n      const timeColour = GetTimeColour(\n        (Game.Objects[i].bulkPrice - (Game.cookies + GetWrinkConfigBank())) / GetCPS(),\n      );\n      l('CMBotBar').firstChild.firstChild.childNodes[3].childNodes[count].className =\n        ColourTextPre + timeColour.color;\n      if (timeColour.text === 'Done!' && Game.cookies < Game.Objects[i].bulkPrice) {\n        l('CMBotBar').firstChild.firstChild.childNodes[3].childNodes[\n          count\n        ].textContent = `${timeColour.text} (with Wrink)`;\n      } else\n        l('CMBotBar').firstChild.firstChild.childNodes[3].childNodes[count].textContent =\n          timeColour.text;\n    });\n  }\n}\n","/**\n * This function sets the size of the background of the full game and the left column\n * depending on whether certain abrs are activated\n * It is called by CM.Disp.UpdateAscendState() and CM.Disp.UpdateBotTimerBarPosition()\n */\nexport default function UpdateBackground() {\n  Game.Background.canvas.width = Game.Background.canvas.parentNode.offsetWidth;\n  Game.Background.canvas.height = Game.Background.canvas.parentNode.offsetHeight;\n  Game.LeftBackground.canvas.width = Game.LeftBackground.canvas.parentNode.offsetWidth;\n  Game.LeftBackground.canvas.height = Game.LeftBackground.canvas.parentNode.offsetHeight;\n  Game.DrawBackground();\n}\n","/** Called by the \"func\" of individual settings */\n\nimport UpdateBackground from '../Disp/HelperFunctions/UpdateBackground';\n\n/**\n * This function changes the position of both the bottom and timer bar\n */\nexport function UpdateBotTimerBarPosition() {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.BotBar === 1 &&\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBar === 1 &&\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarPos === 1\n  ) {\n    l('CMBotBar').style.bottom = l('CMTimerBar').style.height;\n    l('game').style.bottom = `${Number(l('CMTimerBar').style.height.replace('px', '')) + 70}px`;\n  } else if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.BotBar === 1) {\n    l('CMBotBar').style.bottom = '0px';\n    l('game').style.bottom = '70px';\n  } else if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBar === 1 &&\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarPos === 1\n  ) {\n    l('game').style.bottom = l('CMTimerBar').style.height;\n  } else {\n    // No bars\n    l('game').style.bottom = '0px';\n  }\n\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBar === 1 &&\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarPos === 0\n  ) {\n    l('sectionLeft').style.top = l('CMTimerBar').style.height;\n  } else {\n    l('sectionLeft').style.top = '';\n  }\n\n  UpdateBackground();\n}\n\n/**\n * This function changes the visibility of the timer bar\n */\nexport function ToggleTimerBar() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBar === 1)\n    l('CMTimerBar').style.display = '';\n  else l('CMTimerBar').style.display = 'none';\n  UpdateBotTimerBarPosition();\n}\n\n/**\n * This function changes the position of the timer bar\n */\nexport function ToggleTimerBarPos() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarPos === 0) {\n    l('CMTimerBar').style.width = '30%';\n    l('CMTimerBar').style.bottom = '';\n    l('game').insertBefore(l('CMTimerBar'), l('sectionLeft'));\n  } else {\n    l('CMTimerBar').style.width = '100%';\n    l('CMTimerBar').style.bottom = '0px';\n    l('wrapper').appendChild(l('CMTimerBar'));\n  }\n  UpdateBotTimerBarPosition();\n}\n","/** Functions related to the Timer Bar */\n\nimport { UpdateBotTimerBarPosition } from '../../Config/SpecificToggles';\nimport {\n  BuffColours,\n  ColourBackPre,\n  ColourGray,\n  ColourOrange,\n  ColourPurple,\n  LastNumberOfTimers,\n} from '../VariablesAndData';\nimport { CreateTimer } from './CreateDOMElements';\n\n/**\n * This function creates the TimerBar and appends it to l('wrapper')\n */\nexport function CreateTimerBar() {\n  const TimerBar = document.createElement('div');\n  TimerBar.id = 'CMTimerBar';\n  TimerBar.style.position = 'absolute';\n  TimerBar.style.display = 'none';\n  TimerBar.style.height = '0px';\n  TimerBar.style.fontSize = '10px';\n  TimerBar.style.fontWeight = 'bold';\n  TimerBar.style.backgroundColor = 'black';\n\n  // Create standard Autosave bar\n  const CMTimerBarAutosave = CreateTimer('CMTimerBarAutosave', 'Autosave', [\n    { id: 'CMTimerBarAutosaveBar', color: ColourPurple },\n  ]);\n  TimerBar.appendChild(CMTimerBarAutosave);\n\n  // Create standard Golden Cookie bar\n  const CMTimerBarGC = CreateTimer('CMTimerBarGC', 'Next Cookie', [\n    { id: 'CMTimerBarGCMinBar', color: ColourGray },\n    { id: 'CMTimerBarGCBar', color: ColourPurple },\n  ]);\n  TimerBar.appendChild(CMTimerBarGC);\n\n  // Create standard Reindeer bar\n  const CMTimerBarRen = CreateTimer('CMTimerBarRen', 'Next Reindeer', [\n    { id: 'CMTimerBarRenMinBar', color: ColourGray },\n    { id: 'CMTimerBarRenBar', color: ColourOrange },\n  ]);\n  TimerBar.appendChild(CMTimerBarRen);\n  const TimerBarBuffTimers = document.createElement('div');\n  TimerBarBuffTimers.id = 'CMTimerBarBuffTimers';\n  TimerBar.appendChild(TimerBarBuffTimers);\n\n  l('wrapper').appendChild(TimerBar);\n}\n\n/**\n * This function updates indivudual timers in the timer bar\n */\nexport function UpdateTimerBar() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBar === 1) {\n    // label width: 113, timer width: 30, div margin: 20\n    const maxWidthTwoBar = l('CMTimerBar').offsetWidth - 163;\n    // label width: 113, div margin: 20, calculate timer width at runtime\n    const maxWidthOneBar = l('CMTimerBar').offsetWidth - 133;\n    let numberOfTimers = 0;\n\n    if (\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AutosaveTimerBar &&\n      Game.prefs.autosave\n    ) {\n      const timeTillNextAutosave =\n        (Game.fps * 60 - (Game.OnAscend ? 0 : Game.T % (Game.fps * 60))) / Game.fps;\n      l('CMTimerBarAutosave').style.display = '';\n      l('CMTimerBarAutosaveBar').style.width = `${Math.round(\n        (timeTillNextAutosave *\n          (maxWidthOneBar - Math.ceil(timeTillNextAutosave).toString().length * 8)) /\n          60,\n      )}px`;\n      if (\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarOverlay >= 1\n      ) {\n        l('CMTimerBarAutosaveBar').textContent = Math.ceil(timeTillNextAutosave);\n      } else l('CMTimerBarAutosaveBar').textContent = '';\n      l('CMTimerBarAutosaveTime').textContent = Math.ceil(timeTillNextAutosave);\n      numberOfTimers += 1;\n    } else l('CMTimerBarAutosave').style.display = 'none';\n\n    // Regulates visibility of Golden Cookie timer\n    if (Game.shimmerTypes.golden.spawned === 0 && !Game.Has('Golden switch [off]')) {\n      l('CMTimerBarGC').style.display = '';\n      l('CMTimerBarGCMinBar').style.width = `${Math.round(\n        (Math.max(0, Game.shimmerTypes.golden.minTime - Game.shimmerTypes.golden.time) *\n          maxWidthTwoBar) /\n          Game.shimmerTypes.golden.maxTime,\n      )}px`;\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarOverlay >= 1)\n        l('CMTimerBarGCMinBar').textContent = Math.ceil(\n          (Game.shimmerTypes.golden.minTime - Game.shimmerTypes.golden.time) / Game.fps,\n        );\n      else l('CMTimerBarGCMinBar').textContent = '';\n      if (Game.shimmerTypes.golden.minTime === Game.shimmerTypes.golden.maxTime) {\n        l('CMTimerBarGCMinBar').style.borderTopRightRadius = '10px';\n        l('CMTimerBarGCMinBar').style.borderBottomRightRadius = '10px';\n      } else {\n        l('CMTimerBarGCMinBar').style.borderTopRightRadius = '';\n        l('CMTimerBarGCMinBar').style.borderBottomRightRadius = '';\n      }\n      l('CMTimerBarGCBar').style.width = `${Math.round(\n        (Math.min(\n          Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.minTime,\n          Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.time,\n        ) *\n          maxWidthTwoBar) /\n          Game.shimmerTypes.golden.maxTime,\n      )}px`;\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarOverlay >= 1)\n        l('CMTimerBarGCBar').textContent = Math.ceil(\n          Math.min(\n            Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.minTime,\n            Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.time,\n          ) / Game.fps,\n        );\n      else l('CMTimerBarGCBar').textContent = '';\n      l('CMTimerBarGCTime').textContent = Math.ceil(\n        (Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.time) / Game.fps,\n      );\n      numberOfTimers += 1;\n    } else l('CMTimerBarGC').style.display = 'none';\n\n    // Regulates visibility of Reindeer timer\n    if (Game.season === 'christmas' && Game.shimmerTypes.reindeer.spawned === 0) {\n      l('CMTimerBarRen').style.display = '';\n      l('CMTimerBarRenMinBar').style.width = `${Math.round(\n        (Math.max(0, Game.shimmerTypes.reindeer.minTime - Game.shimmerTypes.reindeer.time) *\n          maxWidthTwoBar) /\n          Game.shimmerTypes.reindeer.maxTime,\n      )}px`;\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarOverlay >= 1)\n        l('CMTimerBarRenMinBar').textContent = Math.ceil(\n          (Game.shimmerTypes.reindeer.minTime - Game.shimmerTypes.reindeer.time) / Game.fps,\n        );\n      else l('CMTimerBarRenMinBar').textContent = '';\n      l('CMTimerBarRenBar').style.width = `${Math.round(\n        (Math.min(\n          Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.minTime,\n          Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.time,\n        ) *\n          maxWidthTwoBar) /\n          Game.shimmerTypes.reindeer.maxTime,\n      )}px`;\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarOverlay >= 1)\n        l('CMTimerBarRenBar').textContent = Math.ceil(\n          Math.min(\n            Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.minTime,\n            Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.time,\n          ) / Game.fps,\n        );\n      else l('CMTimerBarRenBar').textContent = '';\n      l('CMTimerBarRenTime').textContent = Math.ceil(\n        (Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.time) / Game.fps,\n      );\n      numberOfTimers += 1;\n    } else {\n      l('CMTimerBarRen').style.display = 'none';\n    }\n\n    // On every frame all buff-timers are deleted and re-created\n    const BuffTimerBars = {};\n    l('CMTimerBarBuffTimers').innerHTML = '';\n    Object.keys(Game.buffs).forEach((i) => {\n      if (Game.buffs[i]) {\n        const timer = CreateTimer(Game.buffs[i].name, Game.buffs[i].name, [\n          { id: `${Game.buffs[i].name}Bar` },\n        ]);\n        timer.style.display = '';\n        let classColour = '';\n        // Gives specific timers specific colors\n        if (typeof BuffColours[Game.buffs[i].name] !== 'undefined') {\n          classColour = BuffColours[Game.buffs[i].name];\n        } else classColour = ColourPurple;\n        timer.lastChild.children[1].className = ColourBackPre + classColour;\n        timer.lastChild.children[1].style.color = 'black';\n        if (\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarOverlay === 2\n        )\n          timer.lastChild.children[1].textContent = `${Math.round(\n            100 * (Game.buffs[i].time / Game.buffs[i].maxTime),\n          )}%`;\n        else timer.lastChild.children[1].textContent = '';\n        timer.lastChild.children[1].style.width = `${Math.round(\n          (Game.buffs[i].time *\n            (maxWidthOneBar - Math.ceil(Game.buffs[i].time / Game.fps).toString().length * 8)) /\n            Game.buffs[i].maxTime,\n        )}px`;\n        timer.lastChild.children[2].textContent = Math.ceil(Game.buffs[i].time / Game.fps);\n        numberOfTimers += 1;\n        BuffTimerBars[Game.buffs[i].name] = timer;\n      }\n    });\n    Object.keys(BuffTimerBars).forEach((i) => {\n      l('CMTimerBarBuffTimers').appendChild(BuffTimerBars[i]);\n    });\n\n    if (numberOfTimers !== 0) {\n      l('CMTimerBar').style.height = `${numberOfTimers * 12 + 2}px`;\n    }\n    if (LastNumberOfTimers !== numberOfTimers) {\n      LastNumberOfTimers = numberOfTimers;\n      UpdateBotTimerBarPosition();\n    }\n  }\n}\n","/**\n * This function refreshes the stats page, CM.Options.UpStats determines the rate at which that happens\n * It is called by CM.Disp.Draw()\n */\nexport default function RefreshMenu() {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.UpStats &&\n    Game.onMenu === 'stats' &&\n    (Game.drawT - 1) % (Game.fps * 5) !== 0 &&\n    (Game.drawT - 1) % Game.fps === 0\n  )\n    Game.UpdateMenu();\n}\n","import { CacheDragonAura, CacheDragonAura2 } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This functions caches the currently selected Dragon Auras\n */\nexport default function CacheDragonAuras() {\n  CacheDragonAura = Game.dragonAura;\n  CacheDragonAura2 = Game.dragonAura2;\n}\n","/**\n * This function constructs an object with the static properties of an achievement\n * @param\t{string}\tachievementName\tName of the Achievement\n * @returns {Object}\tyou\t\t\t\tThe static object\n */\nexport default function InitAchievement(achievementName) {\n  const me = Game.Achievements[achievementName];\n  const you = {};\n  you.name = me.name;\n  return you;\n}\n","import { SimObjects } from '../VariablesAndData';\nimport SimHas from './SimHas';\n\n/**\n * This functions creates functions similarly to Game.GetTieredCpsMult but checks Sim Data instead of Game Data\n */\nexport default function SimGetTieredCpsMult(me) {\n  let mult = 1;\n  Object.keys(me.tieredUpgrades).forEach((i) => {\n    if (!Game.Tiers[me.tieredUpgrades[i].tier].special && SimHas(me.tieredUpgrades[i].name))\n      mult *= 2;\n  });\n  Object.keys(me.synergies).forEach((i) => {\n    if (SimHas(me.synergies[i].name)) {\n      const syn = me.synergies[i];\n      if (syn.buildingTie1.name === me.name) mult *= 1 + 0.05 * syn.buildingTie2.amount;\n      else if (syn.buildingTie2.name === me.name) mult *= 1 + 0.001 * syn.buildingTie1.amount;\n    }\n  });\n  if (me.fortune && SimHas(me.fortune.name)) mult *= 1.07;\n  if (me.grandma && SimHas(me.grandma.name))\n    mult *= 1 + SimObjects.Grandma.amount * 0.01 * (1 / (me.id - 1));\n  if (typeof me.tieredUpgrades.misfortune === 'object') {\n    if (me.vanilla === 1 && SimHas(me.tieredUpgrades.misfortune.name)) {\n      switch (Game.elderWrath) {\n        default:\n          mult *= 1;\n          break;\n        case 1:\n          mult *= 1.02;\n          break;\n        case 2:\n          mult *= 1.04;\n          break;\n        case 3:\n          mult *= 1.06;\n          break;\n      }\n    }\n  }\n  return mult;\n}\n","import SimAuraMult from '../ReplacedGameFunctions/SimAuraMult';\nimport SimEff from '../ReplacedGameFunctions/SimEff';\nimport SimGetTieredCpsMult from '../ReplacedGameFunctions/SimGetTieredCpsMult';\nimport SimHas from '../ReplacedGameFunctions/SimHas';\nimport { SimObjects } from '../VariablesAndData';\n\n/**\n * This function constructs an object with the static properties of a building,\n * but with a 'cps' method changed to check sim data\n *\n * @param\t{string}\tbuildingName\tName of the building\n * @returns {Object}\tyou\t\t\t\tThe static object\n */\nexport default function InitialBuildingData(buildingName) {\n  const me = Game.Objects[buildingName];\n  const you = {};\n  if (me.name === 'Cursor') {\n    you.cps = function (it) {\n      let add = 0;\n      if (SimHas('Thousand fingers')) add += 0.1;\n      if (SimHas('Million fingers')) add *= 5;\n      if (SimHas('Billion fingers')) add *= 10;\n      if (SimHas('Trillion fingers')) add *= 20;\n      if (SimHas('Quadrillion fingers')) add *= 20;\n      if (SimHas('Quintillion fingers')) add *= 20;\n      if (SimHas('Sextillion fingers')) add *= 20;\n      if (SimHas('Septillion fingers')) add *= 20;\n      if (SimHas('Octillion fingers')) add *= 20;\n      if (SimHas('Nonillion fingers')) add *= 20;\n      let mult = 1;\n      let num = 0;\n      Object.keys(SimObjects).forEach((i) => {\n        if (SimObjects[i].name !== 'Cursor') num += SimObjects[i].amount;\n      });\n      add *= num;\n      mult *= SimGetTieredCpsMult(it);\n      mult *= Game.magicCpS('Cursor');\n      mult *= SimEff('cursorCps');\n      return (\n        Game.ComputeCps(\n          0.1,\n          SimHas('Reinforced index finger') +\n            SimHas('Carpal tunnel prevention cream') +\n            SimHas('Ambidextrous'),\n          add,\n        ) * mult\n      );\n    };\n  } else if (me.name === 'Grandma') {\n    you.cps = function (it) {\n      let mult = 1;\n      Object.keys(Game.GrandmaSynergies).forEach((i) => {\n        if (SimHas(Game.GrandmaSynergies[i])) mult *= 2;\n      });\n      if (SimHas('Bingo center/Research facility')) mult *= 4;\n      if (SimHas('Ritual rolling pins')) mult *= 2;\n      if (SimHas('Naughty list')) mult *= 2;\n\n      if (SimHas('Elderwort biscuits')) mult *= 1.02;\n\n      mult *= SimEff('grandmaCps');\n\n      if (SimHas('Cat ladies')) {\n        for (let i = 0; i < Game.UpgradesByPool.kitten.length; i++) {\n          if (SimHas(Game.UpgradesByPool.kitten[i].name)) mult *= 1.29;\n        }\n      }\n\n      mult *= SimGetTieredCpsMult(it);\n\n      let add = 0;\n      if (SimHas('One mind')) add += SimObjects.Grandma.amount * 0.02;\n      if (SimHas('Communal brainsweep')) add += SimObjects.Grandma.amount * 0.02;\n      if (SimHas('Elder Pact')) add += SimObjects.Portal.amount * 0.05;\n\n      let num = 0;\n      Object.keys(SimObjects).forEach((i) => {\n        if (SimObjects[i].name !== 'Grandma') num += SimObjects[i].amount;\n      });\n      // if (Game.hasAura('Elder Battalion')) mult*=1+0.01*num;\n      mult *= 1 + SimAuraMult('Elder Battalion') * 0.01 * num;\n\n      mult *= Game.magicCpS(me.name);\n\n      return (me.baseCps + add) * mult;\n    };\n  } else {\n    you.cps = function (it) {\n      let mult = 1;\n      mult *= SimGetTieredCpsMult(it);\n      mult *= Game.magicCpS(it.name);\n      return it.baseCPS * mult;\n    };\n  }\n\n  // Below is needed for above eval, specifically for the GetTieredCpsMult function\n  you.baseCps = me.baseCps;\n  you.name = me.name;\n  you.tieredUpgrades = me.tieredUpgrades;\n  you.synergies = me.synergies;\n  you.fortune = me.fortune;\n  you.grandma = me.grandma;\n  you.baseCPS = me.baseCps;\n  you.id = me.id;\n  you.vanilla = me.vanilla;\n  return you;\n}\n","import SimHas from '../ReplacedGameFunctions/SimHas';\nimport SimHasGod from '../ReplacedGameFunctions/SimHasGod';\nimport { SimObjects } from '../VariablesAndData';\n\n/**\n * This function constructs an object with the static properties of an upgrade\n * @param\t{string}\tupgradeName\t\tName of the Upgrade\n * @returns {Object}\tyou\t\t\t\tThe static object\n */\nexport default function InitUpgrade(upgradeName) {\n  const me = Game.Upgrades[upgradeName];\n  const you = {};\n  // Some upgrades have a function for .power (notably the valentine cookies)\n  you.power = me.power;\n  if (typeof you.power === 'function') {\n    if (me.name === 'Sugar crystal cookies') {\n      you.power = function () {\n        let n = 5;\n        Object.keys(SimObjects).forEach((i) => {\n          if (SimObjects[i].level >= 10) n += 1;\n        });\n        return n;\n      };\n    } else {\n      you.power = function () {\n        let pow = 2;\n        if (SimHas('Starlove')) pow = 3;\n        if (Game.hasGod) {\n          const godLvl = SimHasGod('seasons');\n          if (godLvl === 1) pow *= 1.3;\n          else if (godLvl === 2) pow *= 1.2;\n          else if (godLvl === 3) pow *= 1.1;\n        }\n        return pow;\n      };\n    }\n  }\n  you.pool = me.pool;\n  you.name = me.name;\n  return you;\n}\n","import CacheDragonAuras from '../../Cache/Dragon/CacheDragonAuras';\nimport { CacheDragonAura, CacheDragonAura2 } from '../../Cache/VariablesAndData';\nimport { CreateBotBarBuildingColumn } from '../../Disp/InfoBars/CreateDOMElements';\nimport InitAchievement from '../InitializeData/InitAchievement';\nimport InitialBuildingData from '../InitializeData/InitialBuildingData';\nimport InitUpgrade from '../InitializeData/InitUpgrade';\nimport {\n  SimAchievements,\n  SimAchievementsOwned, // eslint-disable-line no-unused-vars\n  SimDragonAura, // eslint-disable-line no-unused-vars\n  SimDragonAura2, // eslint-disable-line no-unused-vars\n  SimGod1, // eslint-disable-line no-unused-vars\n  SimGod2, // eslint-disable-line no-unused-vars\n  SimGod3, // eslint-disable-line no-unused-vars\n  SimHeavenlyPower, // eslint-disable-line no-unused-vars\n  SimObjects,\n  SimPledges, // eslint-disable-line no-unused-vars\n  SimPrestige, // eslint-disable-line no-unused-vars\n  SimUpgrades,\n  SimUpgradesOwned, // eslint-disable-line no-unused-vars\n} from '../VariablesAndData';\n\n/**\n * This function copies all relevant data and therefore sets a new iteration of the \"sim data\"\n * It is called at the start of any function that simulates certain behaviour or actions\n */\nexport default function CopyData() {\n  // Other variables\n  SimUpgradesOwned = Game.UpgradesOwned;\n  SimPledges = Game.pledges;\n  SimAchievementsOwned = Game.AchievementsOwned;\n  SimHeavenlyPower = Game.heavenlyPower;\n  SimPrestige = Game.prestige;\n\n  // Buildings\n  Object.keys(Game.Objects).forEach((i) => {\n    const me = Game.Objects[i];\n    let you = SimObjects[i];\n    if (you === undefined) {\n      // New building!\n      SimObjects[i] = InitialBuildingData(i);\n      you = SimObjects[i];\n      CreateBotBarBuildingColumn(i); // Add new building to the bottom bar\n    }\n    you.amount = me.amount;\n    you.level = me.level;\n    you.totalCookies = me.totalCookies;\n    you.basePrice = me.basePrice;\n    you.free = me.free;\n    if (me.minigameLoaded) {\n      if (me.name === 'Temple') {\n        SimGod1 = me.minigame.slot[0];\n        SimGod2 = me.minigame.slot[1];\n        SimGod3 = me.minigame.slot[2];\n      }\n      you.minigameLoaded = me.minigameLoaded;\n      you.minigame = me.minigame;\n    }\n    SimObjects[i] = you;\n  });\n\n  // Upgrades\n  Object.keys(Game.Upgrades).forEach((i) => {\n    const me = Game.Upgrades[i];\n    let you = SimUpgrades[i];\n    if (you === undefined) {\n      SimUpgrades[i] = InitUpgrade(i);\n      you = SimUpgrades[i];\n    }\n    you.bought = me.bought;\n    SimUpgrades[i] = you;\n  });\n\n  // Achievements\n  Object.keys(Game.Achievements).forEach((i) => {\n    const me = Game.Achievements[i];\n    let you = SimAchievements[i];\n    if (you === undefined) {\n      SimAchievements[i] = InitAchievement(i);\n      you = SimAchievements[i];\n    }\n    you.won = me.won;\n    SimAchievements[i] = you;\n  });\n\n  // Auras\n  CacheDragonAuras();\n  SimDragonAura = CacheDragonAura;\n  SimDragonAura2 = CacheDragonAura2;\n}\n","import {\n  ColourTextPre,\n  ColourBorderPre,\n  ColourGray,\n  ColourBlue,\n  ColourRed,\n  ColourYellow,\n  ColourPurple,\n  TooltipType,\n} from '../VariablesAndData';\n\n/** Creates various sections of tooltips */\n\n/**\n * This function creates a tooltipBox object which contains all CookieMonster added tooltip information.\n * @returns {object}\tdiv\t\tAn object containing the stylized box\n */\nexport function TooltipCreateTooltipBox() {\n  l('tooltip').firstChild.style.paddingBottom = '4px'; // Sets padding on base-tooltip\n  const tooltipBox = document.createElement('div');\n  tooltipBox.style.border = '1px solid';\n  tooltipBox.style.padding = '4px';\n  tooltipBox.style.margin = '0px -4px';\n  tooltipBox.id = 'CMTooltipBorder';\n  tooltipBox.className = ColourTextPre + ColourGray;\n  return tooltipBox;\n}\n\n/**\n * This function creates a header object for tooltips.\n * @param\t{string}\ttext\tTitle of header\n * @returns {object}\tdiv\t\tAn object containing the stylized header\n */\nexport function TooltipCreateHeader(text) {\n  const div = document.createElement('div');\n  div.style.fontWeight = 'bold';\n  div.id = `${text}Title`;\n  div.className = ColourTextPre + ColourBlue;\n  div.textContent = text;\n  return div;\n}\n\n/**\n * This function creates the tooltip objectm for warnings\n * The object is also removed by CM.Disp.UpdateTooltipWarnings() when type is 's' or 'g'\n * @returns {object}\tTooltipWarn\tThe Warnings-tooltip object\n */\nexport function TooltipCreateWarningSection() {\n  const TooltipWarn = document.createElement('div');\n  TooltipWarn.style.position = 'absolute';\n  TooltipWarn.style.display = 'block';\n  TooltipWarn.style.left = 'auto';\n  TooltipWarn.style.bottom = 'auto';\n  TooltipWarn.id = 'CMDispTooltipWarningParent';\n\n  const create = function (boxId, color, labelTextFront, labelTextBack, deficitId) {\n    const box = document.createElement('div');\n    box.id = boxId;\n    box.style.display = 'none';\n    box.style.transition = 'opacity 0.1s ease-out';\n    box.className = ColourBorderPre + color;\n    box.style.padding = '2px';\n    box.style.background = '#000 url(img/darkNoise.png)';\n    const labelDiv = document.createElement('div');\n    box.appendChild(labelDiv);\n    const labelSpan = document.createElement('span');\n    labelSpan.className = ColourTextPre + color;\n    labelSpan.style.fontWeight = 'bold';\n    labelSpan.textContent = labelTextFront;\n    labelDiv.appendChild(labelSpan);\n    labelDiv.appendChild(document.createTextNode(labelTextBack));\n    const deficitDiv = document.createElement('div');\n    box.appendChild(deficitDiv);\n    const deficitSpan = document.createElement('span');\n    deficitSpan.id = deficitId;\n    deficitDiv.appendChild(document.createTextNode('Deficit: '));\n    deficitDiv.appendChild(deficitSpan);\n    return box;\n  };\n\n  TooltipWarn.appendChild(\n    create(\n      'CMDispTooltipWarnLucky',\n      ColourRed,\n      'Warning: ',\n      'Purchase of this item will put you under the number of Cookies required for \"Lucky!\"',\n      'CMDispTooltipWarnLuckyText',\n    ),\n  );\n  TooltipWarn.firstChild.style.marginBottom = '4px';\n  TooltipWarn.appendChild(\n    create(\n      'CMDispTooltipWarnLuckyFrenzy',\n      ColourYellow,\n      'Warning: ',\n      'Purchase of this item will put you under the number of Cookies required for \"Lucky!\" (Frenzy)',\n      'CMDispTooltipWarnLuckyFrenzyText',\n    ),\n  );\n  TooltipWarn.lastChild.style.marginBottom = '4px';\n  TooltipWarn.appendChild(\n    create(\n      'CMDispTooltipWarnConjure',\n      ColourPurple,\n      'Warning: ',\n      'Purchase of this item will put you under the number of Cookies required for \"Conjure Baked Goods\"',\n      'CMDispTooltipWarnConjureText',\n    ),\n  );\n  TooltipWarn.lastChild.style.marginBottom = '4px';\n  TooltipWarn.appendChild(\n    create(\n      'CMDispTooltipWarnConjureFrenzy',\n      ColourPurple,\n      'Warning: ',\n      'Purchase of this item will put you under the number of Cookies required for \"Conjure Baked Goods\" (Frenzy)',\n      'CMDispTooltipWarnConjureFrenzyText',\n    ),\n  );\n  TooltipWarn.lastChild.style.marginBottom = '4px';\n  TooltipWarn.appendChild(\n    create(\n      'CMDispTooltipWarnEdifice',\n      ColourPurple,\n      'Warning: ',\n      'Purchase of this item will put you under the number of Cookies needed for \"Spontaneous Edifice\" to possibly give you your most expensive building\"',\n      'CMDispTooltipWarnEdificeText',\n    ),\n  );\n  TooltipWarn.lastChild.style.marginBottom = '4px';\n  TooltipWarn.appendChild(\n    create(\n      'CMDispTooltipWarnUser',\n      ColourRed,\n      'Warning: ',\n      `Purchase of this item will put you under the number of Cookies equal to ${Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnUser} seconds of CPS`,\n      'CMDispTooltipWarnUserText',\n    ),\n  );\n\n  return TooltipWarn;\n}\n\n/**\n * This function appends the sections for Bonus Income, PP and Time left (to achiev) to the tooltip-object\n * The actual data is added by the Update-functions themselves\n * @param\t{object}\ttooltip\t\tObject of a TooltipBox, normally created by a call to CM.Disp.TooltipCreateTooltipBox()\n */\nexport function TooltipCreateCalculationSection(tooltip) {\n  tooltip.appendChild(TooltipCreateHeader('Bonus Income'));\n  const income = document.createElement('div');\n  income.style.marginBottom = '4px';\n  income.style.color = 'white';\n  income.id = 'CMTooltipIncome';\n  tooltip.appendChild(income);\n\n  tooltip.appendChild(TooltipCreateHeader('Bonus Cookies per Click'));\n  tooltip.lastChild.style.display = 'none'; // eslint-disable-line no-param-reassign\n  const click = document.createElement('div');\n  click.style.marginBottom = '4px';\n  click.style.color = 'white';\n  click.style.display = 'none';\n  click.id = 'CMTooltipCookiePerClick';\n  tooltip.appendChild(click);\n\n  tooltip.appendChild(TooltipCreateHeader('Payback Period'));\n  const pp = document.createElement('div');\n  pp.style.marginBottom = '4px';\n  pp.id = 'CMTooltipPP';\n  tooltip.appendChild(pp);\n\n  tooltip.appendChild(TooltipCreateHeader('Time Left'));\n  const time = document.createElement('div');\n  time.id = 'CMTooltipTime';\n  tooltip.appendChild(time);\n\n  if (TooltipType === 'b') {\n    tooltip.appendChild(TooltipCreateHeader('Production left till next achievement'));\n    tooltip.lastChild.id = 'CMTooltipProductionLeftHeader'; // eslint-disable-line no-param-reassign\n    const production = document.createElement('div');\n    production.id = 'CMTooltipProductionLeft';\n    tooltip.appendChild(production);\n  }\n  if (TooltipType === 'b') {\n    tooltip.appendChild(TooltipCreateHeader('Buildings (price / PP) left till next achievement'));\n    tooltip.lastChild.id = 'CMTooltipNextAchievementHeader'; // eslint-disable-line no-param-reassign\n    const production = document.createElement('div');\n    production.id = 'CMTooltipNextAchievement';\n    tooltip.appendChild(production);\n  }\n}\n","import GetCPS from '../../Disp/HelperFunctions/GetCPS';\nimport {\n  ColourBlue,\n  ColourGray,\n  ColourGreen,\n  ColourOrange,\n  ColourPurple,\n  ColourRed,\n  ColourYellow,\n} from '../../Disp/VariablesAndData';\nimport { CacheMinPP, CachePPArray } from '../VariablesAndData';\n\n/**\n * This functions return the colour assosciated with the given pp value\n * It is called by CM.Cache.CacheBuildingsPP(), CM.Cache.CacheBuildingsBulkPP() and CM.Cache.CacheUpgradePP()\n * @params\t{object}\tobj\t\tThe obj of which the pp value should be checked\n * @params\t{number}\tprice\tThe price of the object\n * @returns {string}\tcolor\tThe colour assosciated with the pp value\n */\nexport default function ColourOfPP(me, price) {\n  let color = '';\n  // Colour based on PP\n  if (me.pp <= 0 || me.pp === Infinity) color = ColourGray;\n  else if (me.pp < CacheMinPP) color = ColourBlue;\n  else if (me.pp === CacheMinPP) color = ColourGreen;\n  else if (me.pp < CachePPArray[10][0]) color = ColourYellow;\n  else if (me.pp < CachePPArray[20][0]) color = ColourOrange;\n  else if (me.pp < CachePPArray[30][0]) color = ColourRed;\n  else color = ColourPurple;\n\n  // Colour based on price in terms of CPS\n  if (\n    Number(\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPSecondsLowerLimit,\n    ) !== 0\n  ) {\n    if (\n      price / GetCPS() <\n      Number(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPSecondsLowerLimit,\n      )\n    )\n      color = ColourBlue;\n  }\n  // Colour based on being able to purchase\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPOnlyConsiderBuyable) {\n    if (price - Game.cookies > 0) color = ColourRed;\n  }\n  return color;\n}\n","/**\n * This function returns the current CPS buff\n * @returns {number}\tmult\tThe multiplier\n */\nexport default function GetCPSBuffMult() {\n  let mult = 1;\n  Object.keys(Game.buffs).forEach((i) => {\n    if (typeof Game.buffs[i].multCpS !== 'undefined') mult *= Game.buffs[i].multCpS;\n  });\n  return mult;\n}\n","import SimAuraMult from './SimAuraMult';\nimport SimHas from './SimHas';\nimport SimHasGod from './SimHasGod';\n\n/**\n * This functions creates functions similarly to Game.GetHeavenlyMultiplier but checks Sim Data instead of Game Data\n */\nexport default function SimGetHeavenlyMultiplier() {\n  let heavenlyMult = 0;\n  if (SimHas('Heavenly chip secret')) heavenlyMult += 0.05;\n  if (SimHas('Heavenly cookie stand')) heavenlyMult += 0.2;\n  if (SimHas('Heavenly bakery')) heavenlyMult += 0.25;\n  if (SimHas('Heavenly confectionery')) heavenlyMult += 0.25;\n  if (SimHas('Heavenly key')) heavenlyMult += 0.25;\n  // if (SimHasAura('Dragon God')) heavenlyMult*=1.05;\n  heavenlyMult *= 1 + SimAuraMult('Dragon God') * 0.05;\n  if (SimHas('Lucky digit')) heavenlyMult *= 1.01;\n  if (SimHas('Lucky number')) heavenlyMult *= 1.01;\n  if (SimHas('Lucky payout')) heavenlyMult *= 1.01;\n  if (Game.hasGod) {\n    const godLvl = SimHasGod('creation');\n    if (godLvl === 1) heavenlyMult *= 0.7;\n    else if (godLvl === 2) heavenlyMult *= 0.8;\n    else if (godLvl === 3) heavenlyMult *= 0.9;\n  }\n  return heavenlyMult;\n}\n","import { SimAchievements, SimAchievementsOwned } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This function \"wins\" an achievement in the current sim data\n * It functions similarly to Game.Win()\n * It is not created by CM.Sim.CreateSimFunctions() in order to avoid spamming pop-ups upon winning\n * @param\t{string}\twhat\tName of the achievement\n */\nexport default function SimWin(what) {\n  if (SimAchievements[what]) {\n    if (SimAchievements[what].won === 0) {\n      SimAchievements[what].won = 1;\n      if (Game.Achievements[what].pool !== 'shadow') SimAchievementsOwned += 1;\n    }\n  }\n}\n","import GetCPSBuffMult from '../../Cache/CPS/GetCPSBuffMult';\nimport { CacheCentEgg } from '../../Cache/VariablesAndData';\nimport { CenturyDateAtBeginLoop, CycliusDateAtBeginLoop } from '../../Main/VariablesAndData';\nimport SimAuraMult from '../ReplacedGameFunctions/SimAuraMult';\nimport SimEff from '../ReplacedGameFunctions/SimEff';\nimport SimGetHeavenlyMultiplier from '../ReplacedGameFunctions/SimGetHeavenlyMultiplier';\nimport SimHas from '../ReplacedGameFunctions/SimHas';\nimport SimHasGod from '../ReplacedGameFunctions/SimHasGod';\nimport SimWin from '../SimulationData/SimWin';\nimport {\n  SimAchievementsOwned,\n  SimCookiesPs,\n  SimCookiesPsRaw, // eslint-disable-line no-unused-vars\n  SimEffs, // eslint-disable-line no-unused-vars\n  SimHeavenlyPower,\n  SimObjects,\n  SimPrestige,\n  SimUpgrades,\n} from '../VariablesAndData';\n\n/**\n * This function calculates the CPS of the current \"sim data\"\n * It is similar to Game.CalculateGains()\n * It is called at the start of any function that simulates certain behaviour or actions\n * @global\t{number}\tCM.Sim.cookiesPs\tThe CPS of the current sim data\n */\nexport default function CalculateGains() {\n  SimCookiesPs = 0;\n  let mult = 1;\n  // Include minigame effects\n  const effs = {};\n  Object.keys(Game.Objects).forEach((i) => {\n    if (Game.Objects[i].minigameLoaded && Game.Objects[i].minigame.effs) {\n      const myEffs = Game.Objects[i].minigame.effs;\n      Object.keys(myEffs).forEach((ii) => {\n        if (effs[ii]) effs[ii] *= myEffs[ii];\n        else effs[ii] = myEffs[ii];\n      });\n    }\n  });\n  SimEffs = effs;\n\n  if (Game.ascensionMode !== 1)\n    mult += parseFloat(SimPrestige) * 0.01 * SimHeavenlyPower * SimGetHeavenlyMultiplier();\n\n  mult *= SimEff('cps');\n\n  if (SimHas('Heralds') && Game.ascensionMode !== 1) mult *= 1 + 0.01 * Game.heralds;\n\n  Object.keys(Game.cookieUpgrades).forEach((i) => {\n    const me = Game.cookieUpgrades[i];\n    if (SimHas(me.name)) {\n      // Some upgrades have a functio as .power (notably the valentine cookies)\n      // CM.Sim.InitialBuildingData has changed to use CM.Sim.Has instead of Game.Has etc.\n      // Therefore this call is to the .power of the Sim.Object\n      if (typeof me.power === 'function') {\n        mult *= 1 + SimUpgrades[me.name].power(SimUpgrades[me.name]) * 0.01;\n      } else mult *= 1 + me.power * 0.01;\n    }\n  });\n\n  if (SimHas('Specialized chocolate chips')) mult *= 1.01;\n  if (SimHas('Designer cocoa beans')) mult *= 1.02;\n  if (SimHas('Underworld ovens')) mult *= 1.03;\n  if (SimHas('Exotic nuts')) mult *= 1.04;\n  if (SimHas('Arcane sugar')) mult *= 1.05;\n\n  if (SimHas('Increased merriness')) mult *= 1.15;\n  if (SimHas('Improved jolliness')) mult *= 1.15;\n  if (SimHas('A lump of coal')) mult *= 1.01;\n  if (SimHas('An itchy sweater')) mult *= 1.01;\n  if (SimHas(\"Santa's dominion\")) mult *= 1.2;\n\n  if (SimHas('Fortune #100')) mult *= 1.01;\n  if (SimHas('Fortune #101')) mult *= 1.07;\n\n  if (SimHas('Dragon scale')) mult *= 1.03;\n\n  // Check effect of chosen Gods\n  let buildMult = 1;\n  if (SimHasGod) {\n    let godLvl = SimHasGod('asceticism');\n    if (godLvl === 1) mult *= 1.15;\n    else if (godLvl === 2) mult *= 1.1;\n    else if (godLvl === 3) mult *= 1.05;\n\n    godLvl = SimHasGod('ages');\n    if (godLvl === 1)\n      mult *= 1 + 0.15 * Math.sin((CycliusDateAtBeginLoop / 1000 / (60 * 60 * 3)) * Math.PI * 2);\n    else if (godLvl === 2)\n      mult *= 1 + 0.15 * Math.sin((CycliusDateAtBeginLoop / 1000 / (60 * 60 * 12)) * Math.PI * 2);\n    else if (godLvl === 3)\n      mult *= 1 + 0.15 * Math.sin((CycliusDateAtBeginLoop / 1000 / (60 * 60 * 24)) * Math.PI * 2);\n\n    godLvl = SimHasGod('decadence');\n    if (godLvl === 1) buildMult *= 0.93;\n    else if (godLvl === 2) buildMult *= 0.95;\n    else if (godLvl === 3) buildMult *= 0.98;\n\n    godLvl = SimHasGod('industry');\n    if (godLvl === 1) buildMult *= 1.1;\n    else if (godLvl === 2) buildMult *= 1.06;\n    else if (godLvl === 3) buildMult *= 1.03;\n\n    godLvl = SimHasGod('labor');\n    if (godLvl === 1) buildMult *= 0.97;\n    else if (godLvl === 2) buildMult *= 0.98;\n    else if (godLvl === 3) buildMult *= 0.99;\n  }\n\n  if (SimHas(\"Santa's legacy\")) mult *= 1 + (Game.santaLevel + 1) * 0.03;\n\n  const milkProgress = SimAchievementsOwned / 25;\n  let milkMult = 1;\n  if (SimHas(\"Santa's milk and cookies\")) milkMult *= 1.05;\n  // if (CM.Sim.hasAura('Breath of Milk')) milkMult *= 1.05;\n  milkMult *= 1 + SimAuraMult('Breath of Milk') * 0.05;\n  if (SimHasGod) {\n    const godLvl = SimHasGod('mother');\n    if (godLvl === 1) milkMult *= 1.1;\n    else if (godLvl === 2) milkMult *= 1.05;\n    else if (godLvl === 3) milkMult *= 1.03;\n  }\n  milkMult *= SimEff('milk');\n\n  let catMult = 1;\n\n  if (SimHas('Kitten helpers')) catMult *= 1 + milkProgress * 0.1 * milkMult;\n  if (SimHas('Kitten workers')) catMult *= 1 + milkProgress * 0.125 * milkMult;\n  if (SimHas('Kitten engineers')) catMult *= 1 + milkProgress * 0.15 * milkMult;\n  if (SimHas('Kitten overseers')) catMult *= 1 + milkProgress * 0.175 * milkMult;\n  if (SimHas('Kitten managers')) catMult *= 1 + milkProgress * 0.2 * milkMult;\n  if (SimHas('Kitten accountants')) catMult *= 1 + milkProgress * 0.2 * milkMult;\n  if (SimHas('Kitten specialists')) catMult *= 1 + milkProgress * 0.2 * milkMult;\n  if (SimHas('Kitten experts')) catMult *= 1 + milkProgress * 0.2 * milkMult;\n  if (SimHas('Kitten consultants')) catMult *= 1 + milkProgress * 0.2 * milkMult;\n  if (SimHas('Kitten assistants to the regional manager'))\n    catMult *= 1 + milkProgress * 0.175 * milkMult;\n  if (SimHas('Kitten marketeers')) catMult *= 1 + milkProgress * 0.15 * milkMult;\n  if (SimHas('Kitten analysts')) catMult *= 1 + milkProgress * 0.125 * milkMult;\n  if (SimHas('Kitten executives')) catMult *= 1 + milkProgress * 0.115 * milkMult;\n  if (SimHas('Kitten angels')) catMult *= 1 + milkProgress * 0.1 * milkMult;\n  if (SimHas('Fortune #103')) catMult *= 1 + milkProgress * 0.05 * milkMult;\n\n  Object.keys(SimObjects).forEach((i) => {\n    const me = SimObjects[i];\n    let storedCps = me.cps(me);\n    if (Game.ascensionMode !== 1) storedCps *= (1 + me.level * 0.01) * buildMult;\n    if (me.name === 'Grandma' && SimHas('Milkhelp&reg; lactose intolerance relief tablets'))\n      storedCps *= 1 + 0.05 * milkProgress * milkMult;\n    SimCookiesPs += me.amount * storedCps;\n  });\n\n  if (SimHas('\"egg\"')) SimCookiesPs += 9; // \"egg\"\n\n  mult *= catMult;\n\n  let eggMult = 1;\n  if (SimHas('Chicken egg')) eggMult *= 1.01;\n  if (SimHas('Duck egg')) eggMult *= 1.01;\n  if (SimHas('Turkey egg')) eggMult *= 1.01;\n  if (SimHas('Quail egg')) eggMult *= 1.01;\n  if (SimHas('Robin egg')) eggMult *= 1.01;\n  if (SimHas('Ostrich egg')) eggMult *= 1.01;\n  if (SimHas('Cassowary egg')) eggMult *= 1.01;\n  if (SimHas('Salmon roe')) eggMult *= 1.01;\n  if (SimHas('Frogspawn')) eggMult *= 1.01;\n  if (SimHas('Shark egg')) eggMult *= 1.01;\n  if (SimHas('Turtle egg')) eggMult *= 1.01;\n  if (SimHas('Ant larva')) eggMult *= 1.01;\n  if (SimHas('Century egg')) {\n    // The boost increases a little every day, with diminishing returns up to +10% on the 100th day\n    let day =\n      (Math.floor((CenturyDateAtBeginLoop - Game.startDate) / 1000 / 10) * 10) / 60 / 60 / 24;\n    day = Math.min(day, 100);\n    // Sets a Cache value to be displayed in the Stats page, could be moved...\n    CacheCentEgg = 1 + (1 - (1 - day / 100) ** 3) * 0.1;\n    eggMult *= CacheCentEgg;\n  }\n  mult *= eggMult;\n\n  if (SimHas('Sugar baking')) mult *= 1 + Math.min(100, Game.lumps) * 0.01;\n\n  // if (CM.Sim.hasAura('Radiant Appetite')) mult *= 2;\n  mult *= 1 + SimAuraMult('Radiant Appetite');\n\n  const rawCookiesPs = SimCookiesPs * mult;\n  Object.keys(Game.CpsAchievements).forEach((i) => {\n    if (rawCookiesPs >= Game.CpsAchievements[i].threshold) SimWin(Game.CpsAchievements[i].name);\n  });\n\n  SimCookiesPsRaw = rawCookiesPs;\n\n  const { n } = Game.shimmerTypes.golden;\n  const auraMult = SimAuraMult(\"Dragon's Fortune\");\n  for (let i = 0; i < n; i++) {\n    mult *= 1 + auraMult * 1.23;\n  }\n\n  const name = Game.bakeryName.toLowerCase();\n  if (name === 'orteil') mult *= 0.99;\n  else if (name === 'ortiel') mult *= 0.98;\n\n  if (SimHas('Elder Covenant')) mult *= 0.95;\n\n  if (SimHas('Golden switch [off]')) {\n    let goldenSwitchMult = 1.5;\n    if (SimHas('Residual luck')) {\n      const upgrades = Game.goldenCookieUpgrades;\n      Object.keys(upgrades).forEach((i) => {\n        if (SimHas(upgrades[i])) goldenSwitchMult += 0.1;\n      });\n    }\n    mult *= goldenSwitchMult;\n  }\n  if (SimHas('Shimmering veil [off]')) {\n    let veilMult = 0.5;\n    if (SimHas('Reinforced membrane')) veilMult += 0.1;\n    mult *= 1 + veilMult;\n  }\n\n  if (SimHas('Magic shenanigans')) mult *= 1000;\n  if (SimHas('Occult obstruction')) mult *= 0;\n\n  SimCookiesPs = Game.runModHookOnValue('cps', SimCookiesPs);\n\n  mult *= GetCPSBuffMult();\n\n  SimCookiesPs *= mult;\n\n  // if (Game.hasBuff('Cursed finger')) Game.cookiesPs = 0;\n}\n","/** Data copied directly from the game */\n\n/** Array of the names of all fortune cookies obtainable from the ticker */\nexport const Fortunes: string[] = [\n  'Fortune #001',\n  'Fortune #002',\n  'Fortune #003',\n  'Fortune #004',\n  'Fortune #005',\n  'Fortune #006',\n  'Fortune #007',\n  'Fortune #008',\n  'Fortune #009',\n  'Fortune #010',\n  'Fortune #011',\n  'Fortune #012',\n  'Fortune #013',\n  'Fortune #014',\n  'Fortune #015',\n  'Fortune #016',\n  'Fortune #017',\n  'Fortune #018',\n  'Fortune #100',\n  'Fortune #101',\n  'Fortune #102',\n  'Fortune #103',\n  'Fortune #104',\n];\n\n/** Array of the names of all Halloween cookies */\nexport const HalloCookies: string[] = [\n  'Skull cookies',\n  'Ghost cookies',\n  'Bat cookies',\n  'Slime cookies',\n  'Pumpkin cookies',\n  'Eyeball cookies',\n  'Spider cookies',\n];\n\n/** Array of the names of all Christmas cookies */\nexport const ChristCookies: string[] = [\n  'Christmas tree biscuits',\n  'Snowflake biscuits',\n  'Snowman biscuits',\n  'Holly biscuits',\n  'Candy cane biscuits',\n  'Bell biscuits',\n  'Present biscuits',\n];\n\n/** Array of the names of all Valentine cookies */\nexport const ValCookies: string[] = [\n  'Pure heart biscuits',\n  'Ardent heart biscuits',\n  'Sour heart biscuits',\n  'Weeping heart biscuits',\n  'Golden heart biscuits',\n  'Eternal heart biscuits',\n  'Prism heart biscuits',\n];\n\n/** Array of the names of all plant drops */\nexport const PlantDrops: string[] = [\n  'Elderwort biscuits',\n  'Bakeberry cookies',\n  'Duketater cookies',\n  'Green yeast digestives',\n  'Wheat slims',\n  'Fern tea',\n  'Ichor syrup',\n];\n\n/** All possible effects plants and other items can have with a display-title */\nexport const Effects: { [index: string]: string } = {\n  buildingCost: 'Building prices',\n  click: 'Cookies per click',\n  cps: 'Total CPS',\n  cursorCps: 'Cursor CPS',\n  goldenCookieDur: 'Golden cookie duration',\n  goldenCookieEffDur: 'Golden cookie effect duration',\n  goldenCookieFreq: 'Golden cookie frequency',\n  goldenCookieGain: 'Golden cookie gains',\n  grandmaCps: 'Grandma CPS',\n  itemDrops: 'Random item drop chance',\n  milk: 'Effect from milk',\n  reindeerDur: 'Reindeer duration',\n  reindeerFreq: 'Reindeer frequency',\n  reindeerGain: 'Reindeer gains',\n  upgradeCost: 'Upgrade prices',\n  wrathCookieDur: 'Wrath cookie duration',\n  wrathCookieEffDur: 'Wrath cookie effect duration',\n  wrathCookieFreq: 'Wrath cookie frequency',\n  wrathCookieGain: 'Wrath cookie gains',\n  wrinklerEat: 'Wrinkler ',\n  wrinklerSpawn: 'Wrinkler spawn frequency',\n};\n","import { SimAchievements } from '../VariablesAndData';\n\n/**\n * This functions creates functions similarly to Game.HasAchiev but checks Sim Data instead of Game Data\n */\nexport default function SimHasAchiev(what) {\n  return SimAchievements[what] ? SimAchievements[what].won : 0;\n}\n","import { ChristCookies, HalloCookies } from '../../Data/Gamedata.ts';\nimport SimHas from '../ReplacedGameFunctions/SimHas';\nimport SimHasAchiev from '../ReplacedGameFunctions/SimHasAchiev';\nimport SimWin from '../SimulationData/SimWin';\nimport { SimObjects, SimUpgradesOwned } from '../VariablesAndData';\n\n/**\n * This function calculates if any special achievements have been obtained\n * If so it SimWin()'s them and the caller function will know to recall CM.Sim.CalculateGains()\n * It is called at the end of any functions that simulates certain behaviour\n */\nexport default function CheckOtherAchiev() {\n  let grandmas = 0;\n  Object.keys(Game.GrandmaSynergies).forEach((i) => {\n    if (SimHas(Game.GrandmaSynergies[i])) grandmas += 1;\n  });\n  if (!SimHasAchiev('Elder') && grandmas >= 7) SimWin('Elder');\n  if (!SimHasAchiev('Veteran') && grandmas >= 14) SimWin('Veteran');\n\n  let buildingsOwned = 0;\n  let mathematician = 1;\n  let base10 = 1;\n  let minAmount = 100000;\n  Object.keys(SimObjects).forEach((i) => {\n    buildingsOwned += SimObjects[i].amount;\n    minAmount = Math.min(SimObjects[i].amount, minAmount);\n    if (!SimHasAchiev('Mathematician')) {\n      if (\n        SimObjects[i].amount <\n        Math.min(128, 2 ** (Game.ObjectsById.length - Game.Objects[i].id - 1))\n      )\n        mathematician = 0;\n    }\n    if (!SimHasAchiev('Base 10')) {\n      if (SimObjects[i].amount < (Game.ObjectsById.length - Game.Objects[i].id) * 10) base10 = 0;\n    }\n  });\n  if (minAmount >= 1) SimWin('One with everything');\n  if (mathematician === 1) SimWin('Mathematician');\n  if (base10 === 1) SimWin('Base 10');\n  if (minAmount >= 100) SimWin('Centennial');\n  if (minAmount >= 150) SimWin('Centennial and a half');\n  if (minAmount >= 200) SimWin('Bicentennial');\n  if (minAmount >= 250) SimWin('Bicentennial and a half');\n  if (minAmount >= 300) SimWin('Tricentennial');\n  if (minAmount >= 350) SimWin('Tricentennial and a half');\n  if (minAmount >= 400) SimWin('Quadricentennial');\n  if (minAmount >= 450) SimWin('Quadricentennial and a half');\n  if (minAmount >= 500) SimWin('Quincentennial');\n  if (minAmount >= 550) SimWin('Quincentennial and a half');\n  if (minAmount >= 600) SimWin('Sexcentennial');\n\n  if (buildingsOwned >= 100) SimWin('Builder');\n  if (buildingsOwned >= 500) SimWin('Architect');\n  if (buildingsOwned >= 1000) SimWin('Engineer');\n  if (buildingsOwned >= 2000) SimWin('Lord of Constructs');\n  if (buildingsOwned >= 4000) SimWin('Grand design');\n  if (buildingsOwned >= 8000) SimWin('Ecumenopolis');\n\n  if (SimUpgradesOwned >= 20) SimWin('Enhancer');\n  if (SimUpgradesOwned >= 50) SimWin('Augmenter');\n  if (SimUpgradesOwned >= 100) SimWin('Upgrader');\n  if (SimUpgradesOwned >= 200) SimWin('Lord of Progress');\n  if (SimUpgradesOwned >= 300) SimWin('The full picture');\n  if (SimUpgradesOwned >= 400) SimWin(\"When there's nothing left to add\");\n\n  if (buildingsOwned >= 4000 && SimUpgradesOwned >= 300) SimWin('Polymath');\n  if (buildingsOwned >= 8000 && SimUpgradesOwned >= 400) SimWin('Renaissance baker');\n\n  if (SimObjects.Cursor.amount + SimObjects.Grandma.amount >= 777) SimWin('The elder scrolls');\n\n  let hasAllHalloCook = true;\n  Object.keys(HalloCookies).forEach((i) => {\n    if (!SimHas(HalloCookies[i])) hasAllHalloCook = false;\n  });\n  if (hasAllHalloCook) SimWin('Spooky cookies');\n\n  let hasAllChristCook = true;\n  Object.keys(ChristCookies).forEach((i) => {\n    if (!SimHas(ChristCookies[i])) hasAllChristCook = false;\n  });\n  if (hasAllChristCook) SimWin('Let it snow');\n\n  if (SimHas('Fortune cookies')) {\n    const list = Game.Tiers.fortune.upgrades;\n    let fortunes = 0;\n    Object.keys(list).forEach((i) => {\n      if (SimHas(list[i].name)) fortunes += 1;\n    });\n    if (fortunes >= list.length) SimWin('O Fortuna');\n  }\n}\n","import CalculateGains from '../Calculations/CalculateGains';\nimport CheckOtherAchiev from '../Calculations/CheckOtherAchiev';\nimport CopyData from '../SimulationData/CopyData';\nimport SimWin from '../SimulationData/SimWin';\nimport { SimAchievementsOwned, SimCookiesPs, SimObjects } from '../VariablesAndData';\n\n/**\n * This function calculates the bonus income of buying a building\n * It is called by CM.Cache.CacheBuildingIncome()\n * @param\t{string}\tbuilding\tThe name of the building to be bought\n * @param\t{number}\tamount\t\tThe amount to be bought\n * @returns {number}\t\t\t\tThe bonus income of the building\n */\nexport default function BuyBuildingsBonusIncome(building, amount) {\n  CopyData();\n  SimObjects[building].amount += amount;\n  const me = SimObjects[building];\n\n  if (building === 'Cursor') {\n    if (me.amount >= 1) SimWin('Click');\n    if (me.amount >= 2) SimWin('Double-click');\n    if (me.amount >= 50) SimWin('Mouse wheel');\n    if (me.amount >= 100) SimWin('Of Mice and Men');\n    if (me.amount >= 200) SimWin('The Digital');\n    if (me.amount >= 300) SimWin('Extreme polydactyly');\n    if (me.amount >= 400) SimWin('Dr. T');\n    if (me.amount >= 500) SimWin('Thumbs, phalanges, metacarpals');\n    if (me.amount >= 600) SimWin('With her finger and her thumb');\n    if (me.amount >= 700) SimWin('Gotta hand it to you');\n    if (me.amount >= 800) SimWin(\"The devil's workshop\");\n  } else {\n    Object.keys(Game.Objects[me.name].tieredAchievs).forEach((j) => {\n      if (me.amount >= Game.Tiers[Game.Objects[me.name].tieredAchievs[j].tier].achievUnlock) {\n        SimWin(Game.Objects[me.name].tieredAchievs[j].name);\n      }\n    });\n  }\n\n  const lastAchievementsOwned = SimAchievementsOwned;\n\n  CalculateGains();\n\n  CheckOtherAchiev();\n\n  if (lastAchievementsOwned !== SimAchievementsOwned) {\n    CalculateGains();\n  }\n\n  return SimCookiesPs - Game.cookiesPs;\n}\n","import ColourOfPP from '../../../Cache/PP/ColourOfPP';\nimport {\n  CacheObjects1,\n  CacheObjects10,\n  CacheObjects100,\n  CacheObjectsNextAchievement,\n} from '../../../Cache/VariablesAndData';\n\nimport BuyBuildingsBonusIncome from '../../../Sim/SimulationEvents/BuyBuildingBonusIncome';\nimport { SimObjects } from '../../../Sim/VariablesAndData';\nimport Beautify from '../../BeautifyAndFormatting/Beautify';\nimport FormatTime from '../../BeautifyAndFormatting/FormatTime';\nimport GetTimeColour from '../../BeautifyAndFormatting/GetTimeColour';\nimport GetCPS from '../../HelperFunctions/GetCPS';\nimport GetWrinkConfigBank from '../../HelperFunctions/GetWrinkConfigBank';\nimport {\n  ColourTextPre,\n  LastTargetTooltipBuilding,\n  TooltipBonusIncome,\n  TooltipName,\n  TooltipPrice,\n} from '../../VariablesAndData';\nimport * as Create from '../CreateTooltip';\n\n/**\n * This function adds extra info to the Building tooltips\n */\nexport default function Building() {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipBuildUpgrade === 1 &&\n    Game.buyMode === 1\n  ) {\n    const tooltipBox = l('CMTooltipBorder');\n    Create.TooltipCreateCalculationSection(tooltipBox);\n\n    let target;\n    if (Game.buyMode === 1) {\n      LastTargetTooltipBuilding = target;\n    } else {\n      target = LastTargetTooltipBuilding;\n    }\n    if (Game.buyBulk === 1) target = CacheObjects1;\n    else if (Game.buyBulk === 10) target = CacheObjects10;\n    else if (Game.buyBulk === 100) target = CacheObjects100;\n\n    TooltipPrice = Game.Objects[TooltipName].bulkPrice;\n    TooltipBonusIncome = target[TooltipName].bonus;\n\n    if (\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipBuildUpgrade ===\n        1 &&\n      Game.buyMode === 1\n    ) {\n      l('CMTooltipIncome').textContent = Beautify(TooltipBonusIncome, 2);\n      const increase = Math.round((TooltipBonusIncome / Game.cookiesPs) * 10000);\n      if (Number.isFinite(increase) && increase !== 0) {\n        l('CMTooltipIncome').textContent += ` (${increase / 100}% of income)`;\n      } else {\n        l('CMTooltipIncome').textContent += ` (<0${\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ScaleSeparator\n            ? ','\n            : '.'\n        }01% of income)`;\n      }\n      l('CMTooltipBorder').className = ColourTextPre + target[TooltipName].color;\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPDisplayTime)\n        l('CMTooltipPP').textContent = FormatTime(target[TooltipName].pp);\n      else l('CMTooltipPP').textContent = Beautify(target[TooltipName].pp, 2);\n      l('CMTooltipPP').className = ColourTextPre + target[TooltipName].color;\n      const timeColour = GetTimeColour(\n        (TooltipPrice - (Game.cookies + GetWrinkConfigBank())) / GetCPS(),\n      );\n      l('CMTooltipTime').textContent = timeColour.text;\n      if (timeColour.text === 'Done!' && Game.cookies < target[TooltipName].price) {\n        l('CMTooltipTime').textContent = `${timeColour.text} (with Wrink)`;\n      } else l('CMTooltipTime').textContent = timeColour.text;\n      l('CMTooltipTime').className = ColourTextPre + timeColour.color;\n    }\n\n    // Add \"production left till next achievement\"-bar\n    l('CMTooltipProductionLeftHeader').style.display = 'none';\n    l('CMTooltipTime').style.marginBottom = '0px';\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const i of Object.keys(Game.Objects[TooltipName].productionAchievs)) {\n      if (!Game.HasAchiev(Game.Objects[TooltipName].productionAchievs[i].achiev.name)) {\n        const nextProductionAchiev = Game.Objects[TooltipName].productionAchievs[i];\n        l('CMTooltipTime').style.marginBottom = '4px';\n        l('CMTooltipProductionLeftHeader').style.display = '';\n        l('CMTooltipProductionLeft').className = `ProdAchievement${TooltipName}`;\n        l('CMTooltipProductionLeft').textContent = Beautify(\n          nextProductionAchiev.pow - SimObjects[TooltipName].totalCookies,\n          15,\n        );\n        l('CMTooltipProductionLeft').style.color = 'white';\n        break;\n      }\n    }\n\n    const ObjectsTillNext = CacheObjectsNextAchievement[TooltipName];\n    if (ObjectsTillNext.AmountNeeded < 101) {\n      l('CMTooltipProductionLeft').style.marginBottom = '4px';\n      l('CMTooltipNextAchievementHeader').style.display = '';\n\n      let PPOfAmount;\n      if (Game.cookiesPs) {\n        PPOfAmount =\n          Math.max(ObjectsTillNext.price - (Game.cookies + GetWrinkConfigBank()), 0) /\n            Game.cookiesPs +\n          ObjectsTillNext.price /\n            BuyBuildingsBonusIncome(TooltipName, ObjectsTillNext.AmountNeeded);\n      } else\n        PPOfAmount =\n          ObjectsTillNext.price /\n          BuyBuildingsBonusIncome(TooltipName, ObjectsTillNext.AmountNeeded);\n\n      l('CMTooltipNextAchievement').textContent = `${Beautify(\n        ObjectsTillNext.AmountNeeded,\n      )} / ${Beautify(ObjectsTillNext.price)} / `;\n      l('CMTooltipNextAchievement').style.color = 'white';\n      const PPFrag = document.createElement('span');\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPDisplayTime)\n        PPFrag.textContent = FormatTime(PPOfAmount);\n      else PPFrag.textContent = Beautify(PPOfAmount);\n      PPFrag.className = ColourTextPre + ColourOfPP({ pp: PPOfAmount }, ObjectsTillNext.price);\n      l('CMTooltipNextAchievement').appendChild(PPFrag);\n    } else {\n      l('CMTooltipNextAchievementHeader').style.display = 'none';\n      l('CMTooltipProductionLeft').style.marginBottom = '0px';\n    }\n  } else l('CMTooltipArea').style.display = 'none';\n}\n","import Beautify from '../../BeautifyAndFormatting/Beautify';\nimport { TooltipName } from '../../VariablesAndData';\nimport * as Create from '../CreateTooltip';\n\n/**\n * This function adds extra info to the Garden plots tooltips\n * It adds to the additional information to l('CMTooltipArea')\n */\nexport default function GardenPlots() {\n  const { minigame } = Game.Objects.Farm;\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipPlots &&\n    minigame.plot[TooltipName[1]][TooltipName[0]][0] !== 0\n  ) {\n    const mature =\n      minigame.plot[TooltipName[1]][TooltipName[0]][1] >\n      minigame.plantsById[minigame.plot[TooltipName[1]][TooltipName[0]][0] - 1].mature;\n    const plantName =\n      minigame.plantsById[minigame.plot[TooltipName[1]][TooltipName[0]][0] - 1].name;\n    l('CMTooltipBorder').appendChild(Create.TooltipCreateHeader('Reward (Current / Maximum)'));\n    const reward = document.createElement('div');\n    reward.id = 'CMTooltipPlantReward';\n    l('CMTooltipBorder').appendChild(reward);\n    if (plantName === 'Bakeberry') {\n      l('CMTooltipPlantReward').textContent = `${\n        mature ? Beautify(Math.min(Game.cookies * 0.03, Game.cookiesPs * 60 * 30)) : '0'\n      } / ${Beautify(Game.cookiesPs * 60 * 30)}`;\n    } else if (plantName === 'Chocoroot' || plantName === 'White chocoroot') {\n      l('CMTooltipPlantReward').textContent = `${\n        mature ? Beautify(Math.min(Game.cookies * 0.03, Game.cookiesPs * 60 * 3)) : '0'\n      } / ${Beautify(Game.cookiesPs * 60 * 3)}`;\n    } else if (plantName === 'Queenbeet') {\n      l('CMTooltipPlantReward').textContent = `${\n        mature ? Beautify(Math.min(Game.cookies * 0.04, Game.cookiesPs * 60 * 60)) : '0'\n      } / ${Beautify(Game.cookiesPs * 60 * 60)}`;\n    } else if (plantName === 'Duketater') {\n      l('CMTooltipPlantReward').textContent = `${\n        mature ? Beautify(Math.min(Game.cookies * 0.08, Game.cookiesPs * 60 * 120)) : '0'\n      } / ${Beautify(Game.cookiesPs * 60 * 120)}`;\n    } else l('CMTooltipArea').style.display = 'none';\n  } else l('CMTooltipArea').style.display = 'none';\n}\n","/**\n * This function calculates the time it takes to reach a certain magic level\n * @param\t{number}\tcurrentMagic\t\tThe current magic level\n * @param\t{number}\tmaxMagic\t\t\tThe user's max magic level\n * @param\t{number}\ttargetMagic\t\t\tThe target magic level\n * @returns\t{number}\tcount / Game.fps\tThe time it takes to reach targetMagic\n */\nexport default function CalculateGrimoireRefillTime(currentMagic, maxMagic, targetMagic) {\n  let magic = currentMagic;\n  let count = 0;\n  while (magic < targetMagic) {\n    magic += Math.max(0.002, (magic / Math.max(maxMagic, 100)) ** 0.5) * 0.002;\n    count += 1;\n  }\n  return count / Game.fps;\n}\n","import { CacheNoGoldSwitchCookiesPS } from '../../../Cache/VariablesAndData';\n\nimport Beautify from '../../BeautifyAndFormatting/Beautify';\nimport GetTimeColour from '../../BeautifyAndFormatting/GetTimeColour';\nimport CalculateGrimoireRefillTime from '../../HelperFunctions/CalculateGrimoireRefillTime';\nimport GetWrinkConfigBank from '../../HelperFunctions/GetWrinkConfigBank';\nimport { ColourTextPre, TooltipName } from '../../VariablesAndData';\nimport * as Create from '../CreateTooltip';\n\n/**\n * This function adds extra info to the Grimoire tooltips\n * It adds to the additional information to l('CMTooltipArea')\n */\nexport default function Grimoire() {\n  const { minigame } = Game.Objects['Wizard tower'];\n  const spellCost = minigame.getSpellCost(minigame.spellsById[TooltipName]);\n\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipGrim === 1 &&\n    spellCost <= minigame.magicM\n  ) {\n    const tooltipBox = l('CMTooltipBorder');\n\n    // Time left till enough magic for spell\n    tooltipBox.appendChild(Create.TooltipCreateHeader('Time Left'));\n    const time = document.createElement('div');\n    time.id = 'CMTooltipTime';\n    tooltipBox.appendChild(time);\n    const timeColour = GetTimeColour(\n      CalculateGrimoireRefillTime(minigame.magic, minigame.magicM, spellCost),\n    );\n    time.textContent = timeColour.text;\n    time.className = ColourTextPre + timeColour.color;\n\n    // Time left untill magic spent is recovered\n    if (spellCost <= minigame.magic) {\n      tooltipBox.appendChild(Create.TooltipCreateHeader('Recover Time'));\n      const recover = document.createElement('div');\n      recover.id = 'CMTooltipRecover';\n      tooltipBox.appendChild(recover);\n      const recoverColour = GetTimeColour(\n        CalculateGrimoireRefillTime(\n          Math.max(0, minigame.magic - spellCost),\n          minigame.magicM,\n          minigame.magic,\n        ),\n      );\n      recover.textContent = recoverColour.text;\n      recover.className = ColourTextPre + recoverColour.color;\n    }\n\n    // Extra information on cookies gained when spell is Conjure Baked Goods (Name === 0)\n    if (TooltipName === '0') {\n      tooltipBox.appendChild(Create.TooltipCreateHeader('Cookies to be gained/lost'));\n      const conjure = document.createElement('div');\n      conjure.id = 'x';\n      tooltipBox.appendChild(conjure);\n      const reward = document.createElement('span');\n      reward.style.color = '#33FF00';\n      reward.textContent = Beautify(\n        Math.min(\n          (Game.cookies + GetWrinkConfigBank()) * 0.15,\n          CacheNoGoldSwitchCookiesPS * 60 * 30,\n        ),\n        2,\n      );\n      conjure.appendChild(reward);\n      const seperator = document.createElement('span');\n      seperator.textContent = ' / ';\n      conjure.appendChild(seperator);\n      const loss = document.createElement('span');\n      loss.style.color = 'red';\n      loss.textContent = Beautify(CacheNoGoldSwitchCookiesPS * 60 * 15, 2);\n      conjure.appendChild(loss);\n    }\n\n    l('CMTooltipArea').appendChild(tooltipBox);\n  } else l('CMTooltipArea').style.display = 'none';\n}\n","import Beautify from '../../BeautifyAndFormatting/Beautify';\nimport * as Create from '../CreateTooltip';\n\n/**\n * This function adds extra info to the Garden Harvest All tooltip\n * It is called when the Harvest All tooltip is created or refreshed by CM.Disp.UpdateTooltip()\n * It adds to the additional information to l('CMTooltipArea')\n */\nexport default function HarvestAll() {\n  const { minigame } = Game.Objects.Farm;\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipLump) {\n    l('CMTooltipBorder').appendChild(Create.TooltipCreateHeader('Cookies gained from harvesting:'));\n    let totalGain = 0;\n    let mortal = 0;\n    if (Game.keys[16] && Game.keys[17]) mortal = 1;\n    for (let y = 0; y < 6; y++) {\n      for (let x = 0; x < 6; x++) {\n        if (minigame.plot[y][x][0] >= 1) {\n          const tile = minigame.plot[y][x];\n          const me = minigame.plantsById[tile[0] - 1];\n          const plantName = me.name;\n\n          let count = true;\n          if (mortal && me.immortal) count = false;\n          if (tile[1] < me.matureBase) count = false;\n          if (count && plantName === 'Bakeberry') {\n            totalGain += Math.min(Game.cookies * 0.03, Game.cookiesPs * 60 * 30);\n          } else if ((count && plantName === 'Chocoroot') || plantName === 'White chocoroot') {\n            totalGain += Math.min(Game.cookies * 0.03, Game.cookiesPs * 60 * 3);\n          } else if (count && plantName === 'Queenbeet') {\n            totalGain += Math.min(Game.cookies * 0.04, Game.cookiesPs * 60 * 60);\n          } else if (count && plantName === 'Duketater') {\n            totalGain += Math.min(Game.cookies * 0.08, Game.cookiesPs * 60 * 120);\n          }\n        }\n      }\n    }\n    l('CMTooltipBorder').appendChild(document.createTextNode(Beautify(totalGain)));\n  } else l('CMTooltipArea').style.display = 'none';\n}\n","import { CacheGods } from '../../../Cache/VariablesAndData';\nimport Beautify from '../../BeautifyAndFormatting/Beautify';\nimport { TooltipName, TooltipType } from '../../VariablesAndData';\nimport * as Create from '../CreateTooltip';\n\n/**\n * This function adds extra info to the Pantheon Gods tooltip\n * It is called when the Harvest All tooltip is created or refreshed by CM.Disp.UpdateTooltip()\n * It adds to the additional information to l('CMTooltipArea')\n */\nexport default function PantheonGods() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipPantheon === 1) {\n    const tooltipBox = l('CMTooltipBorder');\n    let GodID;\n    if (TooltipType === 'pas') GodID = TooltipName[1];\n    else GodID = TooltipName;\n\n    // Time left till enough magic for spell\n    tooltipBox.appendChild(Create.TooltipCreateHeader('Effect in position 1:'));\n    const cps1 = document.createElement('div');\n    cps1.id = 'CMPantheonTooltipPosition1';\n    if (CacheGods[GodID][0] !== 0) {\n      cps1.textContent = Beautify(CacheGods[GodID][0]);\n      const increase = Math.round((CacheGods[GodID][0] / Game.cookiesPs) * 10000);\n      if (Number.isFinite(increase) && increase !== 0) {\n        cps1.textContent += ` (${increase / 100}% of income)`;\n      } else {\n        cps1.textContent += ` (<0${\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ScaleSeparator\n            ? ','\n            : '.'\n        }01% of income)`;\n      }\n    } else cps1.textContent = 'No effect to CPS';\n    tooltipBox.appendChild(cps1);\n\n    tooltipBox.appendChild(Create.TooltipCreateHeader('Effect in position 2:'));\n    const cps2 = document.createElement('div');\n    cps2.id = 'CMPantheonTooltipPosition2';\n    if (CacheGods[GodID][1] !== 0) {\n      cps2.textContent = Beautify(CacheGods[GodID][1]);\n      const increase = Math.round((CacheGods[GodID][1] / Game.cookiesPs) * 10000);\n      if (Number.isFinite(increase) && increase !== 0) {\n        cps2.textContent += ` (${increase / 100}% of income)`;\n      } else {\n        cps2.textContent += ` (<0${\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ScaleSeparator\n            ? ','\n            : '.'\n        }01% of income)`;\n      }\n    } else cps2.textContent = 'No effect to CPS';\n    tooltipBox.appendChild(cps2);\n\n    tooltipBox.appendChild(Create.TooltipCreateHeader('Effect in position 3:'));\n    const cps3 = document.createElement('div');\n    cps3.id = 'CMPantheonTooltipPosition2';\n    if (CacheGods[GodID][2] !== 0) {\n      cps3.textContent = Beautify(CacheGods[GodID][2]);\n      const increase = Math.round((CacheGods[GodID][2] / Game.cookiesPs) * 10000);\n      if (Number.isFinite(increase) && increase !== 0) {\n        cps3.textContent += ` (${increase / 100}% of income)`;\n      } else {\n        cps3.textContent += ` (<0${\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ScaleSeparator\n            ? ','\n            : '.'\n        }01% of income)`;\n      }\n    } else cps3.textContent = 'No effect to CPS';\n    tooltipBox.appendChild(cps3);\n\n    l('CMTooltipArea').appendChild(tooltipBox);\n  } else l('CMTooltipArea').style.display = 'none';\n}\n","import {\n  ColourGray,\n  ColourGreen,\n  ColourOrange,\n  ColourPurple,\n  ColourRed,\n  ColourYellow,\n} from '../VariablesAndData';\n\n/**\n * This function returns Name and Colour as object for sugar lump type that is given as input param.\n * It is called by CM.Disp.UpdateTooltipSugarLump()\n * @param \t{string} \t\t\t\ttype \t\t\tSugar Lump Type.\n * @returns {{string}, {string}}\ttext, color\t\tAn array containing the text and display-color of the sugar lump\n */\nexport default function GetLumpColour(type) {\n  if (type === 0) {\n    return { text: 'Normal', color: ColourGray };\n  }\n  if (type === 1) {\n    return { text: 'Bifurcated', color: ColourGreen };\n  }\n  if (type === 2) {\n    return { text: 'Golden', color: ColourYellow };\n  }\n  if (type === 3) {\n    return { text: 'Meaty', color: ColourOrange };\n  }\n  if (type === 4) {\n    return { text: 'Caramelized', color: ColourPurple };\n  }\n  return { text: 'Unknown Sugar Lump', color: ColourRed };\n}\n","import GetLumpColour from '../../HelperFunctions/GetLumpColour';\nimport { ColourTextPre } from '../../VariablesAndData';\nimport * as Create from '../CreateTooltip';\n/**\n * This function adds extra info to the Sugar Lump tooltip\n * It adds to the additional information to l('CMTooltipArea')\n */\nexport default function SugarLump() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipLump === 1) {\n    const tooltipBox = l('CMTooltipBorder');\n\n    tooltipBox.appendChild(Create.TooltipCreateHeader('Current Sugar Lump'));\n\n    const lumpType = document.createElement('div');\n    lumpType.id = 'CMTooltipTime';\n    tooltipBox.appendChild(lumpType);\n    const lumpColour = GetLumpColour(Game.lumpCurrentType);\n    lumpType.textContent = lumpColour.text;\n    lumpType.className = ColourTextPre + lumpColour.color;\n  } else l('CMTooltipArea').style.display = 'none';\n}\n","import { CacheLastChoEgg, CacheUpgrades } from '../../../Cache/VariablesAndData';\n\nimport Beautify from '../../BeautifyAndFormatting/Beautify';\nimport FormatTime from '../../BeautifyAndFormatting/FormatTime';\nimport GetTimeColour from '../../BeautifyAndFormatting/GetTimeColour';\nimport GetCPS from '../../HelperFunctions/GetCPS';\nimport GetWrinkConfigBank from '../../HelperFunctions/GetWrinkConfigBank';\nimport {\n  ColourTextPre,\n  TooltipBonusIncome,\n  TooltipBonusMouse,\n  TooltipName,\n  TooltipPrice,\n} from '../../VariablesAndData';\nimport * as Create from '../CreateTooltip';\n\n/**\n * This function adds extra info to the Upgrade tooltips\n */\nexport default function Upgrade() {\n  const tooltipBox = l('CMTooltipBorder');\n  Create.TooltipCreateCalculationSection(tooltipBox);\n\n  TooltipBonusIncome = CacheUpgrades[Game.UpgradesInStore[TooltipName].name].bonus;\n  TooltipPrice = Game.Upgrades[Game.UpgradesInStore[TooltipName].name].getPrice();\n  TooltipBonusMouse = CacheUpgrades[Game.UpgradesInStore[TooltipName].name].bonusMouse;\n\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipBuildUpgrade === 1\n  ) {\n    l('CMTooltipIncome').textContent = Beautify(TooltipBonusIncome, 2);\n    const increase = Math.round((TooltipBonusIncome / Game.cookiesPs) * 10000);\n    // Don't display certain parts of tooltip if not applicable\n    if (l('CMTooltipIncome').textContent === '0') {\n      l('Bonus IncomeTitle').style.display = 'none';\n      l('CMTooltipIncome').style.display = 'none';\n      l('Payback PeriodTitle').style.display = 'none';\n      l('CMTooltipPP').style.display = 'none';\n    } else {\n      if (Number.isFinite(increase) && increase !== 0) {\n        l('CMTooltipIncome').textContent += ` (${increase / 100}% of income)`;\n      } else {\n        l('CMTooltipIncome').textContent += ` (<0${\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ScaleSeparator\n            ? ','\n            : '.'\n        }01% of income)`;\n      }\n      l('CMTooltipBorder').className =\n        ColourTextPre + CacheUpgrades[Game.UpgradesInStore[TooltipName].name].color;\n    }\n\n    // If clicking power upgrade\n    if (TooltipBonusMouse) {\n      l('CMTooltipCookiePerClick').textContent = Beautify(TooltipBonusMouse);\n      l('CMTooltipCookiePerClick').style.display = 'block';\n      l('CMTooltipCookiePerClick').previousSibling.style.display = 'block';\n    }\n    // If only a clicking power upgrade change PP to click-based period\n    if (!TooltipBonusIncome && TooltipBonusMouse) {\n      l('CMTooltipPP').textContent = `${Beautify(TooltipPrice / TooltipBonusMouse)} Clicks`;\n      l('CMTooltipPP').style.color = 'white';\n      l('Payback PeriodTitle').style.display = 'block';\n      l('CMTooltipPP').style.display = 'block';\n    } else {\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPDisplayTime)\n        l('CMTooltipPP').textContent = FormatTime(\n          CacheUpgrades[Game.UpgradesInStore[TooltipName].name].pp,\n        );\n      else\n        l('CMTooltipPP').textContent = Beautify(\n          CacheUpgrades[Game.UpgradesInStore[TooltipName].name].pp,\n          2,\n        );\n      l('CMTooltipPP').className =\n        ColourTextPre + CacheUpgrades[Game.UpgradesInStore[TooltipName].name].color;\n    }\n    const timeColour = GetTimeColour(\n      (TooltipPrice - (Game.cookies + GetWrinkConfigBank())) / GetCPS(),\n    );\n    l('CMTooltipTime').textContent = timeColour.text;\n    if (\n      timeColour.text === 'Done!' &&\n      Game.cookies < Game.UpgradesInStore[TooltipName].getPrice()\n    ) {\n      l('CMTooltipTime').textContent = `${timeColour.text} (with Wrink)`;\n    } else l('CMTooltipTime').textContent = timeColour.text;\n    l('CMTooltipTime').className = ColourTextPre + timeColour.color;\n\n    // Add extra info to Chocolate egg tooltip\n    if (Game.UpgradesInStore[TooltipName].name === 'Chocolate egg') {\n      l('CMTooltipBorder').lastChild.style.marginBottom = '4px';\n      l('CMTooltipBorder').appendChild(\n        Create.TooltipCreateHeader('Cookies to be gained (Currently/Max)'),\n      );\n      const chocolate = document.createElement('div');\n      chocolate.style.color = 'white';\n      chocolate.textContent = `${Beautify(Game.cookies * 0.05)} / ${Beautify(CacheLastChoEgg)}`;\n      l('CMTooltipBorder').appendChild(chocolate);\n    }\n  } else l('CMTooltipArea').style.display = 'none';\n}\n","/**\n * This function toggles the position of the warnings created by CM.Disp.TooltipCreateWarningSection()\n * It is called by a change in CM.Options.ToolWarnPos\n * and upon creation of the warning tooltip by CM.Disp.UpdateTooltipWarnings()\n */\nexport default function ToggleToolWarnPos() {\n  if (l('CMDispTooltipWarningParent') !== null) {\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnPos === 0) {\n      l('CMDispTooltipWarningParent').style.top = 'auto';\n      l('CMDispTooltipWarningParent').style.margin = '4px -4px';\n      l('CMDispTooltipWarningParent').style.padding = '3px 4px';\n    } else {\n      l('CMDispTooltipWarningParent').style.right = 'auto';\n      l('CMDispTooltipWarningParent').style.margin = '4px';\n      l('CMDispTooltipWarningParent').style.padding = '4px 3px';\n    }\n  }\n}\n","import GetCPSBuffMult from '../../../Cache/CPS/GetCPSBuffMult';\nimport { CacheEdifice, CacheLucky } from '../../../Cache/VariablesAndData';\nimport ToggleToolWarnPos from '../../../Config/Toggles/ToggleToolWarnPos';\nimport Beautify from '../../BeautifyAndFormatting/Beautify';\nimport FormatTime from '../../BeautifyAndFormatting/FormatTime';\nimport GetCPS from '../../HelperFunctions/GetCPS';\nimport GetWrinkConfigBank from '../../HelperFunctions/GetWrinkConfigBank';\nimport { TooltipBonusIncome, TooltipPrice, TooltipType } from '../../VariablesAndData';\nimport * as Create from '../CreateTooltip';\n\n/**\n * This function updates the warnings section of the building and upgrade tooltips\n */\nexport default function Warnings() {\n  if (TooltipType === 'b' || TooltipType === 'u') {\n    if (document.getElementById('CMDispTooltipWarningParent') === null) {\n      l('tooltipAnchor').appendChild(Create.TooltipCreateWarningSection());\n      ToggleToolWarnPos();\n    }\n\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnPos === 0)\n      l('CMDispTooltipWarningParent').style.right = '0px';\n    else l('CMDispTooltipWarningParent').style.top = `${l('tooltip').offsetHeight}px`;\n\n    l('CMDispTooltipWarningParent').style.width = `${l('tooltip').offsetWidth - 6}px`;\n\n    const amount = Game.cookies + GetWrinkConfigBank() - TooltipPrice;\n    const bonusIncomeUsed = Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings\n      .ToolWarnBon\n      ? TooltipBonusIncome\n      : 0;\n    let limitLucky = CacheLucky;\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnBon === 1) {\n      let bonusNoFren = TooltipBonusIncome;\n      bonusNoFren /= GetCPSBuffMult();\n      limitLucky += (bonusNoFren * 60 * 15) / 0.15;\n    }\n\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnLucky === 1) {\n      if (amount < limitLucky && (TooltipType !== 'b' || Game.buyMode === 1)) {\n        l('CMDispTooltipWarnLucky').style.display = '';\n        l('CMDispTooltipWarnLuckyText').textContent = `${Beautify(\n          limitLucky - amount,\n        )} (${FormatTime((limitLucky - amount) / (GetCPS() + bonusIncomeUsed))})`;\n      } else l('CMDispTooltipWarnLucky').style.display = 'none';\n    } else l('CMDispTooltipWarnLucky').style.display = 'none';\n\n    if (\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnLuckyFrenzy === 1\n    ) {\n      const limitLuckyFrenzy = limitLucky * 7;\n      if (amount < limitLuckyFrenzy && (TooltipType !== 'b' || Game.buyMode === 1)) {\n        l('CMDispTooltipWarnLuckyFrenzy').style.display = '';\n        l('CMDispTooltipWarnLuckyFrenzyText').textContent = `${Beautify(\n          limitLuckyFrenzy - amount,\n        )} (${FormatTime((limitLuckyFrenzy - amount) / (GetCPS() + bonusIncomeUsed))})`;\n      } else l('CMDispTooltipWarnLuckyFrenzy').style.display = 'none';\n    } else l('CMDispTooltipWarnLuckyFrenzy').style.display = 'none';\n\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnConjure === 1) {\n      const limitConjure = limitLucky * 2;\n      if (amount < limitConjure && (TooltipType !== 'b' || Game.buyMode === 1)) {\n        l('CMDispTooltipWarnConjure').style.display = '';\n        l('CMDispTooltipWarnConjureText').textContent = `${Beautify(\n          limitConjure - amount,\n        )} (${FormatTime((limitConjure - amount) / (GetCPS() + bonusIncomeUsed))})`;\n      } else l('CMDispTooltipWarnConjure').style.display = 'none';\n    } else l('CMDispTooltipWarnConjure').style.display = 'none';\n\n    if (\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnConjureFrenzy ===\n      1\n    ) {\n      const limitConjureFrenzy = limitLucky * 2 * 7;\n      if (amount < limitConjureFrenzy && (TooltipType !== 'b' || Game.buyMode === 1)) {\n        l('CMDispTooltipWarnConjureFrenzy').style.display = '';\n        l('CMDispTooltipWarnConjureFrenzyText').textContent = `${Beautify(\n          limitConjureFrenzy - amount,\n        )} (${FormatTime((limitConjureFrenzy - amount) / (GetCPS() + bonusIncomeUsed))})`;\n      } else l('CMDispTooltipWarnConjureFrenzy').style.display = 'none';\n    } else l('CMDispTooltipWarnConjureFrenzy').style.display = 'none';\n\n    if (\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnEdifice === 1 &&\n      Game.Objects['Wizard tower'].minigameLoaded\n    ) {\n      if (CacheEdifice && amount < CacheEdifice && (TooltipType !== 'b' || Game.buyMode === 1)) {\n        l('CMDispTooltipWarnEdifice').style.display = '';\n        l('CMDispTooltipWarnEdificeText').textContent = `${Beautify(\n          CacheEdifice - amount,\n        )} (${FormatTime((CacheEdifice - amount) / (GetCPS() + bonusIncomeUsed))})`;\n      } else l('CMDispTooltipWarnEdifice').style.display = 'none';\n    } else l('CMDispTooltipWarnEdifice').style.display = 'none';\n\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnUser > 0) {\n      if (\n        amount <\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnUser *\n            GetCPS() &&\n        (TooltipType !== 'b' || Game.buyMode === 1)\n      ) {\n        l('CMDispTooltipWarnUser').style.display = '';\n        // Need to update tooltip text dynamically\n        l(\n          'CMDispTooltipWarnUser',\n        ).children[0].textContent = `Purchase of this item will put you under the number of Cookies equal to ${Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnUser} seconds of CPS`;\n        l('CMDispTooltipWarnUserText').textContent = `${Beautify(\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnUser *\n            GetCPS() -\n            amount,\n        )} (${FormatTime(\n          (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnUser *\n            GetCPS() -\n            amount) /\n            (GetCPS() + bonusIncomeUsed),\n        )})`;\n      } else l('CMDispTooltipWarnUser').style.display = 'none';\n    } else l('CMDispTooltipWarnUser').style.display = 'none';\n  } else if (l('CMDispTooltipWarningParent') !== null) {\n    l('CMDispTooltipWarningParent').remove();\n  }\n}\n","import { CacheWrinklersFattest, CacheWrinklersNormal } from '../../../Cache/VariablesAndData';\nimport Beautify from '../../BeautifyAndFormatting/Beautify';\nimport { TooltipName } from '../../VariablesAndData';\nimport * as Create from '../CreateTooltip';\n\n/**\n * This function adds extra info to the wrinkler button tooltip\n * It adds to the additional information to l('CMTooltipArea')\n */\nexport default function WrinklerButton() {\n  l('tooltip').innerHTML = '';\n  l('tooltip').appendChild(Create.TooltipCreateHeader('Reward:'));\n\n  const WrinklerReward = document.createElement('div');\n  WrinklerReward.id = 'CMWrinklerReward';\n  if (TooltipName === 'PopAllNormal') {\n    WrinklerReward.textContent = Beautify(CacheWrinklersNormal);\n  } else if (TooltipName === 'PopFattest') {\n    WrinklerReward.textContent = Beautify(CacheWrinklersFattest[0]);\n  }\n\n  l('tooltip').appendChild(WrinklerReward);\n}\n","import CopyData from '../../Sim/SimulationData/CopyData';\nimport { TooltipName, TooltipType } from '../VariablesAndData';\nimport * as Create from './CreateTooltip';\nimport Building from './TypesOfTooltips/Building';\nimport GardenPlots from './TypesOfTooltips/GardenPlots';\nimport Grimoire from './TypesOfTooltips/Grimoire';\nimport HarvestAll from './TypesOfTooltips/HarvestAll';\nimport PantheonGods from './TypesOfTooltips/PantheonGods';\nimport SugarLump from './TypesOfTooltips/SugarLump';\nimport Upgrade from './TypesOfTooltips/Upgrade';\nimport Warnings from './TypesOfTooltips/Warnings';\nimport WrinklerButton from './TypesOfTooltips/WrinklerButton';\n\n/**\n * This function updates the sections of the tooltips created by CookieMonster\n */\nexport default function UpdateTooltips() {\n  CopyData();\n  if (l('tooltipAnchor').style.display !== 'none' && l('CMTooltipArea')) {\n    l('CMTooltipArea').innerHTML = '';\n    const tooltipBox = Create.TooltipCreateTooltipBox();\n    l('CMTooltipArea').appendChild(tooltipBox);\n\n    if (TooltipType === 'b') {\n      Building();\n    } else if (TooltipType === 'u') {\n      Upgrade();\n    } else if (TooltipType === 's') {\n      SugarLump();\n    } else if (TooltipType === 'g') {\n      Grimoire();\n    } else if (TooltipType === 'p') {\n      GardenPlots();\n    } else if (TooltipType === 'ha') {\n      HarvestAll();\n    } else if (TooltipType === 'wb') {\n      WrinklerButton();\n    } else if (TooltipType === 'pag' || (TooltipType === 'pas' && TooltipName[1] !== -1)) {\n      PantheonGods();\n    }\n    Warnings();\n  } else if (l('CMTooltipArea') === null) {\n    // Remove warnings if its a basic tooltip\n    if (l('CMDispTooltipWarningParent') !== null) {\n      l('CMDispTooltipWarningParent').remove();\n    }\n  }\n}\n","import { SimObjects } from '../../Sim/VariablesAndData';\nimport Beautify from '../BeautifyAndFormatting/Beautify';\nimport {\n  TooltipWrinkler,\n  TooltipWrinklerArea,\n  TooltipWrinklerBeingShown,\n} from '../VariablesAndData';\n\n/**\n * This function checks and create a tooltip for the wrinklers\n * It is called by CM.Disp.Draw()\n * As wrinklers are not appended to the DOM we us a different system than for other tooltips\n */\nexport function CheckWrinklerTooltip() {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipWrink === 1 &&\n    TooltipWrinklerArea === 1\n  ) {\n    // Latter is set by CM.Main.AddWrinklerAreaDetect\n    let showingTooltip = false;\n    Object.keys(Game.wrinklers).forEach((i) => {\n      const me = Game.wrinklers[i];\n      if (me.phase > 0 && me.selected) {\n        showingTooltip = true;\n        if (TooltipWrinklerBeingShown[i] === 0 || TooltipWrinklerBeingShown[i] === undefined) {\n          const placeholder = document.createElement('div');\n          const wrinkler = document.createElement('div');\n          wrinkler.style.minWidth = '120px';\n          wrinkler.style.marginBottom = '4px';\n          const div = document.createElement('div');\n          div.style.textAlign = 'center';\n          div.id = 'CMTooltipWrinkler';\n          wrinkler.appendChild(div);\n          placeholder.appendChild(wrinkler);\n          Game.tooltip.draw(this, escape(placeholder.innerHTML));\n          TooltipWrinkler = i;\n          TooltipWrinklerBeingShown[i] = 1;\n        }\n      } else {\n        TooltipWrinklerBeingShown[i] = 0;\n      }\n    });\n    if (!showingTooltip) {\n      Game.tooltip.hide();\n    }\n  }\n}\n\n/**\n * This function updates the amount to be displayed by the wrinkler tooltip created by CM.Disp.CheckWrinklerTooltip()\n * It is called by CM.Disp.Draw()\n * As wrinklers are not appended to the DOM we us a different system than for other tooltips\n */\nexport function UpdateWrinklerTooltip() {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipWrink === 1 &&\n    l('CMTooltipWrinkler') !== null\n  ) {\n    let { sucked } = Game.wrinklers[TooltipWrinkler];\n    let toSuck = 1.1;\n    if (Game.Has('Sacrilegious corruption')) toSuck *= 1.05;\n    if (Game.wrinklers[TooltipWrinkler].type === 1) toSuck *= 3; // Shiny wrinklers\n    sucked *= toSuck;\n    if (Game.Has('Wrinklerspawn')) sucked *= 1.05;\n    if (SimObjects.Temple.minigameLoaded) {\n      const godLvl = Game.hasGod('scorn');\n      if (godLvl === 1) sucked *= 1.15;\n      else if (godLvl === 2) sucked *= 1.1;\n      else if (godLvl === 3) sucked *= 1.05;\n    }\n    l('CMTooltipWrinkler').textContent = Beautify(sucked);\n  }\n}\n","import ToggleWrinklerButtons from '../Config/Toggles/ToggleWrinklerButtons';\nimport Beautify from './BeautifyAndFormatting/Beautify';\nimport UpdateBuildings from './BuildingsUpgrades/Buildings';\nimport UpdateUpgradeSectionsHeight from './BuildingsUpgrades/UpdateUpgradeSectionsHeight';\nimport UpdateUpgrades from './BuildingsUpgrades/Upgrades';\nimport { UpdateBotBar } from './InfoBars/BottomBar';\nimport { UpdateTimerBar } from './InfoBars/TimerBar';\nimport RefreshMenu from './MenuSections/Refreshmenu';\nimport UpdateTooltips from './Tooltips/UpdateTooltips';\nimport { CheckWrinklerTooltip, UpdateWrinklerTooltip } from './Tooltips/WrinklerTooltips';\n\n/**\n * This function handles all custom drawing for the Game.Draw() function.\n * It is hooked on 'draw' by CM.RegisterHooks()\n */\nexport default function CMDrawHook() {\n  // Draw autosave timer in stats menu, this must be done here to make it count down correctly\n  if (\n    Game.prefs.autosave &&\n    Game.drawT % 10 === 0 && // with autosave ON and every 10 ticks\n    Game.onMenu === 'stats' &&\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Stats // while being on the stats menu only\n  ) {\n    const timer = document.getElementById('CMStatsAutosaveTimer');\n    if (timer) {\n      timer.innerText = Game.sayTime(Game.fps * 60 - (Game.T % (Game.fps * 60)), 4);\n    }\n  }\n\n  // Update colors\n  UpdateBuildings();\n  UpdateUpgrades();\n  UpdateUpgradeSectionsHeight();\n\n  // Redraw timers\n  UpdateTimerBar();\n\n  // Update Bottom Bar\n  UpdateBotBar();\n\n  // Update Tooltip\n  UpdateTooltips();\n\n  // Update Wrinkler Tooltip\n  CheckWrinklerTooltip();\n  UpdateWrinklerTooltip();\n\n  // Change menu refresh interval\n  RefreshMenu();\n\n  // Update display of wrinkler buttons, this checks if Elder Pledge has been bought and if they should be disabled\n  ToggleWrinklerButtons();\n\n  // Replace Cookies counter because Orteil uses very weird code to \"pad\" it...\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Scale) {\n    let str = l('cookies').innerHTML.replace(/.*(?=<br>)/i, Beautify(Game.cookies));\n    if (Game.prefs.monospace) str = `<span class=\"monospace\">${str}</span>`;\n    l('cookies').innerHTML = str;\n  }\n}\n","import { CacheAverageCookiesFromClicks } from '../Cache/VariablesAndData';\n\nexport default function CMClickHook() {\n  // Add cookies from click to array that stores average\n  CacheAverageCookiesFromClicks.addLatest(Game.computedMouseCps);\n}\n","import { ClickTimes, CookieTimes } from '../../Disp/VariablesAndData';\nimport {\n  ChoEggDiff, // eslint-disable-line no-unused-vars\n  ClicksDiff, // eslint-disable-line no-unused-vars\n  CookiesDiff, // eslint-disable-line no-unused-vars\n  WrinkDiff, // eslint-disable-line no-unused-vars\n  WrinkFattestDiff, // eslint-disable-line no-unused-vars\n} from '../VariablesAndData';\n\n/**\n * @class\n * @classdesc \tThis is a class used to store values used to calculate average over time (mostly cps)\n * @var\t\t\t{number}\t\t\t\tmaxLength\tThe maximum length of the value-storage\n * @var\t\t\t{[]}\t\t\t\t\tqueue\t\tThe values stored\n * @method\t\taddLatest(newValue)\t\tAppends newValue to the value storage\n * @method\t\tcalcAverage(timePeriod)\tReturns the average over the specified timeperiod\n */\nexport class CMAvgQueue {\n  constructor(maxLength) {\n    this.maxLength = maxLength;\n    this.queue = [];\n  }\n\n  addLatest(newValue) {\n    if (this.queue.push(newValue) > this.maxLength) {\n      this.queue.shift();\n    }\n  }\n\n  /**\n   * This functions returns the average of the values in the queue\n   * @param \t{number}\ttimePeriod\tThe period in seconds to computer average over\n   * @returns {number}\tret\t\t\tThe average\n   */\n  calcAverage(timePeriod) {\n    let time = timePeriod;\n    if (time > this.maxLength) time = this.maxLength;\n    if (time > this.queue.length) time = this.queue.length;\n    let ret = 0;\n    for (let i = this.queue.length - 1; i >= 0 && i > this.queue.length - 1 - time; i--) {\n      ret += this.queue[i];\n    }\n    if (ret === 0) {\n      return 0;\n    }\n    return ret / time;\n  }\n\n  calcSum(timePeriod) {\n    let time = timePeriod;\n    if (time > this.maxLength) time = this.maxLength;\n    if (time > this.queue.length) time = this.queue.length;\n    if (time === 0) return 0;\n    return this.queue.slice(-time).reduce((a, b) => a + b, 0);\n  }\n}\n\n/**\n * This functions caches creates the CMAvgQueue used by CM.Cache.CacheAvgCPS() to calculate CPS\n * Called by CM.Cache.InitCache()\n */\nexport function InitCookiesDiff() {\n  CookiesDiff = new CMAvgQueue(CookieTimes[CookieTimes.length - 1]);\n  WrinkDiff = new CMAvgQueue(CookieTimes[CookieTimes.length - 1]);\n  WrinkFattestDiff = new CMAvgQueue(CookieTimes[CookieTimes.length - 1]);\n  ChoEggDiff = new CMAvgQueue(CookieTimes[CookieTimes.length - 1]);\n  ClicksDiff = new CMAvgQueue(ClickTimes[ClickTimes.length - 1]);\n}\n","import { ClickTimes, CookieTimes } from '../../Disp/VariablesAndData';\nimport {\n  CacheAverageClicks, // eslint-disable-line no-unused-vars\n  CacheAverageCPS,\n  CacheAverageGainBank,\n  CacheAverageGainChoEgg,\n  CacheAverageGainWrink,\n  CacheAverageGainWrinkFattest,\n  CacheAvgCPSWithChoEgg, // eslint-disable-line no-unused-vars\n  CacheLastChoEgg,\n  CacheLastClicks,\n  CacheLastCookies,\n  CacheLastCPSCheck,\n  CacheLastWrinkCookies,\n  CacheLastWrinkFattestCookies,\n  CacheRealCookiesEarned, // eslint-disable-line no-unused-vars\n  CacheSellForChoEgg,\n  CacheWrinklersFattest,\n  CacheWrinklersTotal,\n  ChoEggDiff,\n  ClicksDiff,\n  CookiesDiff,\n  WrinkDiff,\n  WrinkFattestDiff,\n} from '../VariablesAndData';\n\n/**\n * This functions caches two variables related average CPS and Clicks\n * It is called by CM.Cache.LoopCache()\n * @global\t{number}\tCM.Cache.RealCookiesEarned\tCookies earned including the Chocolate Egg\n * @global\t{number}\tCM.Cache.AvgCPS\t\t\t\tAverage cookies over time-period as defined by AvgCPSHist\n * @global\t{number}\tCM.Cache.AverageClicks\t\tAverage cookies from clicking over time-period as defined by AvgClicksHist\n * @global\t{number}\tCM.Cache.AvgCPSChoEgg\t\tAverage cookies from combination of normal CPS and average Chocolate Cookie CPS\n */\nexport default function CacheAvgCPS() {\n  const currDate = Math.floor(Date.now() / 1000);\n  // Only calculate every new second\n  if ((Game.T / Game.fps) % 1 === 0) {\n    let choEggTotal = Game.cookies + CacheSellForChoEgg;\n    if (Game.cpsSucked > 0) choEggTotal += CacheWrinklersTotal;\n    CacheRealCookiesEarned = Math.max(Game.cookiesEarned, choEggTotal);\n    choEggTotal *= 0.05;\n\n    // Add recent gains to AvgQueue's\n    const timeDiff = currDate - CacheLastCPSCheck;\n    const bankDiffAvg = Math.max(0, Game.cookies - CacheLastCookies) / timeDiff;\n    const wrinkDiffAvg = Math.max(0, CacheWrinklersTotal - CacheLastWrinkCookies) / timeDiff;\n    const wrinkFattestDiffAvg =\n      Math.max(0, CacheWrinklersFattest[0] - CacheLastWrinkFattestCookies) / timeDiff;\n    const choEggDiffAvg = Math.max(0, choEggTotal - CacheLastChoEgg) / timeDiff;\n    const clicksDiffAvg = (Game.cookieClicks - CacheLastClicks) / timeDiff;\n    for (let i = 0; i < timeDiff; i++) {\n      CookiesDiff.addLatest(bankDiffAvg);\n      WrinkDiff.addLatest(wrinkDiffAvg);\n      WrinkFattestDiff.addLatest(wrinkFattestDiffAvg);\n      ChoEggDiff.addLatest(choEggDiffAvg);\n      ClicksDiff.addLatest(clicksDiffAvg);\n    }\n\n    // Store current data for next loop\n    CacheLastCPSCheck = currDate;\n    CacheLastCookies = Game.cookies;\n    CacheLastWrinkCookies = CacheWrinklersTotal;\n    CacheLastWrinkFattestCookies = CacheWrinklersFattest[0];\n    CacheLastChoEgg = choEggTotal;\n    CacheLastClicks = Game.cookieClicks;\n\n    // Get average gain over period of cpsLength seconds\n    const cpsLength =\n      CookieTimes[Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgCPSHist];\n    CacheAverageGainBank = CookiesDiff.calcAverage(cpsLength);\n    CacheAverageGainWrink = WrinkDiff.calcAverage(cpsLength);\n    CacheAverageGainWrinkFattest = WrinkFattestDiff.calcAverage(cpsLength);\n    CacheAverageGainChoEgg = ChoEggDiff.calcAverage(cpsLength);\n    CacheAverageCPS = CacheAverageGainBank;\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 1)\n      CacheAverageCPS += CacheAverageGainWrink;\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 2)\n      CacheAverageCPS += CacheAverageGainWrinkFattest;\n\n    const choEgg = Game.HasUnlocked('Chocolate egg') && !Game.Has('Chocolate egg');\n\n    if (\n      choEgg ||\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 0\n    ) {\n      CacheAvgCPSWithChoEgg =\n        CacheAverageGainBank + CacheAverageGainWrink + (choEgg ? CacheAverageGainChoEgg : 0);\n    } else CacheAvgCPSWithChoEgg = CacheAverageCPS;\n\n    // eslint-disable-next-line no-unused-vars\n    CacheAverageClicks = ClicksDiff.calcAverage(\n      ClickTimes[Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgClicksHist],\n    );\n  }\n}\n","/**\n * This function calculates the total price for buying \"increase\" of a building\n * @param\t{string}\tbuild\t\tName of the building\n * @param\t{number}\tbasePrice\tBase Price of building\n * @param\t{number}\tstart\t\tStarting amount of building\n * @param\t{number}\tfree\t\tFree amount of building\n * @param\t{number}\tincrease\tIncrease of building\n * @returns {number}\tmoni\t\tTotal price\n */\nexport default function BuildingGetPrice(build, basePrice, start, free, increase) {\n  let partialPrice = 0;\n  for (let i = Math.max(0, start); i < Math.max(0, start + increase); i++) {\n    partialPrice += Game.priceIncrease ** Math.max(0, i - free);\n  }\n  let price = basePrice * partialPrice;\n  price = Game.modifyBuildingPrice(Game.Objects[build], price);\n  return Math.ceil(price);\n}\n","import GetWrinkConfigBank from '../../Disp/HelperFunctions/GetWrinkConfigBank';\nimport { ColourGray } from '../../Disp/VariablesAndData';\nimport BuildingGetPrice from '../../Sim/SimulationEvents/BuyBuilding';\nimport {\n  CacheMinPP, // eslint-disable-line no-unused-vars\n  CacheMinPPBulk, // eslint-disable-line no-unused-vars\n  CacheObjects1,\n  CacheObjects10,\n  CacheObjects100,\n  CachePPArray,\n} from '../VariablesAndData';\nimport ColourOfPP from './ColourOfPP';\n\n/**\n * This functions caches the buildings of bulk-buy mode when PP is compared against optimal single-purchase building\n * It saves all date in CM.Cache.Objects...\n * It is called by CM.Cache.CacheBuildingsPP()\n */\nfunction CacheColour(target, amount) {\n  Object.keys(target).forEach((i) => {\n    if (\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPRigidelMode &&\n      amount === 1\n    ) {\n      target[i].color = ColourGray; // eslint-disable-line no-param-reassign\n      return;\n    }\n    // eslint-disable-next-line no-param-reassign\n    target[i].color = ColourOfPP(\n      target[i],\n      BuildingGetPrice(\n        i,\n        Game.Objects[i].basePrice,\n        Game.Objects[i].amount,\n        Game.Objects[i].free,\n        amount,\n      ),\n    );\n    // Colour based on excluding certain top-buildings\n    for (\n      let j = 0;\n      j < Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPExcludeTop;\n      j++\n    ) {\n      if (target[i].pp === CachePPArray[j][0]) target[i].color = ColourGray; // eslint-disable-line no-param-reassign\n    }\n  });\n}\n\nfunction CachePP(target, amount) {\n  Object.keys(target).forEach((i) => {\n    const price = BuildingGetPrice(\n      i,\n      Game.Objects[i].basePrice,\n      Game.Objects[i].amount,\n      Game.Objects[i].free,\n      amount,\n    );\n    if (Game.cookiesPs) {\n      target[i].pp = // eslint-disable-line no-param-reassign\n        Math.max(price - (Game.cookies + GetWrinkConfigBank()), 0) / Game.cookiesPs +\n        price / target[i].bonus;\n    } else target[i].pp = price / target[i].bonus; // eslint-disable-line no-param-reassign\n    if (\n      !(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPRigidelMode &&\n        amount === 1\n      )\n    )\n      CachePPArray.push([target[i].pp, amount, price]);\n  });\n}\n\n/**\n * This functions caches the PP of each building it saves all date in CM.Cache.Objects...\n * It is called by CM.Cache.CachePP()\n */\nexport default function CacheBuildingsPP() {\n  CacheMinPP = Infinity;\n  CachePPArray = [];\n  if (\n    typeof Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPExcludeTop ===\n    'undefined'\n  )\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPExcludeTop = 0; // Otherwise breaks during initialization\n\n  // Calculate PP and colors\n  CachePP(CacheObjects1, 1);\n  CachePP(CacheObjects10, 10);\n  CachePP(CacheObjects100, 100);\n\n  // Set CM.Cache.min to best non-excluded buidliung\n  CachePPArray.sort((a, b) => a[0] - b[0]);\n  let indexOfMin = Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPExcludeTop;\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.PPOnlyConsiderBuyable) {\n    while (CachePPArray[indexOfMin][2] > Game.cookies) {\n      indexOfMin += 1;\n      if (CachePPArray.length === indexOfMin + 1) {\n        break;\n      }\n    }\n  }\n  CacheMinPP = CachePPArray[indexOfMin][0];\n  CacheMinPPBulk = CachePPArray[indexOfMin][1];\n\n  CacheColour(CacheObjects1, 1);\n  CacheColour(CacheObjects10, 10);\n  CacheColour(CacheObjects100, 100);\n}\n","import GetWrinkConfigBank from '../../Disp/HelperFunctions/GetWrinkConfigBank';\nimport { CacheUpgrades } from '../VariablesAndData';\nimport ColourOfPP from './ColourOfPP';\n\n/**\n * This functions caches the PP of each building it saves all date in CM.Cache.Upgrades\n * It is called by CM.Cache.CachePP()\n */\nexport default function CacheUpgradePP() {\n  Object.keys(CacheUpgrades).forEach((i) => {\n    if (Game.cookiesPs) {\n      CacheUpgrades[i].pp =\n        Math.max(Game.Upgrades[i].getPrice() - (Game.cookies + GetWrinkConfigBank()), 0) /\n          Game.cookiesPs +\n        Game.Upgrades[i].getPrice() / CacheUpgrades[i].bonus;\n    } else CacheUpgrades[i].pp = Game.Upgrades[i].getPrice() / CacheUpgrades[i].bonus;\n    if (Number.isNaN(CacheUpgrades[i].pp)) CacheUpgrades[i].pp = Infinity;\n\n    CacheUpgrades[i].color = ColourOfPP(CacheUpgrades[i], Game.Upgrades[i].getPrice());\n  });\n}\n","/**\n * Section: Functions related to caching PP */\n\nimport { CacheObjects1, CacheObjects10, CacheObjects100, CacheUpgrades } from '../VariablesAndData';\nimport CacheBuildingsPP from './Building';\nimport CacheUpgradePP from './Upgrade';\n\n/**\n * This functions caches the PP of each building and upgrade and stores it in the cache\n * It is called by CM.Cache.LoopCache() and CM.Cache.InitCache()\n */\nexport default function CachePP() {\n  CacheBuildingsPP();\n  CacheUpgradePP();\n  window.CookieMonsterData.Objects1 = JSON.parse(JSON.stringify(CacheObjects1));\n  window.CookieMonsterData.Objects10 = JSON.parse(JSON.stringify(CacheObjects10));\n  window.CookieMonsterData.Objects100 = JSON.parse(JSON.stringify(CacheObjects100));\n  window.CookieMonsterData.Upgrades = [];\n  Object.entries(CacheUpgrades).forEach((i) => {\n    window.CookieMonsterData.Upgrades[i[0]] = JSON.parse(JSON.stringify(i[1]));\n  });\n}\n","import CalculateGains from '../Calculations/CalculateGains';\nimport CheckOtherAchiev from '../Calculations/CheckOtherAchiev';\nimport SimAuraMult from '../ReplacedGameFunctions/SimAuraMult';\nimport SimEff from '../ReplacedGameFunctions/SimEff';\nimport SimHas from '../ReplacedGameFunctions/SimHas';\nimport SimHasGod from '../ReplacedGameFunctions/SimHasGod';\nimport CopyData from '../SimulationData/CopyData';\nimport SimWin from '../SimulationData/SimWin';\nimport {\n  SimAchievementsOwned,\n  SimCookiesPs,\n  SimObjects,\n  SimPledges,\n  SimUpgrades,\n  SimUpgradesOwned, // eslint-disable-line no-unused-vars\n} from '../VariablesAndData';\n\n/**\n * This function calculates the cookies per click\n * It is called by CM.Sim.BuyUpgradesBonusIncome() when an upgrades has no bonus-income (and is thus a clicking-upgrade)\n * @returns\t{number}\tout\tThe clicking power\n */\nfunction MouseCps() {\n  let add = 0;\n  if (SimHas('Thousand fingers')) add += 0.1;\n  if (SimHas('Million fingers')) add *= 5;\n  if (SimHas('Billion fingers')) add *= 10;\n  if (SimHas('Trillion fingers')) add *= 20;\n  if (SimHas('Quadrillion fingers')) add *= 20;\n  if (SimHas('Quintillion fingers')) add *= 20;\n  if (SimHas('Sextillion fingers')) add *= 20;\n  if (SimHas('Septillion fingers')) add *= 20;\n  if (SimHas('Octillion fingers')) add *= 20;\n  if (SimHas('Nonillion fingers')) add *= 20;\n  let num = 0;\n  Object.keys(SimObjects).forEach((i) => {\n    num += SimObjects[i].amount;\n  });\n  num -= SimObjects.Cursor.amount;\n  add *= num;\n\n  // Can use SimCookiesPs as function is always called after CM.Sim.CalculateGains()\n  if (SimHas('Plastic mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Iron mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Titanium mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Adamantium mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Unobtainium mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Eludium mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Wishalloy mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Fantasteel mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Nevercrack mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Armythril mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Technobsidian mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Plasmarble mouse')) add += SimCookiesPs * 0.01;\n  if (SimHas('Miraculite mouse')) add += SimCookiesPs * 0.01;\n\n  if (SimHas('Fortune #104')) add += SimCookiesPs * 0.01;\n\n  let mult = 1;\n  if (SimHas(\"Santa's helpers\")) mult *= 1.1;\n  if (SimHas('Cookie egg')) mult *= 1.1;\n  if (SimHas('Halo gloves')) mult *= 1.1;\n  if (SimHas('Dragon claw')) mult *= 1.03;\n\n  if (SimHas('Aura gloves')) {\n    mult *= 1 + 0.05 * Math.min(Game.Objects.Cursor.level, SimHas('Luminous gloves') ? 20 : 10);\n  }\n\n  mult *= SimEff('click');\n  if (SimObjects.Temple.minigameLoaded) {\n    if (SimHasGod) {\n      const godLvl = SimHasGod('labor');\n      if (godLvl === 1) mult *= 1.15;\n      else if (godLvl === 2) mult *= 1.1;\n      else if (godLvl === 3) mult *= 1.05;\n    }\n  }\n\n  Object.keys(Game.buffs).forEach((i) => {\n    if (typeof Game.buffs[i].multClick !== 'undefined') mult *= Game.buffs[i].multClick;\n  });\n\n  // if (CM.Sim.auraMult('Dragon Cursor')) mult*=1.05;\n  mult *= 1 + SimAuraMult('Dragon Cursor') * 0.05;\n\n  // No need to make this function a CM function\n  let out =\n    mult *\n    Game.ComputeCps(\n      1,\n      SimHas('Reinforced index finger') +\n        SimHas('Carpal tunnel prevention cream') +\n        SimHas('Ambidextrous'),\n      add,\n    );\n\n  out = Game.runModHookOnValue('cookiesPerClick', out);\n\n  if (Game.hasBuff('Cursed finger')) out = Game.buffs['Cursed finger'].power;\n\n  return out;\n}\n\n/**\n * This function calculates the bonus income of buying a building\n * It is called by CM.Cache.CacheBuildingIncome()\n * @param\t{string}\t\t\t\tbuilding\tThe name of the upgrade to be bought\n * @returns {[{number, number}]}\t\t\t\tThe bonus income of the upgrade and the difference in MouseCPS\n */\nexport default function BuyUpgradesBonusIncome(upgrade) {\n  if (\n    Game.Upgrades[upgrade].pool === 'toggle' ||\n    (Game.Upgrades[upgrade].bought === 0 &&\n      Game.Upgrades[upgrade].unlocked &&\n      Game.Upgrades[upgrade].pool !== 'prestige')\n  ) {\n    CopyData();\n    if (SimUpgrades[upgrade].name === 'Shimmering veil [on]') {\n      SimUpgrades['Shimmering veil [off]'].bought = 0;\n    } else if (SimUpgrades[upgrade].name === 'Golden switch [on]') {\n      SimUpgrades['Golden switch [off]'].bought = 0;\n    } else {\n      SimUpgrades[upgrade].bought = (SimUpgrades[upgrade].bought + 1) % 2;\n    }\n    if (Game.CountsAsUpgradeOwned(Game.Upgrades[upgrade].pool)) SimUpgradesOwned += 1;\n\n    if (upgrade === 'Elder Pledge') {\n      SimPledges += 1;\n      if (SimPledges > 0) SimWin('Elder nap');\n      if (SimPledges >= 5) SimWin('Elder slumber');\n    } else if (upgrade === 'Elder Covenant') {\n      SimWin('Elder calm');\n    } else if (upgrade === 'Prism heart biscuits') {\n      SimWin('Lovely cookies');\n    } else if (upgrade === 'Heavenly key') {\n      SimWin('Wholesome');\n    }\n\n    const lastAchievementsOwned = SimAchievementsOwned;\n\n    CalculateGains();\n\n    CheckOtherAchiev();\n\n    if (lastAchievementsOwned !== SimAchievementsOwned) {\n      CalculateGains();\n    }\n\n    const diffMouseCPS = MouseCps() - Game.computedMouseCps;\n    if (diffMouseCPS) {\n      return [SimCookiesPs - Game.cookiesPs, diffMouseCPS];\n    }\n    return [SimCookiesPs - Game.cookiesPs];\n  }\n  return [];\n}\n","/** Section: Functions related to caching income */\n\nimport BuildingGetPrice from '../../Sim/SimulationEvents/BuyBuilding';\nimport BuyBuildingsBonusIncome from '../../Sim/SimulationEvents/BuyBuildingBonusIncome';\nimport BuyUpgradesBonusIncome from '../../Sim/SimulationEvents/BuyUpgrades';\nimport {\n  CacheAverageGainBank,\n  CacheAverageGainWrink,\n  CacheAverageGainWrinkFattest,\n  CacheDoRemakeBuildPrices, // eslint-disable-line no-unused-vars\n  CacheObjects1,\n  CacheObjects10,\n  CacheObjects100,\n  CacheObjectsNextAchievement,\n  CacheUpgrades,\n} from '../VariablesAndData';\n\n/**\n * This functions starts the calculation/simulation of the bonus income of buildings\n * It is called by CM.Cache.CacheIncome()\n * @param\t{amount}\tamount\tAmount to be bought\n * @parem\t{string}\ttarget\tThe target Cache object (\"Objects1\", \"Objects10\" or \"Objects100\")\n */\nfunction CacheBuildingIncome(amount) {\n  const result = {};\n  Object.keys(Game.Objects).forEach((i) => {\n    result[i] = {};\n    result[i].bonus = BuyBuildingsBonusIncome(i, amount);\n    if (amount !== 1) {\n      CacheDoRemakeBuildPrices = 1;\n    }\n  });\n  return result;\n}\n\n/**\n * This functions starts the calculation/simulation of the bonus income of upgrades\n * It is called by CM.Cache.CacheIncome()\n */\nfunction CacheUpgradeIncome() {\n  CacheUpgrades = {};\n  for (let i = 0; i < Game.UpgradesInStore.length; i++) {\n    const upgradeName = Game.UpgradesInStore[i].name;\n    const bonusIncome = BuyUpgradesBonusIncome(upgradeName);\n    if (upgradeName === 'Elder Pledge') {\n      CacheUpgrades[upgradeName] = {\n        bonus: Game.cookiesPs - CacheAverageGainBank,\n      };\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 1)\n        CacheUpgrades[upgradeName].bonus -= CacheAverageGainWrink;\n      else if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.CalcWrink === 2)\n        CacheUpgrades[upgradeName].bonus -= CacheAverageGainWrinkFattest;\n      if (!Number.isFinite(CacheUpgrades[upgradeName].bonus)) CacheUpgrades[upgradeName].bonus = 0;\n    } else {\n      CacheUpgrades[upgradeName] = {};\n      if (bonusIncome[0]) CacheUpgrades[upgradeName].bonus = bonusIncome[0];\n      if (bonusIncome[1]) CacheUpgrades[upgradeName].bonusMouse = bonusIncome[1];\n    }\n  }\n}\n\n/**\n * This functions caches the price of each building and stores it in the cache\n */\nexport function CacheBuildingsPrices() {\n  Object.keys(Game.Objects).forEach((i) => {\n    CacheObjects1[i].price = BuildingGetPrice(\n      i,\n      Game.Objects[i].basePrice,\n      Game.Objects[i].amount,\n      Game.Objects[i].free,\n      1,\n    );\n    CacheObjects10[i].price = BuildingGetPrice(\n      i,\n      Game.Objects[i].basePrice,\n      Game.Objects[i].amount,\n      Game.Objects[i].free,\n      10,\n    );\n    CacheObjects100[i].price = BuildingGetPrice(\n      i,\n      Game.Objects[i].basePrice,\n      Game.Objects[i].amount,\n      Game.Objects[i].free,\n      100,\n    );\n    CacheObjectsNextAchievement[i].price = BuildingGetPrice(\n      i,\n      Game.Objects[i].basePrice,\n      Game.Objects[i].amount,\n      Game.Objects[i].free,\n      CacheObjectsNextAchievement[i].AmountNeeded,\n    );\n  });\n}\n\n/**\n * This functions caches the income gain of each building and upgrade and stores it in the cache\n * It is called by CM.Main.Loop() and CM.Cache.InitCache()\n */\nexport function CacheIncome() {\n  // Simulate Building Buys for 1, 10 and 100 amount\n  CacheObjects1 = CacheBuildingIncome(1);\n  CacheObjects10 = CacheBuildingIncome(10);\n  CacheObjects100 = CacheBuildingIncome(100);\n\n  // Simulate Upgrade Buys\n  CacheUpgradeIncome();\n}\n","import GetCPSBuffMult from '../CPS/GetCPSBuffMult';\nimport {\n  CacheChainFrenzyMaxReward,\n  CacheChainFrenzyRequired, // eslint-disable-line no-unused-vars\n  CacheChainFrenzyRequiredNext, // eslint-disable-line no-unused-vars\n  CacheChainFrenzyWrathMaxReward,\n  CacheChainFrenzyWrathRequired, // eslint-disable-line no-unused-vars\n  CacheChainFrenzyWrathRequiredNext, // eslint-disable-line no-unused-vars\n  CacheChainMaxReward,\n  CacheChainRequired, // eslint-disable-line no-unused-vars\n  CacheChainRequiredNext, // eslint-disable-line no-unused-vars\n  CacheChainWrathMaxReward,\n  CacheChainWrathRequired, // eslint-disable-line no-unused-vars\n  CacheChainWrathRequiredNext, // eslint-disable-line no-unused-vars\n  CacheDragonsFortuneMultAdjustment,\n  CacheGoldenCookiesMult,\n  CacheNoGoldSwitchCookiesPS,\n  CacheWrathCookiesMult,\n} from '../VariablesAndData';\n\n/**\n * This functions calculates the max possible payout given a set of variables\n * It is called by CM.Disp.CreateStatsChainSection() and CM.Cache.CacheChain()\n * @param\t{number}\t\t\t\t\tdigit\t\tNumber of Golden Cookies in chain\n * @param\t{number}\t\t\t\t\tmaxPayout\tMaximum payout\n * @param\t{number}\t\t\t\t\tmult\t\tMultiplier\n * @returns\t[{number, number, number}]\t\t\t\tTotal cookies earned, cookie needed for this and next level\n */\nexport function MaxChainCookieReward(digit, maxPayout, mult) {\n  let totalFromChain = 0;\n  let moni = 0;\n  let nextMoni = 0;\n  let nextRequired = 0;\n  let chain = 1 + Math.max(0, Math.ceil(Math.log(Game.cookies) / Math.LN10) - 10);\n  while (nextMoni < maxPayout * mult) {\n    moni = Math.max(\n      digit,\n      Math.min(Math.floor((1 / 9) * 10 ** chain * digit * mult), maxPayout * mult),\n    );\n    nextMoni = Math.max(\n      digit,\n      Math.min(Math.floor((1 / 9) * 10 ** (chain + 1) * digit * mult), maxPayout * mult),\n    );\n    nextRequired = Math.floor((1 / 9) * 10 ** (chain + 1) * digit * mult);\n    totalFromChain += moni;\n    chain += 1;\n  }\n  return [totalFromChain, moni, nextRequired];\n}\n\n/**\n * This functions caches data related to Chain Cookies reward from Golden Cookioes\n * It is called by CM.Main.Loop() upon changes to cps and CM.Cache.InitCache()\n * @global\t[{number, number}]\tCM.Cache.ChainMaxReward\t\t\tTotal cookies earned, and cookies needed for next level for normal chain\n * @global\t{number}\t\t\tCM.Cache.ChainRequired\t\t\tCookies needed for maximum reward for normal chain\n * @global\t{number}\t\t\tCM.Cache.ChainRequiredNext\t\tTotal cookies needed for next level for normal chain\n * @global\t[{number, number}]\tCM.Cache.ChainMaxWrathReward\t\t\tTotal cookies earned, and cookies needed for next level for wrath chain\n * @global\t{number}\t\t\tCM.Cache.ChainWrathRequired\t\t\tCookies needed for maximum reward for wrath chain\n * @global\t{number}\t\t\tCM.Cache.ChainWrathRequiredNext\t\tTotal cookies needed for next level for wrath chain\n * @global\t[{number, number}]\tCM.Cache.ChainFrenzyMaxReward\t\t\tTotal cookies earned, and cookies needed for next level for normal frenzy chain\n * @global\t{number}\t\t\tCM.Cache.ChainFrenzyRequired\t\t\tCookies needed for maximum reward for normal frenzy chain\n * @global\t{number}\t\t\tCM.Cache.ChainFrenzyRequiredNext\t\tTotal cookies needed for next level for normal frenzy chain\n * @global\t[{number, number}]\tCM.Cache.ChainFrenzyWrathMaxReward\t\t\tTotal cookies earned, and cookies needed for next level for wrath frenzy chain\n * @global\t{number}\t\t\tCM.Cache.ChainFrenzyWrathRequired\t\t\tCookies needed for maximum reward for wrath frenzy chain\n * @global\t{number}\t\t\tCM.Cache.ChainFrenzyWrathRequiredNext\t\tTotal cookies needed for next level for wrath frenzy chain\n */\nexport function CacheChain() {\n  let maxPayout = CacheNoGoldSwitchCookiesPS * 60 * 60 * 6 * CacheDragonsFortuneMultAdjustment;\n  // Removes effect of Frenzy etc.\n  const cpsBuffMult = GetCPSBuffMult();\n  if (cpsBuffMult > 0) maxPayout /= cpsBuffMult;\n  else maxPayout = 0;\n\n  CacheChainMaxReward = MaxChainCookieReward(7, maxPayout, CacheGoldenCookiesMult);\n  CacheChainRequired = (CacheChainMaxReward[1] * 2) / CacheGoldenCookiesMult;\n  CacheChainRequiredNext = CacheChainMaxReward[2] / 60 / 60 / 6 / CacheDragonsFortuneMultAdjustment;\n\n  CacheChainWrathMaxReward = MaxChainCookieReward(6, maxPayout, CacheWrathCookiesMult);\n  CacheChainWrathRequired = (CacheChainWrathMaxReward[1] * 2) / CacheWrathCookiesMult;\n  CacheChainWrathRequiredNext =\n    CacheChainWrathMaxReward[2] / 60 / 60 / 6 / CacheDragonsFortuneMultAdjustment;\n\n  CacheChainFrenzyMaxReward = MaxChainCookieReward(7, maxPayout * 7, CacheGoldenCookiesMult);\n  CacheChainFrenzyRequired = (CacheChainFrenzyMaxReward[1] * 2) / CacheGoldenCookiesMult;\n  CacheChainFrenzyRequiredNext =\n    CacheChainFrenzyMaxReward[2] / 60 / 60 / 6 / CacheDragonsFortuneMultAdjustment;\n\n  CacheChainFrenzyWrathMaxReward = MaxChainCookieReward(6, maxPayout * 7, CacheWrathCookiesMult);\n  CacheChainFrenzyWrathRequired = (CacheChainFrenzyWrathMaxReward[1] * 2) / CacheWrathCookiesMult;\n  CacheChainFrenzyWrathRequiredNext =\n    CacheChainFrenzyWrathMaxReward[2] / 60 / 60 / 6 / CacheDragonsFortuneMultAdjustment;\n}\n","import {\n  CacheHCPerSecond, // eslint-disable-line no-unused-vars\n  CacheLastHeavenlyCheck,\n  CacheLastHeavenlyChips,\n  HeavenlyChipsDiff,\n} from '../VariablesAndData';\n\n/**\n * This functions caches the heavenly chips per second in the last five seconds\n * It is called by CM.Cache.LoopCache()\n * @global\t{number}\tCM.Cache.HCPerSecond\tThe Heavenly Chips per second in the last five seconds\n */\nexport default function CacheHeavenlyChipsPS() {\n  const currDate = Math.floor(Date.now() / 1000);\n  // Only calculate every new second\n  if ((Game.T / Game.fps) % 1 === 0) {\n    const chipsOwned = Game.HowMuchPrestige(Game.cookiesReset);\n    const ascendNowToOwn = Math.floor(Game.HowMuchPrestige(Game.cookiesReset + Game.cookiesEarned));\n    const ascendNowToGet = ascendNowToOwn - Math.floor(chipsOwned);\n\n    // Add recent gains to AvgQueue's\n    const timeDiff = currDate - CacheLastHeavenlyCheck;\n    const heavenlyChipsDiffAvg = Math.max(0, ascendNowToGet - CacheLastHeavenlyChips) / timeDiff;\n    for (let i = 0; i < timeDiff; i++) {\n      HeavenlyChipsDiff.addLatest(heavenlyChipsDiffAvg);\n    }\n\n    // Store current data for next loop\n    CacheLastHeavenlyCheck = currDate;\n    CacheLastHeavenlyChips = ascendNowToGet;\n\n    // Get average gain over period of 5 seconds\n    CacheHCPerSecond = HeavenlyChipsDiff.calcAverage(5);\n  }\n}\n","/** Functions related to displaying the missing upgrades in the Statistics page */\n\nimport {\n  CacheMissingUpgrades,\n  CacheMissingUpgradesCookies,\n  CacheMissingUpgradesPrestige,\n} from '../../../Cache/VariablesAndData';\n\n/**\n * This function creates the missing upgrades sections for prestige, normal and cookie upgrades\n */\nexport function AddMissingUpgrades() {\n  l('menu').childNodes.forEach((menuSection) => {\n    if (menuSection.children[0]) {\n      if (menuSection.children[0].innerHTML === 'Prestige' && CacheMissingUpgradesPrestige) {\n        const prestigeUpgradesMissing =\n          CacheMissingUpgradesPrestige.match(new RegExp('div', 'g') || []).length / 2;\n        const title = document.createElement('div');\n        title.id = 'CMMissingUpgradesPrestigeTitle';\n        title.className = 'listing';\n        const titlefrag = document.createElement('div');\n        titlefrag.innerHTML = `<b>Missing Prestige upgrades:</b> ${prestigeUpgradesMissing}/${\n          Game.PrestigeUpgrades.length\n        } (${Math.floor((prestigeUpgradesMissing / Game.PrestigeUpgrades.length) * 100)}%)`;\n        title.appendChild(titlefrag);\n        menuSection.appendChild(title);\n        const upgrades = document.createElement('div');\n        upgrades.className = 'listing crateBox';\n        upgrades.innerHTML = CacheMissingUpgradesPrestige;\n        menuSection.appendChild(upgrades);\n      } else if (menuSection.children[0].innerHTML === 'Upgrades') {\n        if (CacheMissingUpgrades) {\n          const normalUpgradesMissing =\n            CacheMissingUpgrades.match(new RegExp('div', 'g') || []).length / 2;\n          const title = document.createElement('div');\n          title.id = 'CMMissingUpgradesTitle';\n          title.className = 'listing';\n          const titlefrag = document.createElement('div');\n          titlefrag.innerHTML = `<b>Missing normal upgrades:</b> ${normalUpgradesMissing}/${\n            Game.UpgradesByPool[''].length + Game.UpgradesByPool.tech.length\n          } (${Math.floor(\n            (normalUpgradesMissing /\n              (Game.UpgradesByPool[''].length + Game.UpgradesByPool.tech.length)) *\n              100,\n          )}%)`;\n          title.appendChild(titlefrag);\n          menuSection.insertBefore(title, menuSection.childNodes[3]);\n          const upgrades = document.createElement('div');\n          upgrades.className = 'listing crateBox';\n          upgrades.innerHTML = CacheMissingUpgrades;\n          menuSection.insertBefore(\n            upgrades,\n            document.getElementById('CMMissingUpgradesTitle').nextSibling,\n          );\n        }\n        if (CacheMissingUpgradesCookies) {\n          const cookieUpgradesMissing =\n            CacheMissingUpgradesCookies.match(new RegExp('div', 'g') || []).length / 2;\n          const title = document.createElement('div');\n          title.id = 'CMMissingUpgradesCookiesTitle';\n          title.className = 'listing';\n          const titlefrag = document.createElement('div');\n          titlefrag.innerHTML = `<b>Missing Cookie upgrades:</b> ${cookieUpgradesMissing}/${\n            Game.UpgradesByPool.cookie.length\n          } (${Math.floor((cookieUpgradesMissing / Game.UpgradesByPool.cookie.length) * 100)}%)`;\n          title.appendChild(titlefrag);\n          menuSection.appendChild(title);\n          const upgrades = document.createElement('div');\n          upgrades.className = 'listing crateBox';\n          upgrades.innerHTML = CacheMissingUpgradesCookies;\n          menuSection.appendChild(upgrades);\n        }\n      }\n    }\n  });\n}\n\n/**\n * This function returns the \"crates\" (icons) for missing upgrades in the stats sections\n * It returns a html string that gets appended to the respective CM.Cache.MissingUpgrades-variable by CM.Cache.CacheMissingUpgrades()\n * @param\t{object}\tme\tThe upgrade object\n * @returns\t{string}\t?\tThe HTML string that creates the icon.\n */\nexport function crateMissing(me) {\n  let classes = 'crate upgrade missing';\n  if (me.pool === 'prestige') classes += ' heavenly';\n\n  let noFrame = 0;\n  if (!Game.prefs.crates) noFrame = 1;\n  if (noFrame) classes += ' noFrame';\n\n  let { icon } = me;\n  if (me.iconFunction) icon = me.iconFunction();\n  const tooltip = `function() {return Game.crateTooltip(Game.UpgradesById[${me.id}], 'stats');}`;\n  return `<div class=\"${classes}\"\n\t${Game.getDynamicTooltip(tooltip, 'top', true)}\n\tstyle = \"${`${icon[2] ? `background-image: url(${icon[2]});` : ''}background-position:${\n    -icon[0] * 48\n  }px ${-icon[1] * 48}px`};\">\n\t</div>`;\n}\n","import { crateMissing } from '../../Disp/MenuSections/Statistics/CreateMissingUpgrades';\nimport {\n  CacheMissingUpgrades, // eslint-disable-line no-unused-vars\n  CacheMissingUpgradesCookies, // eslint-disable-line no-unused-vars\n  CacheMissingUpgradesPrestige, // eslint-disable-line no-unused-vars\n} from '../VariablesAndData';\n\n/**\n * This functions caches variables related to missing upgrades\n * It is called by CM.Main.Loop() and CM.Cache.InitCache()\n * @global\t{string}\tCM.Cache.MissingUpgrades\t\t\tString containig the HTML to create the \"crates\" for missing normal upgrades\n * @global\t{string}\tCM.Cache.MissingUpgradesCookies\t\tString containig the HTML to create the \"crates\" for missing cookie upgrades\n * @global\t{string}\tCM.Cache.MissingUpgradesPrestige\tString containig the HTML to create the \"crates\" for missing prestige upgrades\n */\nexport default function CacheAllMissingUpgrades() {\n  CacheMissingUpgrades = '';\n  CacheMissingUpgradesCookies = '';\n  CacheMissingUpgradesPrestige = '';\n  const list = [];\n  // sort the upgrades\n  Object.keys(Game.Upgrades).forEach((i) => {\n    list.push(Game.Upgrades[i]);\n  });\n  const sortMap = function (a, b) {\n    if (a.order > b.order) return 1;\n    if (a.order < b.order) return -1;\n    return 0;\n  };\n  list.sort(sortMap);\n\n  Object.keys(list).forEach((i) => {\n    const me = list[i];\n\n    if (me.bought === 0) {\n      let str = '';\n\n      str += crateMissing(me);\n      /* eslint-disable no-unused-vars */\n      if (me.pool === 'prestige') CacheMissingUpgradesPrestige += str;\n      else if (me.pool === 'cookie') CacheMissingUpgradesCookies += str;\n      else if (me.pool !== 'toggle' && me.pool !== 'unused' && me.pool !== 'debug')\n        CacheMissingUpgrades += str;\n      /* eslint-enable no-unused-vars */\n    }\n  });\n}\n","import { CacheSeaSpec } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This functions caches the reward of popping a reindeer\n * It is called by CM.Main.Loop() and CM.Cache.InitCache()\n * @global\t{number}\tCM.Cache.SeaSpec\tThe reward for popping a reindeer\n */\nexport default function CacheSeasonSpec() {\n  if (Game.season === 'christmas') {\n    let val = Game.cookiesPs * 60;\n    if (Game.hasBuff('Elder frenzy')) val *= 0.5;\n    if (Game.hasBuff('Frenzy')) val *= 0.75;\n    CacheSeaSpec = Math.max(25, val);\n    if (Game.Has('Ho ho ho-flavored frosting')) CacheSeaSpec *= 2;\n  }\n}\n","/** Functions related to Caching stats */\n\nimport SimHas from '../../Sim/ReplacedGameFunctions/SimHas';\nimport GetCPSBuffMult from '../CPS/GetCPSBuffMult';\nimport {\n  CacheConjure,\n  CacheConjureReward, // eslint-disable-line no-unused-vars\n  CacheDragonsFortuneMultAdjustment,\n  CacheEdifice,\n  CacheEdificeBuilding, // eslint-disable-line no-unused-vars\n  CacheGoldenCookiesMult,\n  CacheLucky,\n  CacheLuckyFrenzy,\n  CacheLuckyReward, // eslint-disable-line no-unused-vars\n  CacheLuckyRewardFrenzy, // eslint-disable-line no-unused-vars\n  CacheLuckyWrathReward, // eslint-disable-line no-unused-vars\n  CacheLuckyWrathRewardFrenzy, // eslint-disable-line no-unused-vars\n  CacheNoGoldSwitchCookiesPS,\n  CacheWrathCookiesMult,\n} from '../VariablesAndData';\n\n/**\n * This functions caches variables related to the stats page\n */\nexport function CacheStatsCookies() {\n  CacheLucky = (CacheNoGoldSwitchCookiesPS * 900) / 0.15;\n  CacheLucky *= CacheDragonsFortuneMultAdjustment;\n  const cpsBuffMult = GetCPSBuffMult();\n  if (cpsBuffMult > 0) CacheLucky /= cpsBuffMult;\n  else CacheLucky = 0;\n  CacheLuckyReward = CacheGoldenCookiesMult * (CacheLucky * 0.15) + 13;\n  CacheLuckyWrathReward = CacheWrathCookiesMult * (CacheLucky * 0.15) + 13;\n  CacheLuckyFrenzy = CacheLucky * 7;\n  CacheLuckyRewardFrenzy = CacheGoldenCookiesMult * (CacheLuckyFrenzy * 0.15) + 13;\n  CacheLuckyWrathRewardFrenzy = CacheWrathCookiesMult * (CacheLuckyFrenzy * 0.15) + 13;\n  CacheConjure = CacheLucky * 2;\n  CacheConjureReward = CacheConjure * 0.15;\n\n  CacheEdifice = 0;\n  let max = 0;\n  let n = 0;\n  Object.keys(Game.Objects).forEach((i) => {\n    if (Game.Objects[i].amount > max) max = Game.Objects[i].amount;\n    if (Game.Objects[i].amount > 0) n += 1;\n  });\n  Object.keys(Game.Objects).forEach((i) => {\n    if (\n      (Game.Objects[i].amount < max || n === 1) &&\n      Game.Objects[i].amount < 400 &&\n      Game.Objects[i].price * 2 > CacheEdifice\n    ) {\n      CacheEdifice = Game.Objects[i].price * 2;\n      CacheEdificeBuilding = i;\n    }\n  });\n}\n\n/**\n * This functions calculates the multipliers of Golden and Wrath cookie rewards\n */\nexport function CacheGoldenAndWrathCookiesMults() {\n  let goldenMult = 1;\n  let wrathMult = 1;\n  let mult = 1;\n\n  // Factor auras and upgrade in mults\n  if (SimHas('Green yeast digestives')) mult *= 1.01;\n  if (SimHas('Dragon fang')) mult *= 1.03;\n\n  goldenMult *= 1 + Game.auraMult('Ancestral Metamorphosis') * 0.1;\n  goldenMult *= Game.eff('goldenCookieGain');\n  wrathMult *= 1 + Game.auraMult('Unholy Dominion') * 0.1;\n  wrathMult *= Game.eff('wrathCookieGain');\n\n  // Calculate final golden and wrath multipliers\n  CacheGoldenCookiesMult = mult * goldenMult;\n  CacheWrathCookiesMult = mult * wrathMult;\n\n  // Calculate Dragon's Fortune multiplier adjustment:\n  // If Dragon's Fortune (or Reality Bending) aura is active and there are currently no golden cookies,\n  // compute a multiplier adjustment to apply on the current CPS to simulate 1 golden cookie on screen.\n  // Otherwise, the aura effect will be factored in the base CPS making the multiplier not requiring adjustment.\n  CacheDragonsFortuneMultAdjustment = 1;\n  if (Game.shimmerTypes.golden.n === 0) {\n    CacheDragonsFortuneMultAdjustment *= 1 + Game.auraMult(\"Dragon's Fortune\") * 1.23;\n  }\n}\n","import BuyBuildingsBonusIncome from '../../Sim/SimulationEvents/BuyBuildingBonusIncome';\nimport { SimAchievementsOwned } from '../../Sim/VariablesAndData';\n\nexport default function IndividualAmountTillNextAchievement(building) {\n  const AchievementsAtStart = Game.AchievementsOwned;\n  let index = 100;\n  let lastIndexWithChange = 100;\n  while (index > -1) {\n    BuyBuildingsBonusIncome(building, index);\n    if (SimAchievementsOwned > AchievementsAtStart) {\n      lastIndexWithChange = index;\n      index -= 10;\n    } else if (index === 100) {\n      return 101;\n    } else {\n      index += 1;\n      while (index <= lastIndexWithChange) {\n        BuyBuildingsBonusIncome(building, index);\n        if (SimAchievementsOwned > AchievementsAtStart) {\n          return index;\n        }\n        index += 1;\n      }\n    }\n  }\n  return 101;\n}\n","import BuildingGetPrice from '../../Sim/SimulationEvents/BuyBuilding';\nimport { CacheObjectsNextAchievement } from '../VariablesAndData';\nimport IndividualAmountTillNextAchievement from './IndividualAmountTillNextAchievement';\n\n/**\n * This functions caches the amount of buildings needed till next achievement\n * @param\t{boolean}\tforceRecalc\tWhether a recalcution should be forced (after CPS change)\n */\nexport default function AllAmountTillNextAchievement(forceRecalc) {\n  const result = {};\n\n  Object.keys(Game.Objects).forEach((i) => {\n    if (\n      Object.keys(CacheObjectsNextAchievement).length !== 0 &&\n      CacheObjectsNextAchievement[i].TotalNeeded > Game.Objects[i].amount &&\n      !forceRecalc\n    ) {\n      result[i] = {\n        AmountNeeded: CacheObjectsNextAchievement[i].TotalNeeded - Game.Objects[i].amount,\n        TotalNeeded: CacheObjectsNextAchievement[i].TotalNeeded,\n        price: BuildingGetPrice(\n          i,\n          Game.Objects[i].basePrice,\n          Game.Objects[i].amount,\n          Game.Objects[i].free,\n          CacheObjectsNextAchievement[i].TotalNeeded - Game.Objects[i].amount,\n        ),\n      };\n    } else {\n      const tillNext = IndividualAmountTillNextAchievement(i);\n      result[i] = {\n        AmountNeeded: tillNext,\n        TotalNeeded: Game.Objects[i].amount + tillNext,\n        price: BuildingGetPrice(\n          i,\n          Game.Objects[i].basePrice,\n          Game.Objects[i].amount,\n          Game.Objects[i].free,\n          tillNext,\n        ),\n      };\n    }\n  });\n  CacheObjectsNextAchievement = result; // eslint-disable-line no-unused-vars\n}\n","/** Caches data related to Wrinklers */\n\nimport { SimObjects } from '../../Sim/VariablesAndData';\nimport {\n  CacheWrinklersFattest,\n  CacheWrinklersNormal, // eslint-disable-line no-unused-vars\n  CacheWrinklersTotal, // eslint-disable-line no-unused-vars\n} from '../VariablesAndData';\n\n/**\n * This functions caches data related to Wrinklers\n * It is called by CM.Cache.LoopCache() and CM.Cache.InitCache()\n * @global\t{number}\t\t\t\tCM.Cache.WrinklersTotal\t\tThe cookies of all wrinklers\n * @global\t{number}\t\t\t\tCM.Cache.WrinklersNormal\tThe cookies of all normal wrinklers\n * @global\t{[{number}, {number}]}\tCM.Cache.WrinklersFattest\tA list containing the cookies and the id of the fattest non-shiny wrinkler\n */\nexport default function CacheWrinklers() {\n  CacheWrinklersTotal = 0;\n  CacheWrinklersNormal = 0;\n  CacheWrinklersFattest = [0, null];\n  for (let i = 0; i < Game.wrinklers.length; i++) {\n    let { sucked } = Game.wrinklers[i];\n    let toSuck = 1.1;\n    if (Game.Has('Sacrilegious corruption')) toSuck *= 1.05;\n    if (Game.wrinklers[i].type === 1) toSuck *= 3; // Shiny wrinklers\n    sucked *= toSuck;\n    if (Game.Has('Wrinklerspawn')) sucked *= 1.05;\n    if (SimObjects.Temple.minigameLoaded) {\n      const godLvl = Game.hasGod('scorn');\n      if (godLvl === 1) sucked *= 1.15;\n      else if (godLvl === 2) sucked *= 1.1;\n      else if (godLvl === 3) sucked *= 1.05;\n    }\n    CacheWrinklersTotal += sucked;\n    if (Game.wrinklers[i].type === 0) {\n      CacheWrinklersNormal += sucked;\n      if (sucked > CacheWrinklersFattest[0]) CacheWrinklersFattest = [sucked, i];\n    }\n  }\n}\n","import { ClickTimes } from '../Disp/VariablesAndData';\nimport { CMAvgQueue, InitCookiesDiff } from './CPS/AverageQueue';\nimport CacheAvgCPS from './CPS/CPS';\nimport CacheDragonAuras from './Dragon/CacheDragonAuras';\nimport CachePP from './PP/PP';\nimport { CacheBuildingsPrices, CacheIncome } from './PriceAndIncome/PriceAndIncome';\nimport { CacheChain } from './Stats/ChainCookies';\nimport CacheHeavenlyChipsPS from './Stats/HeavenlyChips';\nimport CacheAllMissingUpgrades from './Stats/MissingUpgrades';\nimport CacheSeasonSpec from './Stats/Reindeer';\nimport { CacheGoldenAndWrathCookiesMults, CacheStatsCookies } from './Stats/Stats';\nimport AllAmountTillNextAchievement from './TillNextAchievement/AllAmountTillNextAchievement';\nimport { CacheAverageCookiesFromClicks, HeavenlyChipsDiff } from './VariablesAndData'; // eslint-disable-line no-unused-vars\nimport CacheWrinklers from './Wrinklers/Wrinklers';\n\n/**\n * This functions runs all cache-functions to generate all \"full\" cache\n */\nexport default function InitCache() {\n  CacheDragonAuras();\n  CacheWrinklers();\n  CacheStatsCookies();\n  CacheGoldenAndWrathCookiesMults();\n  CacheChain();\n  CacheAllMissingUpgrades();\n  CacheSeasonSpec();\n  InitCookiesDiff();\n  /** Used by CM.Cache.CacheHeavenlyChipsPS() */\n  HeavenlyChipsDiff = new CMAvgQueue(5);\n  CacheAverageCookiesFromClicks = new CMAvgQueue(ClickTimes[ClickTimes.length - 1] * 20);\n  CacheHeavenlyChipsPS();\n  AllAmountTillNextAchievement();\n  CacheAvgCPS();\n  CacheIncome();\n  CacheBuildingsPrices();\n  CachePP();\n}\n","import {\n  ColourBackPre,\n  ColourBlue,\n  ColourGray,\n  ColourGreen,\n  ColourOrange,\n  ColourPurple,\n  ColourRed,\n  ColourTextPre,\n  ColourYellow,\n} from '../VariablesAndData';\n\n/**\n * This function creates the legend for the upgrade bar\n * @returns\t{object}\tlegend\tThe legend-object to be added\n */\nfunction CreateUpgradeBarLegend() {\n  const legend = document.createElement('div');\n  legend.style.minWidth = '330px';\n  legend.style.marginBottom = '4px';\n  const title = document.createElement('div');\n  title.className = 'name';\n  title.style.marginBottom = '4px';\n  title.textContent = 'Legend';\n  legend.appendChild(title);\n\n  const legendLine = function (color, text) {\n    const div = document.createElement('div');\n    div.style.verticalAlign = 'middle';\n    const span = document.createElement('span');\n    span.className = ColourBackPre + color;\n    span.style.display = 'inline-block';\n    span.style.height = '10px';\n    span.style.width = '10px';\n    span.style.marginRight = '4px';\n    div.appendChild(span);\n    div.appendChild(document.createTextNode(text));\n    return div;\n  };\n\n  legend.appendChild(legendLine(ColourBlue, 'Better than the best PP of a building option'));\n  legend.appendChild(legendLine(ColourGreen, 'Same as the best PP building option'));\n  legend.appendChild(legendLine(ColourYellow, 'Within the top 10 of PP for buildings'));\n  legend.appendChild(legendLine(ColourOrange, 'Within the top 20 of PP for buildings'));\n  legend.appendChild(legendLine(ColourRed, 'Within the top 30 of PP for buildings'));\n  legend.appendChild(legendLine(ColourPurple, 'Outside of the top 30 of PP for buildings'));\n  legend.appendChild(legendLine(ColourGray, 'Negative or infinity PP'));\n  return legend;\n}\n\n/**\n * This function creates the upgrade bar above the upgrade-section in the right section of the screen\n */\nexport default function CreateUpgradeBar() {\n  const UpgradeBar = document.createElement('div');\n  UpgradeBar.id = 'CMUpgradeBar';\n  UpgradeBar.style.width = '100%';\n  UpgradeBar.style.backgroundColor = 'black';\n  UpgradeBar.style.textAlign = 'center';\n  UpgradeBar.style.fontWeight = 'bold';\n  UpgradeBar.style.display = 'none';\n  UpgradeBar.style.zIndex = '21';\n  UpgradeBar.onmouseout = function () {\n    Game.tooltip.hide();\n  };\n\n  const placeholder = document.createElement('div');\n  placeholder.appendChild(CreateUpgradeBarLegend());\n  UpgradeBar.onmouseover = function () {\n    Game.tooltip.draw(this, escape(placeholder.innerHTML), 'store');\n  };\n\n  const upgradeNumber = function (id, color) {\n    const span = document.createElement('span');\n    span.id = id;\n    span.className = ColourTextPre + color;\n    span.style.width = '14.28571428571429%';\n    span.style.display = 'inline-block';\n    span.textContent = '0';\n    return span;\n  };\n  UpgradeBar.appendChild(upgradeNumber('CMUpgradeBarBlue', ColourBlue));\n  UpgradeBar.appendChild(upgradeNumber('CMUpgradeBarGreen', ColourGreen));\n  UpgradeBar.appendChild(upgradeNumber('CMUpgradeBarYellow', ColourYellow));\n  UpgradeBar.appendChild(upgradeNumber('CMUpgradeBarOrange', ColourOrange));\n  UpgradeBar.appendChild(upgradeNumber('CMUpgradeBarRed', ColourRed));\n  UpgradeBar.appendChild(upgradeNumber('CMUpgradeBarPurple', ColourPurple));\n  UpgradeBar.appendChild(upgradeNumber('CMUpgradeBarGray', ColourGray));\n\n  l('upgrades').parentNode.insertBefore(UpgradeBar, l('upgrades').parentNode.childNodes[3]);\n}\n","/**\n * This function creates two objects at the top of the right column that allowing hiding the upgrade and building section\n */\nexport default function CreateSectionHideButtons() {\n  const div = document.createElement('div');\n  div.id = 'CMSectionHidButtons';\n  div.style.textAlign = 'center';\n  const a = document.createElement('a');\n  a.className = 'option';\n  a.onclick = function () {\n    if (l('upgrades').style.display === 'flex') {\n      l('upgrades').style.display = 'none';\n      l('toggleUpgrades').style.display = 'none';\n      l('techUpgrades').style.display = 'none';\n      l('vaultUpgrades').style.display = 'none';\n    } else {\n      l('upgrades').style.display = 'flex';\n      if (l('toggleUpgrades').children.length !== 0) l('toggleUpgrades').style.display = 'block';\n      if (l('techUpgrades').children.length !== 0) l('techUpgrades').style.display = 'block';\n      if (l('vaultUpgrades').children.length !== 0) l('vaultUpgrades').style.display = 'block';\n    }\n  };\n  a.textContent = 'Hide/Show Upgrades';\n  div.appendChild(a);\n  const b = document.createElement('a');\n  b.className = 'option';\n  b.onclick = function () {\n    if (l('products').style.display === 'grid') l('products').style.display = 'none';\n    else l('products').style.display = 'grid';\n  };\n  b.textContent = 'Hide/Show Buildings';\n  div.appendChild(b);\n  l('store').insertBefore(div, l('store').childNodes[2]);\n}\n","/**\n * This function pops all normal wrinklers\n * It is called by a click of the 'pop all' button created by CM.Disp.AddMenuStats()\n */\nexport default function PopAllNormalWrinklers() {\n  Object.keys(Game.wrinklers).forEach((i) => {\n    if (Game.wrinklers[i].sucked > 0 && Game.wrinklers[i].type === 0) {\n      Game.wrinklers[i].hp = 0;\n    }\n  });\n}\n","import UpdateTooltips from './UpdateTooltips';\nimport { SimpleTooltipElements, TooltipName, TooltipType } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\nimport BuildingGetPrice from '../../Sim/SimulationEvents/BuyBuilding';\nimport GetTimeColour from '../BeautifyAndFormatting/GetTimeColour';\nimport Beautify from '../BeautifyAndFormatting/Beautify';\n\n/** All general functions related to creating and updating tooltips */\n\n/**\n * This function creates some very basic tooltips, (e.g., the tooltips in the stats page)\n * The tooltips are created with CM.Disp[placeholder].appendChild(desc)\n * @param\t{string}\tplaceholder\tThe name used to later refer and spawn the tooltip\n * @param\t{string}\ttext\t\tThe text of the tooltip\n * @param\t{string}\tminWidth\tThe minimum width of the tooltip\n */\nexport function CreateSimpleTooltip(placeholder, text, minWidth) {\n  const Tooltip = document.createElement('div');\n  Tooltip.id = placeholder;\n  const desc = document.createElement('div');\n  desc.style.minWidth = minWidth;\n  desc.style.marginBottom = '4px';\n  const div = document.createElement('div');\n  div.style.textAlign = 'left';\n  div.textContent = text;\n  desc.appendChild(div);\n  Tooltip.appendChild(desc);\n  SimpleTooltipElements[placeholder] = Tooltip;\n}\n\n/**\n * This function enhance the standard tooltips by creating and changing l('tooltip')\n * The function is called by .onmouseover events that have replaced original code to use CM.Disp.Tooltip()\n * @param\t{string}\ttype\t\t\t\t\tType of tooltip (b, u, s or g)\n * @param\t{string}\tname\t\t\t\t\tName of the object/item the tooltip relates to\n * @returns {string}\tl('tooltip').innerHTML\tThe HTML of the l('tooltip')-object\n */\nexport function CreateTooltip(type, name) {\n  if (type === 'b') {\n    // Buildings\n    l('tooltip').innerHTML = Game.Objects[name].tooltip();\n    // Adds amortization info to the list of info per building\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipAmor === 1) {\n      const buildPrice = BuildingGetPrice(\n        Game.Objects[name],\n        Game.Objects[name].basePrice,\n        0,\n        Game.Objects[name].free,\n        Game.Objects[name].amount,\n      );\n      const amortizeAmount = buildPrice - Game.Objects[name].totalCookies;\n      if (amortizeAmount > 0) {\n        l('tooltip').innerHTML = l('tooltip')\n          .innerHTML.split('so far</div>')\n          .join(\n            `so far<br/>&bull; <b>${Beautify(amortizeAmount)}</b> ${\n              Math.floor(amortizeAmount) === 1 ? 'cookie' : 'cookies'\n            } left to amortize (${\n              GetTimeColour(\n                (buildPrice - Game.Objects[name].totalCookies) /\n                  (Game.Objects[name].storedTotalCps * Game.globalCpsMult),\n              ).text\n            })</div>`,\n          );\n      }\n    }\n    if (Game.buyMode === -1) {\n      /*\n       * Fix sell price displayed in the object tooltip.\n       *\n       * The buildings sell price displayed by the game itself (without any mod) is incorrect.\n       * The following line of code fixes this issue, and can be safely removed when the game gets fixed.\n       *\n       * This issue is extensively detailed here: https://github.com/Aktanusa/CookieMonster/issues/359#issuecomment-735658262\n       */\n      l('tooltip').innerHTML = l('tooltip')\n        .innerHTML.split(Beautify(Game.Objects[name].bulkPrice))\n        .join(\n          Beautify(\n            (Game.Objects[name],\n            Game.Objects[name].basePrice,\n            Game.Objects[name].amount,\n            Game.Objects[name].free,\n            Game.buyBulk,\n            1),\n          ),\n        );\n    }\n  } else if (type === 'u') {\n    // Upgrades\n    if (!Game.UpgradesInStore[name]) return '';\n    l('tooltip').innerHTML = Game.crateTooltip(Game.UpgradesInStore[name], 'store');\n  } else if (type === 's') l('tooltip').innerHTML = Game.lumpTooltip();\n  // Sugar Lumps\n  else if (type === 'g')\n    l('tooltip').innerHTML = Game.Objects['Wizard tower'].minigame.spellTooltip(name)();\n  // Grimoire\n  else if (type === 'p')\n    l('tooltip').innerHTML = Game.ObjectsById[2].minigame.tileTooltip(name[0], name[1])();\n  // Harvest all button in garden\n  else if (type === 'ha') l('tooltip').innerHTML = Game.ObjectsById[2].minigame.toolTooltip(1)();\n  else if (type === 'wb') l('tooltip').innerHTML = '';\n  else if (type === 'pag') l('tooltip').innerHTML = Game.Objects.Temple.minigame.godTooltip(name)();\n  else if (type === 'pas')\n    l('tooltip').innerHTML = Game.Objects.Temple.minigame.slotTooltip(name[0])();\n\n  // Adds area for extra tooltip-sections\n  if (\n    (type === 'b' && Game.buyMode === 1) ||\n    type === 'u' ||\n    type === 's' ||\n    type === 'g' ||\n    (type === 'p' && !Game.keys[16]) ||\n    type === 'ha' ||\n    type === 'wb' ||\n    type === 'pag' ||\n    (type === 'pas' && name[1] !== -1)\n  ) {\n    const area = document.createElement('div');\n    area.id = 'CMTooltipArea';\n    l('tooltip').appendChild(area);\n  }\n\n  // Sets global variables used by CM.Disp.UpdateTooltip()\n  TooltipType = type;\n  TooltipName = name;\n\n  UpdateTooltips();\n\n  return l('tooltip').innerHTML;\n}\n","import { CacheWrinklersFattest } from '../../Cache/VariablesAndData';\nimport PopAllNormalWrinklers from '../HelperFunctions/PopWrinklers';\nimport { CreateTooltip } from '../Tooltips/Tooltip';\n\n/**\n * This function creates two objects at the bottom of the left column that allowing popping of wrinklers\n */\nexport default function CreateWrinklerButtons() {\n  const popAllA = document.createElement('a');\n  popAllA.id = 'PopAllNormalWrinklerButton';\n  popAllA.textContent = 'Pop All Normal';\n  popAllA.className = 'option';\n  popAllA.onclick = function () {\n    PopAllNormalWrinklers();\n  };\n  popAllA.onmouseout = function () {\n    Game.tooltip.shouldHide = 1;\n  };\n  popAllA.onmouseover = function () {\n    Game.tooltip.dynamic = 1;\n    Game.tooltip.draw(this, () => CreateTooltip('wb', 'PopAllNormal'), 'this');\n    Game.tooltip.wobble();\n  };\n  l('sectionLeftExtra').children[0].append(popAllA);\n  const popFattestA = document.createElement('a');\n  popFattestA.id = 'PopFattestWrinklerButton';\n  popFattestA.textContent = 'Pop Single Fattest';\n  popFattestA.className = 'option';\n  popFattestA.onclick = function () {\n    if (CacheWrinklersFattest[1] !== null) Game.wrinklers[CacheWrinklersFattest[1]].hp = 0;\n  };\n  popFattestA.onmouseout = function () {\n    Game.tooltip.shouldHide = 1;\n  };\n  popFattestA.onmouseover = function () {\n    Game.tooltip.dynamic = 1;\n    Game.tooltip.draw(this, () => CreateTooltip('wb', 'PopFattest'), 'this');\n    Game.tooltip.wobble();\n  };\n  l('sectionLeftExtra').children[0].append(popFattestA);\n}\n","import { DispCSS } from '../VariablesAndData';\n\n/**\n * This function creates a CSS style that stores certain standard CSS classes used by CookieMonster\n\n */\nexport default function CreateCssArea() {\n  DispCSS = document.createElement('style');\n  DispCSS.type = 'text/css';\n  DispCSS.id = 'CMCSS';\n\n  document.head.appendChild(DispCSS);\n}\n","/**\n * This function updates the style of the building and upgrade sections to make these sortable\n */\nexport default function UpdateBuildingUpgradeStyle() {\n  l('products').style.display = 'grid';\n  l('storeBulk').style.gridRow = '1/1';\n\n  l('upgrades').style.display = 'flex';\n  l('upgrades').style['flex-wrap'] = 'wrap';\n}\n","/**\n * This function creates a white square over the full screen and appends it to l('wrapper')\n */\nexport default function CreateFlashScreen() {\n  const WhiteScreen = document.createElement('div');\n  WhiteScreen.id = 'CMFlashScreen';\n  WhiteScreen.style.width = '100%';\n  WhiteScreen.style.height = '100%';\n  WhiteScreen.style.backgroundColor = 'white';\n  WhiteScreen.style.display = 'none';\n  WhiteScreen.style.zIndex = '9999999999';\n  WhiteScreen.style.position = 'absolute';\n  l('wrapper').appendChild(WhiteScreen);\n}\n","import { CacheSpawnedGoldenShimmer } from '../../Cache/VariablesAndData';\nimport { LastGoldenCookieState } from '../../Main/VariablesAndData';\n\n/**\n * This function creates the Favicon, it is called by CM.Main.DelayInit()\n */\nexport function CreateFavicon() {\n  const Favicon = document.createElement('link');\n  Favicon.id = 'CMFavicon';\n  Favicon.rel = 'shortcut icon';\n  Favicon.href = 'https://orteil.dashnet.org/cookieclicker/favicon.ico';\n  document.getElementsByTagName('head')[0].appendChild(Favicon);\n}\n\n/**\n * This function updates the Favicon depending on whether a Golden Cookie has spawned\n * By relying on CM.Cache.spawnedGoldenShimmer it only changes for non-user spawned cookie\n */\nexport function UpdateFavicon() {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Favicon === 1 &&\n    LastGoldenCookieState > 0\n  ) {\n    if (CacheSpawnedGoldenShimmer.wrath)\n      l('CMFavicon').href =\n        'https://CookieMonsterTeam.github.io/CookieMonster/favicon/wrathCookie.ico';\n    else\n      l('CMFavicon').href =\n        'https://CookieMonsterTeam.github.io/CookieMonster/favicon/goldenCookie.ico';\n  } else l('CMFavicon').href = 'https://orteil.dashnet.org/cookieclicker/favicon.ico';\n}\n","/** Functions used to create static objects of Buildings, Upgrades and Achievements */\n\nimport CopyData from '../SimulationData/CopyData';\nimport { SimAchievements, SimObjects, SimUpgrades } from '../VariablesAndData';\nimport InitAchievement from './InitAchievement';\nimport InitialBuildingData from './InitialBuildingData';\nimport InitUpgrade from './InitUpgrade';\n\n/**\n * This function creates static objects for Buildings, Upgrades and Achievements\n */\nexport default function InitData() {\n  // Buildings\n  SimObjects = [];\n  Object.keys(Game.Objects).forEach((i) => {\n    SimObjects[i] = InitialBuildingData(i);\n  });\n\n  // Upgrades\n  SimUpgrades = [];\n  Object.keys(Game.Upgrades).forEach((i) => {\n    SimUpgrades[i] = InitUpgrade(i);\n  });\n\n  // Achievements\n  SimAchievements = [];\n  Object.keys(Game.Achievements).forEach((i) => {\n    SimAchievements[i] = InitAchievement(i);\n  });\n  CopyData();\n}\n","import { CreateTooltip } from '../../Disp/Tooltips/Tooltip';\nimport { TooltipGrimoireBackup } from '../VariablesAndData';\n\n/**\n * This function replaces the original .onmouseover functions of the Grimoire minigame\n */\nexport default function ReplaceTooltipGrimoire() {\n  if (Game.Objects['Wizard tower'].minigameLoaded) {\n    Object.keys(Game.Objects['Wizard tower'].minigame.spellsById).forEach((i) => {\n      if (l(`grimoireSpell${i}`).onmouseover !== null) {\n        TooltipGrimoireBackup[i] = l(`grimoireSpell${i}`).onmouseover;\n        l(`grimoireSpell${i}`).onmouseover = function () {\n          Game.tooltip.dynamic = 1;\n          Game.tooltip.draw(this, () => CreateTooltip('g', `${i}`), 'this');\n          Game.tooltip.wobble();\n        };\n      }\n    });\n  }\n}\n","import FormatTime from '../../Disp/BeautifyAndFormatting/FormatTime';\nimport CalculateGrimoireRefillTime from '../../Disp/HelperFunctions/CalculateGrimoireRefillTime';\nimport {\n  BackupGrimoireDraw,\n  BackupGrimoireLaunch, // eslint-disable-line no-unused-vars\n  BackupGrimoireLaunchMod,\n  HasReplaceNativeGrimoireDraw,\n  HasReplaceNativeGrimoireLaunch,\n} from '../VariablesAndData';\nimport ReplaceTooltipGrimoire from './TooltipGrimoire';\n\n/**\n * This function fixes replaces the .draw function of the Grimoire\n */\nfunction ReplaceNativeGrimoireDraw() {\n  if (!HasReplaceNativeGrimoireDraw && Game.Objects['Wizard tower'].minigameLoaded) {\n    const { minigame } = Game.Objects['Wizard tower'];\n    BackupGrimoireDraw = minigame.draw;\n    Game.Objects['Wizard tower'].minigame.draw = function () {\n      BackupGrimoireDraw();\n      if (\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.GrimoireBar === 1 &&\n        minigame.magic < minigame.magicM\n      ) {\n        minigame.magicBarTextL.innerHTML += ` (${FormatTime(\n          CalculateGrimoireRefillTime(minigame.magic, minigame.magicM, minigame.magicM),\n        )})`;\n      }\n    };\n    HasReplaceNativeGrimoireDraw = true;\n  }\n}\n\n/**\n * This function fixes replaces the .launch function of the Grimoire\n */\nfunction ReplaceNativeGrimoireLaunch() {\n  if (!HasReplaceNativeGrimoireLaunch && Game.Objects['Wizard tower'].minigameLoaded) {\n    const { minigame } = Game.Objects['Wizard tower'];\n    BackupGrimoireLaunch = minigame.launch;\n    BackupGrimoireLaunchMod = new Function( // eslint-disable-line no-new-func\n      `return ${minigame.launch\n        .toString()\n        .split('=this')\n        .join(\"= Game.Objects['Wizard tower'].minigame\")}`,\n    );\n    Game.Objects['Wizard tower'].minigame.launch = function () {\n      BackupGrimoireLaunchMod();\n      ReplaceTooltipGrimoire();\n      HasReplaceNativeGrimoireDraw = false;\n      ReplaceNativeGrimoireDraw();\n\n      HasReplaceNativeGrimoireLaunch = true;\n    };\n  }\n}\n\n/**\n * This function fixes replaces the Launch and Draw functions of the Grimoire\n */\nexport default function ReplaceNativeGrimoire() {\n  ReplaceNativeGrimoireLaunch();\n  ReplaceNativeGrimoireDraw();\n}\n","/** Functions related to replacing tooltips */\n\nimport { CreateTooltip } from '../../Disp/Tooltips/Tooltip';\nimport { LoadMinigames, TooltipBuildBackup, TooltipLumpBackup } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\nimport ReplaceNativeGrimoire from './NativeGrimoire';\nimport ReplaceTooltipGrimoire from './TooltipGrimoire';\n\n/**\n * This function replaces the original .onmouseover functions of buildings\n */\nfunction ReplaceTooltipBuild() {\n  Object.keys(Game.Objects).forEach((i) => {\n    const me = Game.Objects[i];\n    if (l(`product${me.id}`).onmouseover !== null) {\n      TooltipBuildBackup[i] = l(`product${me.id}`).onmouseover;\n      l(`product${me.id}`).onmouseover = function () {\n        Game.tooltip.dynamic = 1;\n        Game.tooltip.draw(this, () => CreateTooltip('b', `${i}`), 'store');\n        Game.tooltip.wobble();\n      };\n    }\n  });\n}\n\n/**\n * This function replaces the original .onmouseover functions of sugar lumps\n */\nfunction ReplaceTooltipLump() {\n  if (Game.canLumps()) {\n    TooltipLumpBackup = l('lumps').onmouseover;\n    l('lumps').onmouseover = function () {\n      Game.tooltip.dynamic = 1;\n      Game.tooltip.draw(this, () => CreateTooltip('s', 'Lump'), 'this');\n      Game.tooltip.wobble();\n    };\n  }\n}\n\n/**\n * This function replaces the original .onmouseover functions of all garden plants\n */\nfunction ReplaceTooltipGarden() {\n  if (Game.Objects.Farm.minigameLoaded) {\n    l('gardenTool-1').onmouseover = function () {\n      Game.tooltip.dynamic = 1;\n      Game.tooltip.draw(this, () => CreateTooltip('ha', 'HarvestAllButton'), 'this');\n      Game.tooltip.wobble();\n    };\n    Array.from(l('gardenPlot').children).forEach((child) => {\n      const coords = child.id.slice(-3);\n      // eslint-disable-next-line no-param-reassign\n      child.onmouseover = function () {\n        Game.tooltip.dynamic = 1;\n        Game.tooltip.draw(this, () => CreateTooltip('p', [`${coords[0]}`, `${coords[2]}`]), 'this');\n        Game.tooltip.wobble();\n      };\n    });\n  }\n}\n\nfunction ReplaceTooltipPantheon() {\n  if (Game.Objects.Temple.minigameLoaded) {\n    for (let i = 0; i < 11; i += 1) {\n      l(`templeGod${i}`).onmouseover = function () {\n        Game.tooltip.dynamic = 1;\n        Game.tooltip.draw(this, () => CreateTooltip('pag', i), 'this');\n        Game.tooltip.wobble();\n      };\n    }\n    for (let i = 0; i < 3; i += 1) {\n      l(`templeSlot${i}`).onmouseover = function () {\n        Game.tooltip.dynamic = 1;\n        Game.tooltip.draw(\n          this,\n          () => CreateTooltip('pas', [i, Game.Objects.Temple.minigame.slot[i]]),\n          'this',\n        );\n        Game.tooltip.wobble();\n      };\n    }\n  }\n}\n\n/**\n * This function call all functions that replace Game-tooltips with Cookie Monster enhanced tooltips\n */\nexport default function ReplaceTooltips() {\n  ReplaceTooltipBuild();\n  ReplaceTooltipLump();\n\n  // Replace Tooltips of Minigames. Nesting it in LoadMinigames makes sure to replace them even if\n  // they were not loaded initially\n  // eslint-disable-next-line prefer-destructuring\n  LoadMinigames = Game.LoadMinigames;\n  Game.LoadMinigames = function () {\n    LoadMinigames();\n    ReplaceTooltipGarden();\n    ReplaceTooltipGrimoire();\n    ReplaceTooltipPantheon();\n    ReplaceNativeGrimoire();\n  };\n  Game.LoadMinigames();\n}\n","/** Functions related to the Dragon */\n\nimport Beautify from '../../Disp/BeautifyAndFormatting/Beautify';\nimport CopyData from '../../Sim/SimulationData/CopyData';\nimport { SimDoSims, SimObjects } from '../../Sim/VariablesAndData';\nimport { CacheCostDragonUpgrade, CacheLastDragonLevel } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This functions caches the current cost of upgrading the dragon level so it can be displayed in the tooltip\n */\nexport default function CacheDragonCost() {\n  if (CacheLastDragonLevel !== Game.dragonLevel || SimDoSims) {\n    if (\n      Game.dragonLevel < 25 &&\n      Game.dragonLevels[Game.dragonLevel].buy.toString().includes('sacrifice')\n    ) {\n      let target = Game.dragonLevels[Game.dragonLevel].buy.toString().match(/Objects\\[(.*)\\]/)[1];\n      const amount = Game.dragonLevels[Game.dragonLevel].buy\n        .toString()\n        .match(/sacrifice\\((.*?)\\)/)[1];\n      if (target !== 'i') {\n        target = target.replaceAll(\"'\", '');\n        if (Game.Objects[target].amount < amount) {\n          CacheCostDragonUpgrade = 'Not enough buildings to sell';\n        } else {\n          let cost = 0;\n          CopyData();\n          for (let i = 0; i < amount; i++) {\n            let price =\n              SimObjects[target].basePrice *\n              Game.priceIncrease **\n                Math.max(0, SimObjects[target].amount - 1 - SimObjects[target].free);\n            price = Game.modifyBuildingPrice(SimObjects[target], price);\n            price = Math.ceil(price);\n            cost += price;\n            SimObjects[target].amount -= 1;\n          }\n          CacheCostDragonUpgrade = `Cost to rebuy: ${Beautify(cost)}`;\n        }\n      } else {\n        let cost = 0;\n        CopyData();\n        Object.keys(Game.Objects).forEach((j) => {\n          target = j;\n          if (Game.Objects[target].amount < amount) {\n            CacheCostDragonUpgrade = 'Not enough buildings to sell';\n            return;\n          }\n          for (let i = 0; i < amount; i++) {\n            let price =\n              SimObjects[target].basePrice *\n              Game.priceIncrease **\n                Math.max(0, SimObjects[target].amount - 1 - SimObjects[target].free);\n            price = Game.modifyBuildingPrice(SimObjects[target], price);\n            price = Math.ceil(price);\n            cost += price;\n            SimObjects[target].amount -= 1;\n          }\n          CacheCostDragonUpgrade = `Cost to rebuy: ${Beautify(cost)}`;\n        });\n      }\n    }\n    CacheLastDragonLevel = Game.dragonLevel;\n  }\n}\n","import { CacheDragonAura, CacheDragonAura2 } from '../../Cache/VariablesAndData';\nimport CalculateGains from '../Calculations/CalculateGains';\nimport CheckOtherAchiev from '../Calculations/CheckOtherAchiev';\nimport CopyData from '../SimulationData/CopyData';\nimport {\n  SimAchievementsOwned,\n  SimBuildingsOwned, // eslint-disable-line no-unused-vars\n  SimCookiesPs,\n  SimDragonAura,\n  SimDragonAura2,\n  SimObjects,\n} from '../VariablesAndData';\n\n/**\n * This functions calculates the cps and cost of changing a Dragon Aura\n * It is called by CM.Disp.AddAuraInfo()\n * @param\t{number}\t\t\taura\t\t\t\t\t\t\t\t\t\tThe number of the aura currently selected by the mouse/user\n * @returns {[number, number]} \t[CM.Sim.cookiesPs - Game.cookiesPs, price]\tThe bonus cps and the price of the change\n */\nexport default function CalculateChangeAura(aura) {\n  CopyData();\n\n  // Check if aura being changed is first or second aura\n  const auraToBeChanged = l('promptContent').children[0].innerHTML.includes('secondary');\n  if (auraToBeChanged) SimDragonAura2 = aura;\n  else SimDragonAura = aura;\n\n  // Sell highest building but only if aura is different\n  let price = 0;\n  if (SimDragonAura !== CacheDragonAura || SimDragonAura2 !== CacheDragonAura2) {\n    for (let i = Game.ObjectsById.length - 1; i > -1; --i) {\n      if (Game.ObjectsById[i].amount > 0) {\n        const highestBuilding = SimObjects[Game.ObjectsById[i].name].name;\n        SimObjects[highestBuilding].amount -= 1;\n        SimBuildingsOwned -= 1;\n        price =\n          SimObjects[highestBuilding].basePrice *\n          Game.priceIncrease **\n            Math.max(0, SimObjects[highestBuilding].amount - 1 - SimObjects[highestBuilding].free);\n        price = Game.modifyBuildingPrice(SimObjects[highestBuilding], price);\n        price = Math.ceil(price);\n        break;\n      }\n    }\n  }\n\n  const lastAchievementsOwned = SimAchievementsOwned;\n  CalculateGains();\n\n  CheckOtherAchiev();\n  if (lastAchievementsOwned !== SimAchievementsOwned) {\n    CalculateGains();\n  }\n  return [SimCookiesPs - Game.cookiesPs, price];\n}\n","/** Functions related to the Dragon */\n\nimport CacheDragonCost from '../../Cache/Dragon/Dragon';\nimport { CacheCostDragonUpgrade } from '../../Cache/VariablesAndData';\nimport CalculateChangeAura from '../../Sim/SimulationEvents/AuraChange';\nimport Beautify from '../BeautifyAndFormatting/Beautify';\nimport FormatTime from '../BeautifyAndFormatting/FormatTime';\n\n/**\n * This functions adds the two extra lines about CPS and time to recover to the aura picker infoscreen\n * @param\t{number}\taura\tThe number of the aura currently selected by the mouse/user\n */\nexport function AddAuraInfo(aura) {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.DragonAuraInfo === 1) {\n    const [bonusCPS, priceOfChange] = CalculateChangeAura(aura);\n    const timeToRecover = FormatTime(priceOfChange / (bonusCPS + Game.cookiesPs));\n    let bonusCPSPercentage;\n    if (Game.cookiesPs === 0) bonusCPSPercentage = Beautify(Infinity);\n    else bonusCPSPercentage = Beautify((bonusCPS / Game.cookiesPs) * 100);\n\n    l('dragonAuraInfo').style.minHeight = '60px';\n    l('dragonAuraInfo').style.margin = '8px';\n    l('dragonAuraInfo').appendChild(document.createElement('div')).className = 'line';\n    const div = document.createElement('div');\n    div.style.minWidth = '200px';\n    div.style.textAlign = 'center';\n    div.textContent = `Picking this aura will change CPS by ${Beautify(\n      bonusCPS,\n    )} (${bonusCPSPercentage}% of current CPS).`;\n    l('dragonAuraInfo').appendChild(div);\n    const div2 = document.createElement('div');\n    div2.style.minWidth = '200px';\n    div2.style.textAlign = 'center';\n    div2.textContent = `It will take ${timeToRecover} to recover the cost.`;\n    l('dragonAuraInfo').appendChild(div2);\n  }\n}\n\n/**\n * This functions adds a tooltip to the level up button displaying the cost of rebuying all\n * It is called by Game.ToggleSpecialMenu() after CM.Main.ReplaceNative()\n */\nexport function AddDragonLevelUpTooltip() {\n  // Check if it is the dragon popup that is on screen\n  if (\n    (l('specialPopup').className.match(/onScreen/) &&\n      l('specialPopup').children[0].style.background.match(/dragon/)) !== null\n  ) {\n    for (let i = 0; i < l('specialPopup').childNodes.length; i++) {\n      if (l('specialPopup').childNodes[i].className === 'optionBox') {\n        l('specialPopup').children[i].onmouseover = function () {\n          CacheDragonCost();\n          Game.tooltip.dynamic = 1;\n          Game.tooltip.draw(\n            l('specialPopup'),\n            `<div style=\"min-width:200px;text-align:center;\">${CacheCostDragonUpgrade}</div>`,\n            'this',\n          );\n          Game.tooltip.wobble();\n        };\n        l('specialPopup').children[i].onmouseout = function () {\n          Game.tooltip.shouldHide = 1;\n        };\n      }\n    }\n  }\n}\n","import { CacheRealCookiesEarned } from '../../Cache/VariablesAndData';\nimport CalculateGains from '../Calculations/CalculateGains';\nimport CheckOtherAchiev from '../Calculations/CheckOtherAchiev';\nimport CopyData from '../SimulationData/CopyData';\nimport SimWin from '../SimulationData/SimWin';\nimport { SimAchievementsOwned, SimCookiesPs, SimPrestige, SimUpgrades } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This function calculates the cookies per click difference betwene current and after a ascension\n * It is called by CM.Disp.CreateStatsPrestigeSection()\n * @param\t{number}\tnewHeavenlyChips\tThe total heavenly chips after ascension\n * @returns\t{number}\tResetCPS\t\t\tThe CPS difference after reset\n */\nexport default function ResetBonus(newHeavenlyChips) {\n  // Calculate CPS with all Heavenly upgrades\n  let curCPS = Game.cookiesPs;\n\n  CopyData();\n\n  if (SimUpgrades['Heavenly key'].bought === 0) {\n    SimUpgrades['Heavenly chip secret'].bought = 1;\n    SimUpgrades['Heavenly cookie stand'].bought = 1;\n    SimUpgrades['Heavenly bakery'].bought = 1;\n    SimUpgrades['Heavenly confectionery'].bought = 1;\n    SimUpgrades['Heavenly key'].bought = 1;\n\n    CalculateGains();\n\n    curCPS = SimCookiesPs;\n\n    CopyData();\n  }\n\n  if (CacheRealCookiesEarned >= 1000000) SimWin('Sacrifice');\n  if (CacheRealCookiesEarned >= 1000000000) SimWin('Oblivion');\n  if (CacheRealCookiesEarned >= 1000000000000) SimWin('From scratch');\n  if (CacheRealCookiesEarned >= 1000000000000000) SimWin('Nihilism');\n  if (CacheRealCookiesEarned >= 1000000000000000000) SimWin('Dematerialize');\n  if (CacheRealCookiesEarned >= 1000000000000000000000) SimWin('Nil zero zilch');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000) SimWin('Transcendence');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000) SimWin('Obliterate');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000000) SimWin('Negative void');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000000000) SimWin('To crumbs, you say?');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000000000000) SimWin('You get nothing');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000)\n    SimWin('Humble rebeginnings');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000)\n    SimWin('The end of the world');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000000)\n    SimWin(\"Oh, you're back\");\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000000000)\n    SimWin('Lazarus');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000000000000)\n    SimWin('Smurf account');\n  if (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000000000000000)\n    SimWin(\"If at first you don't succeed\");\n\n  SimUpgrades['Heavenly chip secret'].bought = 1;\n  SimUpgrades['Heavenly cookie stand'].bought = 1;\n  SimUpgrades['Heavenly bakery'].bought = 1;\n  SimUpgrades['Heavenly confectionery'].bought = 1;\n  SimUpgrades['Heavenly key'].bought = 1;\n\n  SimPrestige = newHeavenlyChips;\n\n  const lastAchievementsOwned = SimAchievementsOwned;\n\n  CalculateGains();\n\n  CheckOtherAchiev();\n\n  if (lastAchievementsOwned !== SimAchievementsOwned) {\n    CalculateGains();\n  }\n\n  const ResetCPS = SimCookiesPs - curCPS;\n\n  // Reset Pretige level after calculation as it is used in CM.Sim.CalculateGains() so can't be local\n  SimPrestige = Game.prestige;\n\n  return ResetCPS;\n}\n","/**\n * This function checks if the user has given permissions for notifications\n * It is called by a change in any of the notification options\n * Note that most browsers will stop asking if the user has ignored the prompt around 6 times\n * @param \t{number}\tToggleOnOff\t\tA number indicating whether the option has been turned off (0) or on (1)\n */\nfunction CheckNotificationPermissions(ToggleOnOff) {\n  if (ToggleOnOff === 1) {\n    // Check if browser support Promise version of Notification Permissions\n    const checkNotificationPromise = function () {\n      try {\n        Notification.requestPermission().then();\n      } catch (e) {\n        return false;\n      }\n      return true;\n    };\n\n    // Check if the browser supports notifications and which type\n    if (!('Notification' in window)) {\n      console.log('This browser does not support notifications.'); // eslint-disable-line no-console\n    } else if (checkNotificationPromise()) {\n      Notification.requestPermission().then();\n    } else {\n      Notification.requestPermission();\n    }\n  }\n}\n\nexport default CheckNotificationPermissions;\n","import { UpdateBotBar } from '../../Disp/InfoBars/BottomBar';\nimport { UpdateBotTimerBarPosition } from '../SpecificToggles';\n\n/**\n * This function toggle the bottom bar\n * It is called by CM.Disp.UpdateAscendState() and a change in Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.BotBar\n */\nexport default function ToggleBotBar() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.BotBar === 1) {\n    l('CMBotBar').style.display = '';\n    UpdateBotBar();\n  } else {\n    l('CMBotBar').style.display = 'none';\n  }\n  UpdateBotTimerBarPosition();\n}\n","import { CMSayTime } from '../../Disp/VariablesAndData';\nimport { BackupFunctions } from '../../Main/VariablesAndData';\n\n/**\n * This function changes some of the time-displays in the game to be more detailed\n * It is called by a change in CM.Options.DetailedTime\n */\nexport default function ToggleDetailedTime() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.DetailedTime === 1)\n    Game.sayTime = CMSayTime;\n  else Game.sayTime = BackupFunctions.sayTime;\n}\n","import { CacheGoldenShimmersByID } from '../../Cache/VariablesAndData';\nimport { GCTimers } from '../../Disp/VariablesAndData';\n\n/**\n * This function toggles GC Timers are visible\n * It is called by a change in CM.Options.GCTimer\n */\nexport default function ToggleGCTimer() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.GCTimer === 1) {\n    Object.keys(GCTimers).forEach((i) => {\n      GCTimers[i].style.display = 'block';\n      GCTimers[i].style.left = CacheGoldenShimmersByID[i].l.style.left;\n      GCTimers[i].style.top = CacheGoldenShimmersByID[i].l.style.top;\n    });\n  } else {\n    // eslint-disable-next-line no-return-assign\n    Object.keys(GCTimers).forEach((i) => (GCTimers[i].style.display = 'none'));\n  }\n}\n","/**\n * This function updates the display setting of the two objects created by CM.Disp.CreateWrinklerButtons()\n * It is called by changes in CM.Options.WrinklerButtons\n */\nexport default function ToggleSectionHideButtons() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.HideSectionsButtons) {\n    l('CMSectionHidButtons').style.display = '';\n  } else {\n    l('CMSectionHidButtons').style.display = 'none';\n  }\n}\n","import UpdateUpgrades from '../../Disp/BuildingsUpgrades/Upgrades';\n\n/**\n * This function toggles the upgrade bar and the colours of upgrades\n * It is called by a change in CM.Options.UpBarColor\n */\nexport default function ToggleUpgradeBarAndColor() {\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.UpBarColor === 1) {\n    // Colours and bar on\n    l('CMUpgradeBar').style.display = '';\n    UpdateUpgrades();\n  } else if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.UpBarColor === 2) {\n    // Colours on and bar off\n    l('CMUpgradeBar').style.display = 'none';\n    UpdateUpgrades();\n  } else {\n    // Colours and bar off\n    l('CMUpgradeBar').style.display = 'none';\n    Game.RebuildUpgrades();\n  }\n}\n","/**\n * This function toggles the position of the upgrade bar from fixed or non-fixed mode\n * It is called by a change in CM.Options.UpgradeBarFixedPos\n */\nexport default function ToggleUpgradeBarFixedPos() {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.UpgradeBarFixedPos === 1\n  ) {\n    // Fix to top of screen when scrolling\n    l('CMUpgradeBar').style.position = 'sticky';\n    l('CMUpgradeBar').style.top = '0px';\n  } else {\n    l('CMUpgradeBar').style.position = ''; // Possible to scroll offscreen\n  }\n}\n","import UpdateBuildings from '../BuildingsUpgrades/Buildings';\nimport UpdateUpgrades from '../BuildingsUpgrades/Upgrades';\nimport { UpdateBotBar } from '../InfoBars/BottomBar';\n\n/**\n * This function refreshes all numbers after a change in scale-setting\n * It is therefore called by a changes in CM.Options.Scale, CM.Options.ScaleDecimals, CM.Options.ScaleSeparator and CM.Options.ScaleCutoff\n */\nexport default function RefreshScale() {\n  BeautifyAll();\n  Game.RefreshStore();\n  Game.RebuildUpgrades();\n\n  UpdateBotBar();\n  UpdateBuildings();\n  UpdateUpgrades();\n}\n","/** The basic setting class */\nexport default class Setting {\n  defaultValue: string | number;\n\n  type: string;\n\n  group: string;\n\n  constructor(defaultValue: string | number, type: string, group: string) {\n    this.defaultValue = defaultValue;\n    this.type = type;\n    this.group = group;\n  }\n}\n","import Setting from './BaseSetting';\n\n/** The colour picker setting class */\nexport default class SettingColours extends Setting {\n  desc: string;\n\n  constructor(defaultValue: string | number,type: string, group: string, desc: string) {\n    super(defaultValue, type, group);\n    this.desc = desc;\n  }\n}\n","import Setting from './BaseSetting';\n\n/** The number input setting class */\nexport default class SettingInputNumber extends Setting {\n  label: string[];\n\n  desc: string;\n\n  min: number;\n\n  max: number;\n\n  constructor(\n    defaultValue: string | number,\n    type: string,\n    group: string,\n    label: string[],\n    desc: string,\n    min: number,\n    max: number,\n  ) {\n    super(defaultValue, type, group);\n    this.label = label;\n    this.desc = desc;\n    this.min = min;\n    this.max = max;\n  }\n}\n","import Setting from './BaseSetting';\n\n/** The standard toggle setting class */\nexport default class SettingStandard extends Setting {\n  label: string[];\n\n  desc: string;\n\n  toggle: boolean;\n\n  func: () => void;\n\n  constructor(\n    defaultValue: string | number,\n    type: string,\n    group: string,\n    label: string[],\n    desc: string,\n    toggle: boolean,\n    func?: () => void,\n  ) {\n    super(defaultValue, type, group);\n    this.label = label;\n    this.desc = desc;\n    this.toggle = toggle;\n    if (func !== undefined) {\n      this.func = func;\n    }\n  }\n}\n","import Setting from './BaseSetting';\n\n/** The volume level setting class */\nexport default class SettingVolume extends Setting {\n  label: string[];\n\n  desc: string;\n\n  constructor(defaultValue: string | number,type: string, group: string, label: string[], desc: string) {\n    super(defaultValue, type, group);\n    this.label = label;\n    this.desc = desc;\n    for (let i = 0; i < 101; i++) {\n      this.label[i] = `${i}%`;\n    }\n  }\n}\n","import CheckNotificationPermissions from '../Config/CheckNotificationPermissions';\nimport { ToggleTimerBar, ToggleTimerBarPos } from '../Config/SpecificToggles';\nimport ToggleBotBar from '../Config/Toggles/ToggleBotBar';\nimport ToggleDetailedTime from '../Config/Toggles/ToggleDetailedTime';\nimport ToggleGCTimer from '../Config/Toggles/ToggleGCTimer';\nimport ToggleSectionHideButtons from '../Config/Toggles/ToggleSectionHideButtons';\nimport ToggleToolWarnPos from '../Config/Toggles/ToggleToolWarnPos';\nimport ToggleUpgradeBarAndColour from '../Config/Toggles/ToggleUpgradeBarAndColour';\nimport ToggleUpgradeBarFixedPos from '../Config/Toggles/ToggleUpgradeBarFixedPos';\nimport ToggleWrinklerButtons from '../Config/Toggles/ToggleWrinklerButtons';\nimport UpdateBuildings from '../Disp/BuildingsUpgrades/Buildings';\nimport UpdateUpgradeSectionsHeight from '../Disp/BuildingsUpgrades/UpdateUpgradeSectionsHeight';\nimport UpdateUpgrades from '../Disp/BuildingsUpgrades/Upgrades';\nimport RefreshScale from '../Disp/HelperFunctions/RefreshScale';\nimport { UpdateFavicon } from '../Disp/TabTitle/FavIcon';\nimport { SimDoSims } from '../Sim/VariablesAndData'; // eslint-disable-line no-unused-vars\nimport SettingColours from './SettingClasses/SettingColours.ts';\nimport SettingInputNumber from './SettingClasses/SettingInputNumber.ts';\nimport SettingStandard from './SettingClasses/SettingStandard.ts';\nimport SettingVolume from './SettingClasses/SettingVolume.ts';\n\n/** This includes all options of CookieMonster and their relevant data */\nconst settings = {\n  // Calculation\n  CPSMode: new SettingStandard(\n    1,\n    'bool',\n    'Calculation',\n    ['Current cookies per second', 'Average cookies per second'],\n    'Calculate times using current cookies per second or average cookies per second',\n    false,\n  ),\n  AvgCPSHist: new SettingStandard(\n    3,\n    'bool',\n    'Calculation',\n    [\n      'Average CPS in past 10s',\n      'Average CPS in past 15s',\n      'Average CPS in past 30s',\n      'Average CPS in past 1m',\n      'Average CPS in past 5m',\n      'Average CPS in past 10m',\n      'Average CPS in past 15m',\n      'Average CPS in past 30m',\n    ],\n    'How much time average Cookies Per Second should consider',\n    false,\n  ),\n  AvgClicksHist: new SettingStandard(\n    0,\n    'bool',\n    'Calculation',\n    [\n      'Average clicks in past 1s',\n      'Average clicks in past 5s',\n      'Average clicks in past 10s',\n      'Average clicks in past 15s',\n      'Average clicks in past 30s',\n    ],\n    'How much time average Cookie Clicks should consider',\n    false,\n  ),\n  CalcWrink: new SettingStandard(\n    0,\n    'bool',\n    'Calculation',\n    [\n      'Calculate with wrinklers OFF',\n      'Calculate with wrinklers ON',\n      'Calculate with single fattest wrinkler ON',\n    ],\n    'Calculate times and average Cookies Per Second with (only the single non-shiny fattest) wrinklers',\n    true,\n    () => {\n      SimDoSims = true;\n    },\n  ),\n\n  // Notation\n  Scale: new SettingStandard(\n    2,\n    'bool',\n    'Notation',\n    [\n      \"Game's setting scale\",\n      'Metric',\n      'Short scale',\n      'Short scale (Abbreviated)',\n      'Scientific notation',\n      'Engineering notation',\n    ],\n    'Change how long numbers are formatted',\n    false,\n    () => {\n      RefreshScale();\n    },\n  ),\n  ScaleDecimals: new SettingStandard(\n    2,\n    'bool',\n    'Notation',\n    ['1 decimals', '2 decimals', '3 decimals'],\n    `Set the number of decimals used when applicable. This only works with Cookie Monster scales and not with \"Game's Setting Scale\"`,\n    false,\n    () => {\n      RefreshScale();\n    },\n  ),\n  ScaleSeparator: new SettingStandard(\n    0,\n    'bool',\n    'Notation',\n    ['. for decimals (standard)', '. for thousands'],\n    'Set the separator used for decimals and thousands',\n    false,\n    () => {\n      RefreshScale();\n    },\n  ),\n  ScaleCutoff: new SettingInputNumber(\n    999999,\n    'numscale',\n    'Notation',\n    'Notation cut-off point: ',\n    'The number from which Cookie Monster will start formatting numbers based on chosen scale. Standard is 999,999. Setting this above 999,999,999 might break certain notations',\n    1,\n    999999999,\n  ),\n  TimeFormat: new SettingStandard(\n    0,\n    'bool',\n    'Notation',\n    ['Time XXd, XXh, XXm, XXs', 'Time XX:XX:XX:XX:XX'],\n    'Change the time format',\n    false,\n  ),\n  DetailedTime: new SettingStandard(\n    1,\n    'bool',\n    'Notation',\n    ['Detailed time OFF', 'Detailed time ON'],\n    'Change how time is displayed in certain statistics and tooltips',\n    true,\n    () => {\n      ToggleDetailedTime();\n    },\n  ),\n  PPDisplayTime: new SettingStandard(\n    0,\n    'bool',\n    'Notation',\n    ['PP as value (standard)', 'PP as time unit'],\n    'Display PP as calculated value or as approximate time unit. Note that PP does not translate directly into a time unit and this is therefore only an approximation.',\n    false,\n  ),\n\n  // Colours\n  BuildColour: new SettingStandard(\n    1,\n    'bool',\n    'Colours',\n    ['Building colours OFF', 'Building colours ON'],\n    'Colour code buildings',\n    true,\n    () => {\n      UpdateBuildings();\n    },\n  ),\n  PPOnlyConsiderBuyable: new SettingStandard(\n    0,\n    'bool',\n    'Colours',\n    [\"Don't ignore non-buyable\", 'Ignore non-buyable'],\n    \"Makes Cookie Monster label buildings and upgrades you can't buy right now red, useful in those situations where you just want to spend your full bank 'most optimally'\",\n    true,\n  ),\n  PPExcludeTop: new SettingStandard(\n    0,\n    'bool',\n    'Colours',\n    [\n      \"Don't ignore any\",\n      'Ignore 1st best',\n      'Ignore 1st and 2nd best',\n      'Ignore 1st, 2nd and 3rd best',\n    ],\n    'Makes Cookie Monster ignore the 1st, 2nd or 3rd best buildings in labeling and colouring PP values',\n    true,\n  ),\n  PPRigidelMode: new SettingStandard(\n    0,\n    'bool',\n    'Colours',\n    ['Rigidel mode OFF', 'Rigidel mode ON'],\n    'Makes Cookie Monster ignore all \"buy 1\" options when colouring PP in order to stay at a total building count ending in 10 for pantheon god Rigidel',\n    true,\n  ),\n  PPSecondsLowerLimit: new SettingInputNumber(\n    0,\n    'numscale',\n    'Colours',\n    'Lower limit for PP (in seconds): ',\n    'If a building or upgrade costs less than the specified seconds of CPS it will also be considered optimal and label it as such (\"PP is less than xx seconds of CPS\"); setting to 0 ignores this option',\n    0,\n    Infinity,\n  ),\n  ColourBlue: new SettingColours(\n    '#4bb8f0',\n    'colour',\n    'Colours',\n    'Standard colour is blue. Used to show upgrades better than best PP building, for Click Frenzy bar, and for various labels',\n  ),\n  ColourGreen: new SettingColours(\n    '#00ff00',\n    'colour',\n    'Colours',\n    'Standard colour is green. Used to show best PP building, for Blood Frenzy bar, and for various labels',\n  ),\n  ColourYellow: new SettingColours(\n    '#ffff00',\n    'colour',\n    'Colours',\n    'Standard colour is yellow. Used to show buildings within the top 10 of PP, for Frenzy bar, and for various labels',\n  ),\n  ColourOrange: new SettingColours(\n    '#ff7f00',\n    'colour',\n    'Colours',\n    'Standard colour is orange. Used to show buildings within the top 20 of PP, for Next Reindeer bar, and for various labels',\n  ),\n  ColourRed: new SettingColours(\n    '#ff0000',\n    'colour',\n    'Colours',\n    'Standard colour is Red. Used to show buildings within the top 30 of PP, for Clot bar, and for various labels',\n  ),\n  ColourPurple: new SettingColours(\n    '#ff00ff',\n    'colour',\n    'Colours',\n    'Standard colour is purple. Used to show buildings outside of the top 30 of PP, for Next Cookie bar, and for various labels',\n  ),\n  ColourGray: new SettingColours(\n    '#b3b3b3',\n    'colour',\n    'Colours',\n    'Standard colour is gray. Used to show negative or infinity PP, and for Next Cookie/Next Reindeer bar',\n  ),\n  ColourPink: new SettingColours(\n    '#ff1493',\n    'colour',\n    'Colours',\n    'Standard colour is pink. Used for Dragonflight bar',\n  ),\n  ColourBrown: new SettingColours(\n    '#8b4513',\n    'colour',\n    'Colours',\n    'Standard colour is brown. Used for Dragon Harvest bar',\n  ),\n\n  // BarsDisplay\n  BotBar: new SettingStandard(\n    1,\n    'bool',\n    'BarsDisplay',\n    ['Bottom bar OFF', 'Bottom bar ON'],\n    'Building information',\n    true,\n    () => {\n      ToggleBotBar();\n    },\n  ),\n  TimerBar: new SettingStandard(\n    1,\n    'bool',\n    'BarsDisplay',\n    ['Timer bar OFF', 'Timer bar ON'],\n    'Bar with timers for golden cookie, season popup, Frenzy (Normal, Clot, Elder), Click Frenzy',\n    true,\n    () => {\n      ToggleTimerBar();\n    },\n  ),\n  TimerBarPos: new SettingStandard(\n    0,\n    'bool',\n    'BarsDisplay',\n    ['Timer bar position (top left)', 'Timer bar position (bottom)'],\n    'Placement of the timer bar',\n    false,\n    () => {\n      ToggleTimerBarPos();\n    },\n  ),\n  TimerBarOverlay: new SettingStandard(\n    2,\n    'bool',\n    'BarsDisplay',\n    ['Timer bar overlay OFF', 'Timer bar overlay only seconds', 'Timer bar overlay full'],\n    'Overlay on timers displaying seconds and/or percentage left',\n    true,\n  ),\n  AutosaveTimerBar: new SettingStandard(\n    0,\n    'bool',\n    'BarsDisplay',\n    ['Autosave timer bar OFF', 'Autosave timer bar ON'],\n    'Show a timer counting down till next autosave in the timer bar',\n    true,\n  ),\n  UpBarColour: new SettingStandard(\n    1,\n    'bool',\n    'BarsDisplay',\n    ['Upgrade colours/bar OFF', 'Upgrade colours with bar ON', 'Upgrade colours without bar ON'],\n    'Colour code upgrades and optionally add a counter bar',\n    false,\n    () => {\n      ToggleUpgradeBarAndColour();\n    },\n  ),\n  UpgradeBarFixedPos: new SettingStandard(\n    1,\n    'bool',\n    'BarsDisplay',\n    ['Upgrade bar fixed position OFF', 'Upgrade bar fixed position ON'],\n    'Lock the upgrade bar at top of the screen to prevent it from moving ofscreen when scrolling',\n    true,\n    () => {\n      ToggleUpgradeBarFixedPos();\n    },\n  ),\n  SortBuildings: new SettingStandard(\n    0,\n    'bool',\n    'BarsDisplay',\n    [\n      'Sort buildings: default',\n      'Sort buildings: PP of x1 purchase',\n      'Sort buildings: PP of selected bulk mode',\n      'Sort buildings: price until next achievement',\n    ],\n    'Sort the display of buildings in default order, by PP, or until next achievement',\n    false,\n    () => {\n      UpdateBuildings();\n    },\n  ),\n  SortUpgrades: new SettingStandard(\n    0,\n    'bool',\n    'BarsDisplay',\n    ['Sort upgrades: default', 'Sort upgrades: PP'],\n    'Sort the display of upgrades in either default order or by PP',\n    false,\n    () => {\n      UpdateUpgrades();\n    },\n  ),\n  UpgradesNeverCollapse: new SettingStandard(\n    0,\n    'bool',\n    'BarsDisplay',\n    ['Upgrades always expanded OFF', 'Upgrades always expanded ON'],\n    'Toggle to make the upgrades sections always expanded to the size needed to display all upgrades',\n    true,\n    () => {\n      UpdateUpgradeSectionsHeight();\n    },\n  ),\n  DragonAuraInfo: new SettingStandard(\n    1,\n    'bool',\n    'BarsDisplay',\n    ['Extra dragon aura info OFF', 'Extra dragon aura info ON'],\n    'Shows information about changes in CPS and costs in the dragon aura interface.',\n    true,\n  ),\n  GrimoireBar: new SettingStandard(\n    1,\n    'bool',\n    'BarsDisplay',\n    ['Grimoire magic meter timer OFF', 'Grimoire magic meter timer ON'],\n    'A timer overlay showing how long till the Grimoire magic meter is full',\n    true,\n  ),\n  GCTimer: new SettingStandard(\n    1,\n    'bool',\n    'BarsDisplay',\n    ['Golden cookie timer OFF', 'Golden cookie timer ON'],\n    'A timer on the golden cookie when it has been spawned',\n    true,\n    () => {\n      ToggleGCTimer();\n    },\n  ),\n  Favicon: new SettingStandard(\n    1,\n    'bool',\n    'BarsDisplay',\n    ['Favicon OFF', 'Favicon ON'],\n    'Update favicon with golden/wrath cookie',\n    true,\n    () => {\n      UpdateFavicon();\n    },\n  ),\n  WrinklerButtons: new SettingStandard(\n    1,\n    'bool',\n    'BarsDisplay',\n    ['Extra wrinkler buttons OFF', 'Extra wrinkler buttons ON'],\n    'Show buttons for popping wrinklers at bottom of cookie section',\n    true,\n    () => {\n      ToggleWrinklerButtons();\n    },\n  ),\n  HideSectionsButtons: new SettingStandard(\n    0,\n    'bool',\n    'BarsDisplay',\n    ['Hide buildings/upgrades button OFF', 'Hide buildings/upgrades button ON'],\n    'Show buttons for hiding and showing the buildings and upgrades sections in the right column',\n    true,\n    () => {\n      ToggleSectionHideButtons();\n    },\n  ),\n\n  // Tooltip\n  TooltipBuildUpgrade: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Building/upgrade tooltip information OFF', 'Building/upgrade tooltip information ON'],\n    'Extra information in building/upgrade tooltips',\n    true,\n  ),\n  TooltipAmor: new SettingStandard(\n    0,\n    'bool',\n    'Tooltip',\n    [\n      'Buildings tooltip amortization information OFF',\n      'Buildings tooltip amortization information ON',\n    ],\n    'Add amortization information to buildings tooltip',\n    true,\n  ),\n  ToolWarnLucky: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Tooltip lucky warning OFF', 'Tooltip lucky warning ON'],\n    'A warning when buying if it will put the bank under the amount needed for max \"Lucky!\" rewards',\n    true,\n  ),\n  ToolWarnLuckyFrenzy: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Tooltip lucky frenzy warning OFF', 'Tooltip lucky frenzy warning ON'],\n    'A warning when buying if it will put the bank under the amount needed for max \"Lucky!\" (Frenzy) rewards',\n    true,\n  ),\n  ToolWarnConjure: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Tooltip conjure warning OFF', 'Tooltip conjure warning ON'],\n    'A warning when buying if it will put the bank under the amount needed for max \"Conjure Baked Goods\" rewards',\n    true,\n  ),\n  ToolWarnConjureFrenzy: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Tooltip conjure frenzy warning OFF', 'Tooltip conjure frenzy warning ON'],\n    'A warning when buying if it will put the bank under the amount needed for max \"Conjure Baked Goods\" rewards with Frenzy active',\n    true,\n  ),\n  ToolWarnEdifice: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Tooltip edifice warning OFF', 'Tooltip edifice warning ON'],\n    'A warning when buying if it will put the bank under the amount needed for \"Spontaneous Edifice\" to possibly give you your most expensive building',\n    true,\n  ),\n  ToolWarnUser: new SettingInputNumber(\n    0,\n    'numscale',\n    'Tooltip',\n    'Tooltip warning at x times CPS: ',\n    'Use this to show a customized warning if buying it will put the bank under the amount equal to value times cps; setting to 0 disables the function altogether',\n    0,\n    Infinity,\n  ),\n  ToolWarnBon: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Calculate tooltip warning with bonus CPS OFF', 'Calculate tooltip warning with bonus CPS ON'],\n    'Calculate the warning with or without the bonus CPS you get from buying',\n    true,\n  ),\n  ToolWarnPos: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Tooltip warning position (left)', 'Tooltip warning position (bottom)'],\n    'Placement of the warning boxes',\n    false,\n    () => {\n      ToggleToolWarnPos();\n    },\n  ),\n  TooltipGrim: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Grimoire tooltip information OFF', 'Grimoire tooltip information ON'],\n    'Extra information in tooltip for grimoire',\n    true,\n  ),\n  TooltipWrink: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Wrinkler tooltip OFF', 'Wrinkler tooltip ON'],\n    'Shows the amount of cookies a wrinkler will give when popping it',\n    true,\n  ),\n  TooltipLump: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Sugar lump tooltip OFF', 'Sugar lump tooltip ON'],\n    'Shows the current Sugar Lump type in Sugar lump tooltip.',\n    true,\n  ),\n  TooltipPlots: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Garden plots tooltip OFF', 'Garden plots tooltip ON'],\n    'Shows a tooltip for plants that have a cookie reward.',\n    true,\n  ),\n  TooltipPantheon: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Pantheon tooltip OFF', 'Pantheon tooltip ON'],\n    'Shows additional info in the pantheon tooltip',\n    true,\n  ),\n  TooltipAscendButton: new SettingStandard(\n    1,\n    'bool',\n    'Tooltip',\n    ['Show Extra Info Ascend Tooltip OFF', 'Show Extra Info Ascend Tooltip ON'],\n    'Shows additional info in the ascend tooltip',\n    true,\n  ),\n\n  // Statistics\n  Stats: new SettingStandard(\n    1,\n    'bool',\n    'Statistics',\n    ['Statistics OFF', 'Statistics ON'],\n    'Extra Cookie Monster statistics!',\n    true,\n  ),\n  MissingUpgrades: new SettingStandard(\n    1,\n    'bool',\n    'Statistics',\n    ['Missing upgrades OFF', 'Missing upgrades ON'],\n    'Shows missing upgrades in statistics menu',\n    true,\n  ),\n  MissingAchievements: new SettingStandard(\n    0,\n    'bool',\n    'Statistics',\n    ['Missing Achievements OFF', 'Missing Normal Achievements ON'],\n    'Shows missing normal achievements in statistics menu.',\n    true,\n  ),\n  UpStats: new SettingStandard(\n    1,\n    'bool',\n    'Statistics',\n    ['Statistics update rate (default)', 'Statistics update rate (1s)'],\n    'Default rate is once every 5 seconds',\n    false,\n  ),\n  HeavenlyChipsTarget: new SettingInputNumber(\n    1,\n    'numscale',\n    'Statistics',\n    'Heavenly chips target: ',\n    'Use this to set a heavenly chips target that will be counted towards in the \"prestige\" statsistics sections',\n    1,\n    Infinity,\n  ),\n  ShowMissedGC: new SettingStandard(\n    1,\n    'bool',\n    'Statistics',\n    ['Missed GC OFF', 'Missed GC ON'],\n    'Show a stat in the statistics screen that counts how many golden cookies you have missed',\n    true,\n  ),\n\n  // Notification\n  Title: new SettingStandard(\n    1,\n    'bool',\n    'NotificationGeneral',\n    ['Title OFF', 'Title ON', 'Title pinned tab highlight'],\n    'Update title with colden cookie/season popup timers; pinned tab highlight only changes the title when a golden cookie/season popup spawns; \"!\" means that golden cookie/reindeer can spawn',\n    true,\n  ),\n  GeneralSound: new SettingStandard(\n    1,\n    'bool',\n    'NotificationGeneral',\n    ['Consider game volume setting OFF', 'Consider game volume setting ON'],\n    'Turning this toggle to \"off\" makes Cookie Monster no longer consider the volume setting of the base game, allowing mod notifications to play with base game volume turned down',\n    true,\n  ),\n  GCNotification: new SettingStandard(\n    0,\n    'bool',\n    'NotificationGC',\n    ['Notification OFF', 'Notification ON'],\n    'Create a notification when golden cookie spawns',\n    true,\n    () => {\n      CheckNotificationPermissions(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.GCNotification,\n      );\n    },\n  ),\n  GCFlash: new SettingStandard(\n    1,\n    'bool',\n    'NotificationGC',\n    ['Flash OFF', 'Flash ON'],\n    'Flash screen on golden cookie',\n    true,\n  ),\n  ColourGCFlash: new SettingColours(\n    '#ffffff',\n    'colour',\n    'NotificationGC',\n    'The colour of the GC flash, standard colour is white',\n  ),\n  GCSound: new SettingStandard(\n    1,\n    'bool',\n    'NotificationGC',\n    ['Sound OFF', 'Sound ON'],\n    'Play a sound on golden cookie',\n    true,\n  ),\n  GCVolume: new SettingVolume(100, 'vol', 'NotificationGC', [], 'Volume'),\n  GCSoundURL: new SettingStandard(\n    'https://freesound.org/data/previews/66/66717_931655-lq.mp3',\n    'url',\n    'NotificationGC',\n    'Sound URL:',\n    'URL of the sound to be played when a golden cookie spawns',\n  ),\n  FortuneNotification: new SettingStandard(\n    0,\n    'bool',\n    'NotificationFC',\n    ['Notification OFF', 'Notification ON'],\n    'Create a notification when fortune cookie is on the ticker',\n    true,\n    () => {\n      CheckNotificationPermissions(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.FortuneNotification,\n      );\n    },\n  ),\n  FortuneFlash: new SettingStandard(\n    1,\n    'bool',\n    'NotificationFC',\n    ['Flash OFF', 'Flash ON'],\n    'Flash screen on fortune cookie spawn',\n    true,\n  ),\n  ColourFortuneFlash: new SettingColours(\n    '#ffffff',\n    'colour',\n    'NotificationFC',\n    'The colour of the fortune flash, standard colour is white',\n  ),\n  FortuneSound: new SettingStandard(\n    1,\n    'bool',\n    'NotificationFC',\n    ['Sound OFF', 'Sound ON'],\n    'Play a sound on fortune cookie spawn',\n    true,\n  ),\n  FortuneVolume: new SettingVolume(100, 'vol', 'NotificationFC', [], 'Volume'),\n  FortuneSoundURL: new SettingStandard(\n    'https://freesound.org/data/previews/174/174027_3242494-lq.mp3',\n    'url',\n    'NotificationFC',\n    'Sound URL:',\n    'URL of the sound to be played when the ticker has a fortune cookie',\n  ),\n  SeaNotification: new SettingStandard(\n    0,\n    'bool',\n    'NotificationSea',\n    ['Notification OFF', 'Notification ON'],\n    'Create a notification on season popup',\n    true,\n    () => {\n      CheckNotificationPermissions(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.SeaNotification,\n      );\n    },\n  ),\n  SeaFlash: new SettingStandard(\n    1,\n    'bool',\n    'NotificationSea',\n    ['Flash OFF', 'Flash ON'],\n    'Flash screen on season popup',\n    true,\n  ),\n  ColourSeaFlash: new SettingColours(\n    '#ffffff',\n    'colour',\n    'NotificationSea',\n    'The colour of the season popup flash, standard colour is white',\n  ),\n  SeaSound: new SettingStandard(\n    1,\n    'bool',\n    'NotificationSea',\n    ['Sound OFF', 'Sound ON'],\n    'Play a sound on season popup',\n    true,\n  ),\n  SeaVolume: new SettingVolume(100, 'vol', 'NotificationSea', [], 'Volume'),\n  SeaSoundURL: new SettingStandard(\n    'https://www.freesound.org/data/previews/121/121099_2193266-lq.mp3',\n    'url',\n    'NotificationSea',\n    'Sound URL:',\n    'URL of the sound to be played when on season popup spawns',\n  ),\n  GardFlash: new SettingStandard(\n    1,\n    'bool',\n    'NotificationGard',\n    ['Garden Tick Flash OFF', 'Flash ON'],\n    'Flash screen on garden tick',\n    true,\n  ),\n  ColourGardFlash: new SettingColours(\n    '#ffffff',\n    'colour',\n    'NotificationGard',\n    'The colour of the garden flash, standard colour is white',\n  ),\n  GardSound: new SettingStandard(\n    1,\n    'bool',\n    'NotificationGard',\n    ['Sound OFF', 'Sound ON'],\n    'Play a sound on garden tick',\n    true,\n  ),\n  GardVolume: new SettingVolume(100, 'vol', 'NotificationGard', [], 'Volume'),\n  GardSoundURL: new SettingStandard(\n    'https://freesound.org/data/previews/103/103046_861714-lq.mp3',\n    'url',\n    'NotificationGard',\n    'Garden Tick Sound URL:',\n    'URL of the sound to be played when the garden ticks',\n  ),\n  MagicNotification: new SettingStandard(\n    0,\n    'bool',\n    'NotificationMagi',\n    ['Notification OFF', 'Notification ON'],\n    'Create a notification when magic reaches maximum',\n    true,\n    () => {\n      CheckNotificationPermissions(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.MagicNotification,\n      );\n    },\n  ),\n  MagicFlash: new SettingStandard(\n    1,\n    'bool',\n    'NotificationMagi',\n    ['Flash OFF', 'Flash ON'],\n    'Flash screen when magic reaches maximum',\n    true,\n  ),\n  ColourMagicFlash: new SettingColours(\n    '#ffffff',\n    'colour',\n    'NotificationMagi',\n    'The colour of the magic flash, standard colour is white',\n  ),\n  MagicSound: new SettingStandard(\n    1,\n    'bool',\n    'NotificationMagi',\n    ['Sound OFF', 'Sound ON'],\n    'Play a sound when magic reaches maximum',\n    true,\n  ),\n  MagicVolume: new SettingVolume(100, 'vol', 'NotificationMagi', [], 'Volume'),\n  MagicSoundURL: new SettingStandard(\n    'https://freesound.org/data/previews/221/221683_1015240-lq.mp3',\n    'url',\n    'NotificationMagi',\n    'Sound URL:',\n    'URL of the sound to be played when magic reaches maxium',\n  ),\n  WrinklerNotification: new SettingStandard(\n    0,\n    'bool',\n    'NotificationWrink',\n    ['Notification OFF', 'Notification ON'],\n    'Create a notification when a wrinkler appears',\n    true,\n    () => {\n      CheckNotificationPermissions(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.WrinklerNotification,\n      );\n    },\n  ),\n  WrinklerFlash: new SettingStandard(\n    1,\n    'bool',\n    'NotificationWrink',\n    ['Flash OFF', 'Flash ON'],\n    'Flash screen when a wrinkler appears',\n    true,\n  ),\n  ColourWrinklerFlash: new SettingColours(\n    '#ffffff',\n    'colour',\n    'NotificationWrink',\n    'The colour of the wrinkler flash, standard colour is white',\n  ),\n  WrinklerSound: new SettingStandard(\n    1,\n    'bool',\n    'NotificationWrink',\n    ['Sound OFF', 'Sound ON'],\n    'Play a sound when a wrinkler appears',\n    true,\n  ),\n  WrinklerVolume: new SettingVolume(100, 'vol', 'NotificationWrink', [], 'Volume'),\n  WrinklerSoundURL: new SettingStandard(\n    'https://freesound.org/data/previews/124/124186_8043-lq.mp3',\n    'url',\n    'NotificationWrink',\n    'Sound URL:',\n    'URL of the sound to be played when a wrinkler appears',\n  ),\n  WrinklerMaxNotification: new SettingStandard(\n    0,\n    'bool',\n    'NotificationWrinkMax',\n    ['Notification OFF', 'Notification ON'],\n    'Create a notification when the maximum amount of wrinklers has appeared',\n    true,\n    () => {\n      CheckNotificationPermissions(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.WrinklerMaxNotification,\n      );\n    },\n  ),\n  WrinklerMaxFlash: new SettingStandard(\n    1,\n    'bool',\n    'NotificationWrinkMax',\n    ['Flash OFF', 'Flash ON'],\n    'Flash screen when the maximum amount of Wrinklers has appeared',\n    true,\n  ),\n  ColourWrinklerMaxFlash: new SettingColours(\n    '#ffffff',\n    'colour',\n    'NotificationWrinkMax',\n    'The colour of the maximum wrinkler flash, standard colour is white',\n  ),\n  WrinklerMaxSound: new SettingStandard(\n    1,\n    'bool',\n    'NotificationWrinkMax',\n    ['Sound OFF', 'Sound ON'],\n    'Play a sound when the maximum amount of wrinklers has appeared',\n    true,\n  ),\n  WrinklerMaxVolume: new SettingVolume(100, 'vol', 'NotificationWrinkMax', [], 'Volume'),\n  WrinklerMaxSoundURL: new SettingStandard(\n    'https://freesound.org/data/previews/152/152743_15663-lq.mp3',\n    'url',\n    'NotificationWrinkMax',\n    'Sound URL:',\n    'URL of the sound to be played when the maximum amount of wrinklers has appeared',\n  ),\n\n  // Miscellaneous\n  BulkBuyBlock: new SettingStandard(\n    1,\n    'bool',\n    'Miscellaneous',\n    ['Block bulk buying OFF', 'Block bulk buying ON'],\n    \"Block clicking bulk buying when you can't buy all. This prevents buying 7 of a building when you are in buy-10 or buy-100 mode.\",\n    true,\n  ),\n  FavouriteSettings: new SettingStandard(\n    1,\n    'bool',\n    'Miscellaneous',\n    [\n      'Favourite settings section OFF',\n      'Favourite settings section ON',\n      'Favourite settings section ON (Locked)',\n    ],\n    \"Show stars before each setting which allows selecting it for a 'favourites' section at the top of the Cookie Monster settings. Setting this to Locked removes the stars but shows the 'favourites' section\",\n    true,\n    () => {\n      Game.UpdateMenu();\n    },\n  ),\n};\n\nexport default settings;\n","import saveFramework from '@cookiemonsterteam/cookiemonsterframework/src/saveDataFunctions/saveFramework';\nimport settings from '../Data/settings';\n\n/** Functions related to toggling or changing an individual setting */\n\n/** Used to name certain DOM or outside facing elements and refer to them */\nexport const ConfigPrefix = 'CMConfig';\n\n/**\n * This function toggles options by incrementing them with 1 and handling changes\n * It is called by the onclick event of options of the \"bool\" type\n * @param \t{string}\tconfig\tThe name of the option\n */\nexport function ToggleConfig(config) {\n  Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config] += 1;\n\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config] ===\n    settings[config].label.length\n  ) {\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config] = 0;\n    if (settings[config].toggle) l(ConfigPrefix + config).className = 'option off';\n  } else l(ConfigPrefix + config).className = 'option';\n\n  if (typeof settings[config].func !== 'undefined') {\n    settings[config].func();\n  }\n\n  saveFramework();\n}\n\n/**\n * This function sets the value of the specified volume-option and updates the display in the options menu\n * It is called by the oninput and onchange event of \"vol\" type options\n * @param \t{string}\tconfig\tThe name of the option\n */\nexport function ToggleConfigVolume(config) {\n  if (l(`slider${config}`) !== null) {\n    l(`slider${config}right`).innerHTML = `${l(`slider${config}`).value}%`;\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config] = Math.round(\n      l(`slider${config}`).value,\n    );\n  }\n  saveFramework();\n}\n\n/**\n * This function toggles header options by incrementing them with 1 and handling changes\n * It is called by the onclick event of the +/- next to headers\n * @param \t{string}\tconfig\tThe name of the header\n */\nexport function ToggleHeader(config) {\n  Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers[config] += 1;\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers[config] > 1)\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers[config] = 0;\n  saveFramework();\n}\n","/** Section: Functions related to the creation of basic DOM elements page */\n\nimport { ToggleHeader } from '../../../Config/ToggleSetting';\n\nimport { SimpleTooltipElements } from '../../VariablesAndData';\n\n/**\n * This function creates a header-object for the stats page\n * It is called by CM.Disp.AddMenuStats()\n * @param \t{string}\t\tconfig\tThe name of the Config-group\n * @param \t{string}\t\ttext\tThe to-be displayed name of the header\n * @returns\t{object}\t\tdiv\t\tThe header object\n */\nexport function StatsHeader(text, config) {\n  const div = document.createElement('div');\n  div.className = 'title';\n  div.style.padding = '0px 16px';\n  div.style.opacity = '0.7';\n  div.style.fontSize = '17px';\n  div.style.fontFamily = '\"Kavoon\", Georgia, serif';\n  div.appendChild(document.createTextNode(`${text} `));\n  const span = document.createElement('span');\n  span.style.cursor = 'pointer';\n  span.style.display = 'inline-block';\n  span.style.height = '14px';\n  span.style.width = '14px';\n  span.style.borderRadius = '7px';\n  span.style.textAlign = 'center';\n  span.style.backgroundColor = '#C0C0C0';\n  span.style.color = 'black';\n  span.style.fontSize = '13px';\n  span.style.verticalAlign = 'middle';\n  span.textContent = Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers[config]\n    ? '-'\n    : '+';\n  span.onclick = function () {\n    ToggleHeader(config);\n    Game.UpdateMenu();\n  };\n  div.appendChild(span);\n  return div;\n}\n\n/**\n * This function creates an stats-listing-object for the stats page\n * It is called by CM.Disp.AddMenuStats()\n * @param \t{string}\t\ttype\t\tThe type fo the listing\n * @param \t{string}\t\tname\t\tThe name of the option\n * @param \t{object}\t\ttext\t\tThe text-object of the option\n * @param \t{string}\t\tplaceholder\tThe id of the to-be displayed tooltip if applicable\n * @returns\t{object}\t\tdiv\t\t\tThe option object\n */\nexport function StatsListing(type, name, text, placeholder) {\n  const div = document.createElement('div');\n  div.className = 'listing';\n\n  const listingName = document.createElement('b');\n  listingName.textContent = name;\n  div.appendChild(listingName);\n  if (type === 'withTooltip') {\n    div.className = 'listing';\n    div.appendChild(document.createTextNode(' '));\n\n    const tooltip = document.createElement('span');\n    tooltip.onmouseout = function () {\n      Game.tooltip.hide();\n    };\n    tooltip.onmouseover = function () {\n      Game.tooltip.draw(this, escape(SimpleTooltipElements[placeholder].innerHTML));\n    };\n    tooltip.style.cursor = 'default';\n    tooltip.style.display = 'inline-block';\n    tooltip.style.height = '10px';\n    tooltip.style.width = '10px';\n    tooltip.style.borderRadius = '5px';\n    tooltip.style.textAlign = 'center';\n    tooltip.style.backgroundColor = '#C0C0C0';\n    tooltip.style.color = 'black';\n    tooltip.style.fontSize = '9px';\n    tooltip.style.verticalAlign = 'bottom';\n    tooltip.textContent = '?';\n    div.appendChild(tooltip);\n  }\n  div.appendChild(document.createTextNode(': '));\n  div.appendChild(text);\n  return div;\n}\n\n/**\n * This function creates an stats-listing-object for the stats page for missing items displays\n * It is called by CM.Disp.AddMenuStats()\n * @param \t{string}\t\ttype\t\tThe type fo the listing\n * @param \t{string}\t\tname\t\tThe name of the option\n * @param \t{object}\t\ttext\t\tThe text-object of the option\n * @param \t{bool}\t\t  current Whether the season of the item is the current season\n * @returns\t{object}\t\tdiv\t\t\tThe option object\n */\nexport function StatsMissDispListing(type, name, text, current) {\n  const div = document.createElement('div');\n  div.className = 'listing';\n\n  const listingName = document.createElement('b');\n  listingName.textContent = name;\n  if (current === true)\n    listingName.style.color =\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ColourGreen;\n  div.appendChild(listingName);\n  div.appendChild(document.createTextNode(': '));\n  div.appendChild(text);\n  return div;\n}\n\n/**\n * This function creates a tooltip containing all missing holiday items contained in the list theMissDisp\n * @param \t{list}\t\t\ttheMissDisp\t\tA list of the missing holiday items\n * @returns\t{object}\t\tfrag\t\t\tThe tooltip object\n */\nexport function StatsMissDisp(theMissDisp) {\n  const frag = document.createDocumentFragment();\n  frag.appendChild(document.createTextNode(`${theMissDisp.length} `));\n  const span = document.createElement('span');\n  span.onmouseout = function () {\n    Game.tooltip.hide();\n  };\n  const placeholder = document.createElement('div');\n  const missing = document.createElement('div');\n  missing.style.minWidth = '140px';\n  missing.style.marginBottom = '4px';\n  const title = document.createElement('div');\n  title.className = 'name';\n  title.style.marginBottom = '4px';\n  title.style.textAlign = 'center';\n  title.textContent = 'Missing';\n  missing.appendChild(title);\n  Object.keys(theMissDisp).forEach((i) => {\n    const div = document.createElement('div');\n    div.style.textAlign = 'center';\n    div.appendChild(document.createTextNode(theMissDisp[i]));\n    missing.appendChild(div);\n  });\n  placeholder.appendChild(missing);\n  span.onmouseover = function () {\n    Game.tooltip.draw(this, escape(placeholder.innerHTML));\n  };\n  span.style.cursor = 'default';\n  span.style.display = 'inline-block';\n  span.style.height = '10px';\n  span.style.width = '10px';\n  span.style.borderRadius = '5px';\n  span.style.textAlign = 'center';\n  span.style.backgroundColor = '#C0C0C0';\n  span.style.color = 'black';\n  span.style.fontSize = '9px';\n  span.style.verticalAlign = 'bottom';\n  span.textContent = '?';\n  frag.appendChild(span);\n  return frag;\n}\n","/** Functions to create the individual sections of the Statistics page */\n\nimport * as GameData from '../../../Data/Gamedata.ts';\nimport { MaxChainCookieReward } from '../../../Cache/Stats/ChainCookies';\nimport {\n  CacheAvgCPSWithChoEgg,\n  CacheCentEgg,\n  CacheChainFrenzyMaxReward,\n  CacheChainFrenzyRequired,\n  CacheChainFrenzyRequiredNext,\n  CacheChainFrenzyWrathRequired,\n  CacheChainFrenzyWrathRequiredNext,\n  CacheChainMaxReward,\n  CacheChainRequired,\n  CacheChainRequiredNext,\n  CacheChainWrathMaxReward,\n  CacheChainWrathRequired,\n  CacheChainWrathRequiredNext,\n  CacheConjure,\n  CacheConjureReward,\n  CacheDragonsFortuneMultAdjustment,\n  CacheEdifice,\n  CacheEdificeBuilding,\n  CacheGoldenCookiesMult,\n  CacheHCPerSecond,\n  CacheLastChoEgg,\n  CacheLucky,\n  CacheLuckyFrenzy,\n  CacheLuckyReward,\n  CacheLuckyRewardFrenzy,\n  CacheLuckyWrathReward,\n  CacheLuckyWrathRewardFrenzy,\n  CacheNoGoldSwitchCookiesPS,\n  CacheRealCookiesEarned,\n  CacheSeaSpec,\n  CacheWrathCookiesMult,\n  CacheWrinklersTotal,\n} from '../../../Cache/VariablesAndData';\nimport ResetBonus from '../../../Sim/SimulationEvents/ResetAscension';\nimport GetCPS from '../../HelperFunctions/GetCPS';\nimport GetWrinkConfigBank from '../../HelperFunctions/GetWrinkConfigBank';\nimport { ColourGreen, ColourRed, ColourTextPre } from '../../VariablesAndData';\nimport {\n  StatsListing,\n  StatsHeader,\n  StatsMissDisp,\n  StatsMissDispListing,\n} from './CreateDOMElements';\nimport Beautify from '../../BeautifyAndFormatting/Beautify';\nimport FormatTime from '../../BeautifyAndFormatting/FormatTime';\n\n/**\n * This function creates the \"Lucky\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Lucky section\n */\nexport function LuckySection() {\n  // This sets which tooltip to display for certain stats\n  const goldCookTooltip = Game.auraMult(\"Dragon's Fortune\")\n    ? 'GoldCookDragonsFortuneTooltipPlaceholder'\n    : 'GoldCookTooltipPlaceholder';\n\n  const section = document.createElement('div');\n  section.className = 'CMStatsLuckySection';\n\n  const luckyColour = Game.cookies + GetWrinkConfigBank() < CacheLucky ? ColourRed : ColourGreen;\n  const luckyTime =\n    Game.cookies + GetWrinkConfigBank() < CacheLucky\n      ? FormatTime((CacheLucky - (Game.cookies + GetWrinkConfigBank())) / GetCPS())\n      : '';\n  const luckyReqFrag = document.createDocumentFragment();\n  const luckyReqSpan = document.createElement('span');\n  luckyReqSpan.style.fontWeight = 'bold';\n  luckyReqSpan.className = ColourTextPre + luckyColour;\n  luckyReqSpan.textContent = Beautify(CacheLucky);\n  luckyReqFrag.appendChild(luckyReqSpan);\n  if (luckyTime !== '') {\n    const luckyReqSmall = document.createElement('small');\n    luckyReqSmall.textContent = ` (${luckyTime})`;\n    luckyReqFrag.appendChild(luckyReqSmall);\n  }\n  section.appendChild(\n    StatsListing('withTooltip', '\"Lucky!\" cookies required', luckyReqFrag, goldCookTooltip),\n  );\n\n  const luckyColourFrenzy =\n    Game.cookies + GetWrinkConfigBank() < CacheLuckyFrenzy ? ColourRed : ColourGreen;\n  const luckyTimeFrenzy =\n    Game.cookies + GetWrinkConfigBank() < CacheLuckyFrenzy\n      ? FormatTime((CacheLuckyFrenzy - (Game.cookies + GetWrinkConfigBank())) / GetCPS())\n      : '';\n  const luckyReqFrenFrag = document.createDocumentFragment();\n  const luckyReqFrenSpan = document.createElement('span');\n  luckyReqFrenSpan.style.fontWeight = 'bold';\n  luckyReqFrenSpan.className = ColourTextPre + luckyColourFrenzy;\n  luckyReqFrenSpan.textContent = Beautify(CacheLuckyFrenzy);\n  luckyReqFrenFrag.appendChild(luckyReqFrenSpan);\n  if (luckyTimeFrenzy !== '') {\n    const luckyReqFrenSmall = document.createElement('small');\n    luckyReqFrenSmall.textContent = ` (${luckyTimeFrenzy})`;\n    luckyReqFrenFrag.appendChild(luckyReqFrenSmall);\n  }\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Lucky!\" cookies required (frenzy)',\n      luckyReqFrenFrag,\n      goldCookTooltip,\n    ),\n  );\n\n  const luckySplit = CacheLuckyReward !== CacheLuckyWrathReward;\n\n  const luckyRewardMaxSpan = document.createElement('span');\n  luckyRewardMaxSpan.style.fontWeight = 'bold';\n  luckyRewardMaxSpan.className = ColourTextPre + CacheLuckyReward;\n  luckyRewardMaxSpan.textContent =\n    Beautify(CacheLuckyReward) + (luckySplit ? ` / ${Beautify(CacheLuckyWrathReward)}` : '');\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      `\"Lucky!\" reward (max)${luckySplit ? ' (golden / wrath)' : ''}`,\n      luckyRewardMaxSpan,\n      goldCookTooltip,\n    ),\n  );\n\n  const luckyRewardFrenzyMaxSpan = document.createElement('span');\n  luckyRewardFrenzyMaxSpan.style.fontWeight = 'bold';\n  luckyRewardFrenzyMaxSpan.className = ColourTextPre + luckyRewardFrenzyMaxSpan;\n  luckyRewardFrenzyMaxSpan.textContent =\n    Beautify(CacheLuckyRewardFrenzy) +\n    (luckySplit ? ` / ${Beautify(CacheLuckyWrathRewardFrenzy)}` : '');\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      `\"Lucky!\" reward (max) (frenzy)${luckySplit ? ' (golden / wrath)' : ''}`,\n      luckyRewardFrenzyMaxSpan,\n      goldCookTooltip,\n    ),\n  );\n\n  const luckyCurBase =\n    Math.min(\n      (Game.cookies + GetWrinkConfigBank()) * 0.15,\n      CacheNoGoldSwitchCookiesPS * CacheDragonsFortuneMultAdjustment * 60 * 15,\n    ) + 13;\n  const luckyCurSpan = document.createElement('span');\n  luckyCurSpan.style.fontWeight = 'bold';\n  luckyCurSpan.className = ColourTextPre + luckyCurSpan;\n  luckyCurSpan.textContent =\n    Beautify(CacheGoldenCookiesMult * luckyCurBase) +\n    (luckySplit ? ` / ${Beautify(CacheWrathCookiesMult * luckyCurBase)}` : '');\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      `\"Lucky!\" reward (cur)${luckySplit ? ' (golden / wrath)' : ''}`,\n      luckyCurSpan,\n      goldCookTooltip,\n    ),\n  );\n  return section;\n}\n\n/**\n * This function creates the \"Chain\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Chain section\n */\nexport function ChainSection() {\n  // This sets which tooltip to display for certain stats\n  const goldCookTooltip = Game.auraMult(\"Dragon's Fortune\")\n    ? 'GoldCookDragonsFortuneTooltipPlaceholder'\n    : 'GoldCookTooltipPlaceholder';\n\n  const section = document.createElement('div');\n  section.className = 'CMStatsChainSection';\n\n  const chainColour =\n    Game.cookies + GetWrinkConfigBank() < CacheChainRequired ? ColourRed : ColourGreen;\n  const chainTime =\n    Game.cookies + GetWrinkConfigBank() < CacheChainRequired\n      ? FormatTime((CacheChainRequired - (Game.cookies + GetWrinkConfigBank())) / GetCPS())\n      : '';\n  const chainReqFrag = document.createDocumentFragment();\n  const chainReqSpan = document.createElement('span');\n  chainReqSpan.style.fontWeight = 'bold';\n  chainReqSpan.className = ColourTextPre + chainColour;\n  chainReqSpan.textContent = Beautify(CacheChainRequired);\n  chainReqFrag.appendChild(chainReqSpan);\n  if (chainTime !== '') {\n    const chainReqSmall = document.createElement('small');\n    chainReqSmall.textContent = ` (${chainTime})`;\n    chainReqFrag.appendChild(chainReqSmall);\n  }\n  section.appendChild(\n    StatsListing('withTooltip', '\"Chain\" cookies required', chainReqFrag, goldCookTooltip),\n  );\n\n  const chainWrathColour =\n    Game.cookies + GetWrinkConfigBank() < CacheChainWrathRequired ? ColourRed : ColourGreen;\n  const chainWrathTime =\n    Game.cookies + GetWrinkConfigBank() < CacheChainWrathRequired\n      ? FormatTime((CacheChainWrathRequired - (Game.cookies + GetWrinkConfigBank())) / GetCPS())\n      : '';\n  const chainWrathReqFrag = document.createDocumentFragment();\n  const chainWrathReqSpan = document.createElement('span');\n  chainWrathReqSpan.style.fontWeight = 'bold';\n  chainWrathReqSpan.className = ColourTextPre + chainWrathColour;\n  chainWrathReqSpan.textContent = Beautify(CacheChainWrathRequired);\n  chainWrathReqFrag.appendChild(chainWrathReqSpan);\n  if (chainWrathTime !== '') {\n    const chainWrathReqSmall = document.createElement('small');\n    chainWrathReqSmall.textContent = ` (${chainWrathTime})`;\n    chainWrathReqFrag.appendChild(chainWrathReqSmall);\n  }\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Chain\" cookies required (Wrath)',\n      chainWrathReqFrag,\n      goldCookTooltip,\n    ),\n  );\n\n  const chainColourFrenzy =\n    Game.cookies + GetWrinkConfigBank() < CacheChainFrenzyRequired ? ColourRed : ColourGreen;\n  const chainTimeFrenzy =\n    Game.cookies + GetWrinkConfigBank() < CacheChainFrenzyRequired\n      ? FormatTime((CacheChainFrenzyRequired - (Game.cookies + GetWrinkConfigBank())) / GetCPS())\n      : '';\n  const chainReqFrenFrag = document.createDocumentFragment();\n  const chainReqFrenSpan = document.createElement('span');\n  chainReqFrenSpan.style.fontWeight = 'bold';\n  chainReqFrenSpan.className = ColourTextPre + chainColourFrenzy;\n  chainReqFrenSpan.textContent = Beautify(CacheChainFrenzyRequired);\n  chainReqFrenFrag.appendChild(chainReqFrenSpan);\n  if (chainTimeFrenzy !== '') {\n    const chainReqFrenSmall = document.createElement('small');\n    chainReqFrenSmall.textContent = ` (${chainTimeFrenzy})`;\n    chainReqFrenFrag.appendChild(chainReqFrenSmall);\n  }\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Chain\" cookies required (Frenzy)',\n      chainReqFrenFrag,\n      goldCookTooltip,\n    ),\n  );\n\n  const chainWrathColourFrenzy =\n    Game.cookies + GetWrinkConfigBank() < CacheChainFrenzyWrathRequired ? ColourRed : ColourGreen;\n  const chainWrathTimeFrenzy =\n    Game.cookies + GetWrinkConfigBank() < CacheChainFrenzyWrathRequired\n      ? FormatTime(\n          (CacheChainFrenzyWrathRequired - (Game.cookies + GetWrinkConfigBank())) / GetCPS(),\n        )\n      : '';\n  const chainWrathReqFrenFrag = document.createDocumentFragment();\n  const chainWrathReqFrenSpan = document.createElement('span');\n  chainWrathReqFrenSpan.style.fontWeight = 'bold';\n  chainWrathReqFrenSpan.className = ColourTextPre + chainWrathColourFrenzy;\n  chainWrathReqFrenSpan.textContent = Beautify(CacheChainFrenzyWrathRequired);\n  chainWrathReqFrenFrag.appendChild(chainWrathReqFrenSpan);\n  if (chainWrathTimeFrenzy !== '') {\n    const chainWrathReqFrenSmall = document.createElement('small');\n    chainWrathReqFrenSmall.textContent = ` (${chainWrathTimeFrenzy})`;\n    chainWrathReqFrenFrag.appendChild(chainWrathReqFrenSmall);\n  }\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Chain\" cookies required (frenzy) (Wrath)',\n      chainWrathReqFrenFrag,\n      goldCookTooltip,\n    ),\n  );\n\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Chain\" reward (max) (golden / wrath)',\n      document.createTextNode(\n        `${Beautify(CacheChainMaxReward[0])} / ${Beautify(CacheChainWrathMaxReward[0])}`,\n      ),\n      goldCookTooltip,\n    ),\n  );\n\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Chain\" reward (max) (frenzy) (golden / wrath)',\n      document.createTextNode(\n        `${Beautify(CacheChainFrenzyMaxReward[0])} / ${Beautify(CacheChainFrenzyMaxReward[0])}`,\n      ),\n      goldCookTooltip,\n    ),\n  );\n\n  const chainCurMax = Math.min(\n    Game.cookiesPs * 60 * 60 * 6 * CacheDragonsFortuneMultAdjustment,\n    Game.cookies * 0.5,\n  );\n  const chainCur = MaxChainCookieReward(7, chainCurMax, CacheGoldenCookiesMult)[0];\n  const chainCurWrath = MaxChainCookieReward(6, chainCurMax, CacheWrathCookiesMult)[0];\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Chain\" reward (cur) (golden / wrath)',\n      document.createTextNode(`${Beautify(chainCur)} / ${Beautify(chainCurWrath)}`),\n      goldCookTooltip,\n    ),\n  );\n\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      'CPS needed for next level (g / w)',\n      document.createTextNode(\n        `${Beautify(CacheChainRequiredNext)} / ${Beautify(CacheChainWrathRequiredNext)}`,\n      ),\n      'ChainNextLevelPlaceholder',\n    ),\n  );\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      'CPS needed for next level (frenzy) (g / w)',\n      document.createTextNode(\n        `${Beautify(CacheChainFrenzyRequiredNext)} / ${Beautify(\n          CacheChainFrenzyWrathRequiredNext,\n        )}`,\n      ),\n      'ChainNextLevelPlaceholder',\n    ),\n  );\n  return section;\n}\n\n/**\n * This function creates the \"Spells\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Spells section\n */\nexport function SpellsSection() {\n  const section = document.createElement('div');\n  section.className = 'CMStatsSpellsSection';\n\n  const conjureColour =\n    Game.cookies + GetWrinkConfigBank() < CacheConjure ? ColourRed : ColourGreen;\n  const conjureTime =\n    Game.cookies + GetWrinkConfigBank() < CacheConjure\n      ? FormatTime((CacheConjure - (Game.cookies + GetWrinkConfigBank())) / GetCPS())\n      : '';\n\n  const conjureReqFrag = document.createDocumentFragment();\n  const conjureReqSpan = document.createElement('span');\n  conjureReqSpan.style.fontWeight = 'bold';\n  conjureReqSpan.className = ColourTextPre + conjureColour;\n  conjureReqSpan.textContent = Beautify(CacheConjure);\n  conjureReqFrag.appendChild(conjureReqSpan);\n  if (conjureTime !== '') {\n    const conjureReqSmall = document.createElement('small');\n    conjureReqSmall.textContent = ` (${conjureTime})`;\n    conjureReqFrag.appendChild(conjureReqSmall);\n  }\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Conjure Baked Goods\" cookies required',\n      conjureReqFrag,\n      'GoldCookTooltipPlaceholder',\n    ),\n  );\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Conjure Baked Goods\" reward (max)',\n      document.createTextNode(Beautify(CacheConjureReward)),\n      'GoldCookTooltipPlaceholder',\n    ),\n  );\n\n  const conjureFrenzyColour =\n    Game.cookies + GetWrinkConfigBank() < CacheConjure * 7 ? ColourRed : ColourGreen;\n  const conjureFrenzyCur = Math.min(\n    (Game.cookies + GetWrinkConfigBank()) * 0.15,\n    CacheNoGoldSwitchCookiesPS * 60 * 30,\n  );\n  const conjureFrenzyTime =\n    Game.cookies + GetWrinkConfigBank() < CacheConjure * 7\n      ? FormatTime((CacheConjure * 7 - (Game.cookies + GetWrinkConfigBank())) / GetCPS())\n      : '';\n\n  const conjureFrenzyReqFrag = document.createDocumentFragment();\n  const conjureFrenzyReqSpan = document.createElement('span');\n  conjureFrenzyReqSpan.style.fontWeight = 'bold';\n  conjureFrenzyReqSpan.className = ColourTextPre + conjureFrenzyColour;\n  conjureFrenzyReqSpan.textContent = Beautify(CacheConjure * 7);\n  conjureFrenzyReqFrag.appendChild(conjureFrenzyReqSpan);\n  if (conjureFrenzyTime !== '') {\n    const conjureFrenzyReqSmall = document.createElement('small');\n    conjureFrenzyReqSmall.textContent = ` (${conjureFrenzyTime})`;\n    conjureFrenzyReqFrag.appendChild(conjureFrenzyReqSmall);\n  }\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Conjure Baked Goods\" cookies required (frenzy)',\n      conjureFrenzyReqFrag,\n      'GoldCookTooltipPlaceholder',\n    ),\n  );\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Conjure Baked Goods\" reward (max) (frenzy)',\n      document.createTextNode(Beautify(CacheConjureReward * 7)),\n      'GoldCookTooltipPlaceholder',\n    ),\n  );\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      '\"Conjure Baked Goods\" reward (cur)',\n      document.createTextNode(Beautify(conjureFrenzyCur)),\n      'GoldCookTooltipPlaceholder',\n    ),\n  );\n  if (CacheEdifice) {\n    section.appendChild(\n      StatsListing(\n        'withTooltip',\n        '\"Spontaneous Edifice\" cookies required (most expensive building)',\n        document.createTextNode(`${Beautify(CacheEdifice)} (${CacheEdificeBuilding})`),\n        'GoldCookTooltipPlaceholder',\n      ),\n    );\n  }\n  return section;\n}\n\n/**\n * This function creates the \"Garden\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Spells section\n */\nexport function GardenSection() {\n  const section = document.createElement('div');\n  section.className = 'CMStatsGardenSection';\n\n  const bakeberryColour = Game.cookies < Game.cookiesPs * 60 * 10 * 100 ? ColourRed : ColourGreen;\n  const bakeberryFrag = document.createElement('span');\n  bakeberryFrag.style.fontWeight = 'bold';\n  bakeberryFrag.className = ColourTextPre + bakeberryColour;\n  bakeberryFrag.textContent = Beautify(Game.cookiesPs * 60 * 10 * 100);\n  section.appendChild(\n    StatsListing('basic', 'Cookies required for max reward of Bakeberry: ', bakeberryFrag),\n  );\n\n  const chocorootColour = Game.cookies < Game.cookiesPs * 60 * 100 ? ColourRed : ColourGreen;\n  const chocorootFrag = document.createElement('span');\n  chocorootFrag.style.fontWeight = 'bold';\n  chocorootFrag.className = ColourTextPre + chocorootColour;\n  chocorootFrag.textContent = Beautify(Game.cookiesPs * 60 * 100);\n  section.appendChild(\n    StatsListing('basic', 'Cookies required for max reward of Chocoroot: ', chocorootFrag),\n  );\n\n  const queenbeetColour = Game.cookies < Game.cookiesPs * 60 * 60 * 25 ? ColourRed : ColourGreen;\n  const queenbeetFrag = document.createElement('span');\n  queenbeetFrag.style.fontWeight = 'bold';\n  queenbeetFrag.className = ColourTextPre + queenbeetColour;\n  queenbeetFrag.textContent = Beautify(Game.cookiesPs * 60 * 60 * 25);\n  section.appendChild(\n    StatsListing('basic', 'Cookies required for max reward of Queenbeet: ', queenbeetFrag),\n  );\n\n  const duketaterColour = Game.cookies < Game.cookiesPs * 60 * 15 * 100 ? ColourRed : ColourGreen;\n  const duketaterFrag = document.createElement('span');\n  duketaterFrag.style.fontWeight = 'bold';\n  duketaterFrag.className = ColourTextPre + duketaterColour;\n  duketaterFrag.textContent = Beautify(Game.cookiesPs * 60 * 15 * 100);\n  section.appendChild(\n    StatsListing('basic', 'Cookies required for max reward of Duketater: ', duketaterFrag),\n  );\n  const missingPlantDrops = [];\n  Object.keys(GameData.PlantDrops).forEach((i) => {\n    if (!Game.HasUnlocked(GameData.PlantDrops[i])) {\n      missingPlantDrops.push(GameData.PlantDrops[i]);\n    }\n  });\n  if (missingPlantDrops.length !== 0) {\n    section.appendChild(\n      StatsListing('basic', 'Rare plant drops left to unlock', StatsMissDisp(missingPlantDrops)),\n    );\n  }\n  return section;\n}\n\n/**\n * This function creates the \"Prestige\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Prestige section\n */\nexport function PrestigeSection() {\n  const section = document.createElement('div');\n  section.className = 'CMStatsPrestigeSection';\n\n  const possiblePresMax = Math.floor(\n    Game.HowMuchPrestige(\n      CacheRealCookiesEarned +\n        Game.cookiesReset +\n        CacheWrinklersTotal +\n        (Game.HasUnlocked('Chocolate egg') && !Game.Has('Chocolate egg') ? CacheLastChoEgg : 0),\n    ),\n  );\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      'Prestige level (cur / max)',\n      document.createTextNode(`${Beautify(Game.prestige)} / ${Beautify(possiblePresMax)}`),\n      'PrestMaxTooltipPlaceholder',\n    ),\n  );\n\n  const neededCook = Math.max(\n    0,\n    Game.HowManyCookiesReset(possiblePresMax + 1) -\n      (CacheRealCookiesEarned +\n        Game.cookiesReset +\n        CacheWrinklersTotal +\n        ((Game.HasUnlocked('Chocolate egg') && !Game.Has('Chocolate egg') ? CacheLastChoEgg : 0)\n          ? CacheLastChoEgg\n          : 0)),\n  );\n  const cookiesNextFrag = document.createDocumentFragment();\n  cookiesNextFrag.appendChild(document.createTextNode(Beautify(neededCook)));\n  const cookiesNextSmall = document.createElement('small');\n  cookiesNextSmall.textContent = ` (${FormatTime(neededCook / CacheAvgCPSWithChoEgg, 1)})`;\n  cookiesNextFrag.appendChild(cookiesNextSmall);\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      'Cookies to next level',\n      cookiesNextFrag,\n      'NextPrestTooltipPlaceholder',\n    ),\n  );\n\n  section.appendChild(\n    StatsListing(\n      'withTooltip',\n      'Heavenly chips (cur / max)',\n      document.createTextNode(\n        `${Beautify(Game.heavenlyChips)} / ${Beautify(\n          possiblePresMax - Game.prestige + Game.heavenlyChips,\n        )}`,\n      ),\n      'HeavenChipMaxTooltipPlaceholder',\n    ),\n  );\n\n  section.appendChild(\n    StatsListing(\n      'basic',\n      'Heavenly chips per second (last 5 seconds)',\n      document.createTextNode(Beautify(CacheHCPerSecond, 2)),\n    ),\n  );\n\n  const HCTarget = Number(\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.HeavenlyChipsTarget,\n  );\n  if (!Number.isNaN(HCTarget)) {\n    const CookiesTillTarget =\n      HCTarget - Math.floor(Game.HowMuchPrestige(Game.cookiesReset + Game.cookiesEarned));\n    if (CookiesTillTarget > 0) {\n      section.appendChild(\n        StatsListing(\n          'basic',\n          'Heavenly chips to target set in settings (cur)',\n          document.createTextNode(Beautify(CookiesTillTarget)),\n        ),\n      );\n      section.appendChild(\n        StatsListing(\n          'basic',\n          'Time till target (cur, current 5 second average)',\n          document.createTextNode(FormatTime(CookiesTillTarget / CacheHCPerSecond)),\n        ),\n      );\n    }\n  }\n\n  const resetBonus = ResetBonus(possiblePresMax);\n  const resetFrag = document.createDocumentFragment();\n  resetFrag.appendChild(document.createTextNode(Beautify(resetBonus)));\n  const increase = Math.round((resetBonus / Game.cookiesPs) * 10000);\n  if (Number.isFinite(increase) && increase !== 0) {\n    const resetSmall = document.createElement('small');\n    resetSmall.textContent = ` (${increase / 100}% of income)`;\n    resetFrag.appendChild(resetSmall);\n  }\n  section.appendChild(\n    StatsListing('withTooltip', 'Reset bonus income', resetFrag, 'ResetTooltipPlaceholder'),\n  );\n\n  const currentPrestige = Math.floor(Game.HowMuchPrestige(Game.cookiesReset));\n  const willHave = Math.floor(Game.HowMuchPrestige(Game.cookiesReset + Game.cookiesEarned));\n  const willGet = willHave - currentPrestige;\n  if (!Game.Has('Lucky digit')) {\n    let delta7 = 7 - (willHave % 10);\n    if (delta7 < 0) delta7 += 10;\n    const next7Reset = willGet + delta7;\n    const next7Total = willHave + delta7;\n    const frag7 = document.createDocumentFragment();\n    frag7.appendChild(\n      document.createTextNode(\n        `${next7Total.toLocaleString()} / ${next7Reset.toLocaleString()} (+${delta7})`,\n      ),\n    );\n    section.appendChild(StatsListing('basic', 'Next \"Lucky Digit\" (total / reset)', frag7));\n  }\n\n  if (!Game.Has('Lucky number')) {\n    let delta777 = 777 - (willHave % 1000);\n    if (delta777 < 0) delta777 += 1000;\n    const next777Reset = willGet + delta777;\n    const next777Total = willHave + delta777;\n    const frag777 = document.createDocumentFragment();\n    frag777.appendChild(\n      document.createTextNode(\n        `${next777Total.toLocaleString()} / ${next777Reset.toLocaleString()} (+${delta777})`,\n      ),\n    );\n    section.appendChild(StatsListing('basic', 'Next \"Lucky Number\" (total / reset)', frag777));\n  }\n\n  if (!Game.Has('Lucky payout')) {\n    let delta777777 = 777777 - (willHave % 1000000);\n    if (delta777777 < 0) delta777777 += 1000000;\n    const next777777Reset = willGet + delta777777;\n    const next777777Total = willHave + delta777777;\n    const frag777777 = document.createDocumentFragment();\n    frag777777.appendChild(\n      document.createTextNode(\n        `${next777777Total.toLocaleString()} / ${next777777Reset.toLocaleString()} (+${delta777777})`,\n      ),\n    );\n    section.appendChild(StatsListing('basic', 'Next \"Lucky Payout\" (total / reset)', frag777777));\n  }\n\n  return section;\n}\n\n/**\n * This function creates the \"Season Specials\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Season Specials section\n */\nexport function SeasonSection() {\n  const section = document.createElement('div');\n  section.className = 'CMStatsSeasonSection';\n\n  let specDisp = false;\n  const missingHalloweenCookies = [];\n  Object.keys(GameData.HalloCookies).forEach((i) => {\n    if (!Game.Has(GameData.HalloCookies[i])) {\n      missingHalloweenCookies.push(GameData.HalloCookies[i]);\n      specDisp = true;\n    }\n  });\n  const missingChristmasCookies = [];\n  Object.keys(GameData.ChristCookies).forEach((i) => {\n    if (!Game.Has(GameData.ChristCookies[i])) {\n      missingChristmasCookies.push(GameData.ChristCookies[i]);\n      specDisp = true;\n    }\n  });\n  const missingValentineCookies = [];\n  Object.keys(GameData.ValCookies).forEach((i) => {\n    if (!Game.Has(GameData.ValCookies[i])) {\n      missingValentineCookies.push(GameData.ValCookies[i]);\n      specDisp = true;\n    }\n  });\n  const missingNormalEggs = [];\n  Object.keys(Game.eggDrops).forEach((i) => {\n    if (!Game.HasUnlocked(Game.eggDrops[i])) {\n      missingNormalEggs.push(Game.eggDrops[i]);\n      specDisp = true;\n    }\n  });\n  const missingRareEggs = [];\n  Object.keys(Game.rareEggDrops).forEach((i) => {\n    if (!Game.HasUnlocked(Game.rareEggDrops[i])) {\n      missingRareEggs.push(Game.rareEggDrops[i]);\n      specDisp = true;\n    }\n  });\n  const choEgg = Game.HasUnlocked('Chocolate egg') && !Game.Has('Chocolate egg');\n  const centEgg = Game.Has('Century egg');\n\n  if (Game.season === 'christmas' || specDisp || choEgg || centEgg) {\n    section.appendChild(StatsHeader('Season Specials', 'Sea'));\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.Sea) {\n      if (missingHalloweenCookies.length !== 0) {\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Halloween cookies left to buy',\n            StatsMissDisp(missingHalloweenCookies),\n            Game.season === 'halloween',\n          ),\n        );\n        let failRateHalloween = 0.95;\n        if (Game.HasAchiev('Spooky cookies')) failRateHalloween = 0.8;\n        if (Game.Has('Starterror')) failRateHalloween *= 0.9;\n        failRateHalloween *= 1 / Game.dropRateMult();\n        if (Game.hasGod) {\n          const godLvl = Game.hasGod('seasons');\n          if (godLvl === 1) failRateHalloween *= 0.9;\n          else if (godLvl === 2) failRateHalloween *= 0.95;\n          else if (godLvl === 3) failRateHalloween *= 0.97;\n        }\n        const obtainedCookiesChance = missingHalloweenCookies.length / 7;\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Chance of receiving a cookie from wrinkler/shiny wrinkler',\n            document.createTextNode(\n              `${Beautify((1 - failRateHalloween) * obtainedCookiesChance * 100)}% / ${Beautify(\n                (1 - failRateHalloween * 0.9) * obtainedCookiesChance * 100,\n              )}%`,\n            ),\n            Game.season === 'halloween',\n          ),\n        );\n      }\n      if (missingChristmasCookies.length !== 0) {\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Christmas cookies left to buy',\n            StatsMissDisp(missingChristmasCookies),\n            Game.season === 'christmas',\n          ),\n        );\n        let failRateChristmas = 0.8;\n        if (Game.HasAchiev('Let it snow')) failRateChristmas = 0.6;\n        failRateChristmas *= 1 / Game.dropRateMult();\n        if (Game.Has('Starsnow')) failRateChristmas *= 0.95;\n        if (Game.hasGod) {\n          const godLvl = Game.hasGod('seasons');\n          if (godLvl === 1) failRateChristmas *= 0.9;\n          else if (godLvl === 2) failRateChristmas *= 0.95;\n          else if (godLvl === 3) failRateChristmas *= 0.97;\n        }\n        const obtainedCookiesChance = missingChristmasCookies.length / 7;\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Chance of receiving a cookie from reindeer',\n            document.createTextNode(\n              `${Beautify((1 - failRateChristmas) * obtainedCookiesChance * 100)}%`,\n            ),\n            Game.season === 'christmas',\n          ),\n        );\n      }\n      if (missingValentineCookies.length !== 0) {\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Valentine cookies left to buy',\n            StatsMissDisp(missingValentineCookies),\n            Game.season === 'valentines',\n          ),\n        );\n      }\n      const dropRateEgg = function (StartingFailRate) {\n        let failRateEgg = StartingFailRate * (1 / Game.dropRateMult());\n        if (Game.HasAchiev('Hide & seek champion')) failRateEgg *= 0.7;\n        if (Game.Has('Omelette')) failRateEgg *= 0.9;\n        if (Game.Has('Starspawn')) failRateEgg *= 0.9;\n        if (Game.hasGod) {\n          const godLvl = Game.hasGod('seasons');\n          if (godLvl === 1) failRateEgg *= 0.9;\n          else if (godLvl === 2) failRateEgg *= 0.95;\n          else if (godLvl === 3) failRateEgg *= 0.97;\n        }\n        // Calculations courtesy of @svschouw, at https://github.com/Aktanusa/CookieMonster/issues/25\n        const succesRateEgg = 1 - failRateEgg;\n        const obtainedEggs = Game.eggDrops.length - missingNormalEggs.length;\n        const obtainedRareEggs = Game.rareEggDrops.length - missingRareEggs.length;\n        const pNormal1 = succesRateEgg * 0.9 * (1 - obtainedEggs / Game.eggDrops.length);\n        const pRare1 = succesRateEgg * 0.1 * (1 - obtainedRareEggs / Game.rareEggDrops.length);\n        const pRedropNormal = succesRateEgg * 0.9 * (obtainedEggs / Game.eggDrops.length);\n        const pRedropRare = succesRateEgg * 0.1 * (obtainedRareEggs / Game.rareEggDrops.length);\n        const pRedrop = pRedropNormal + pRedropRare;\n        const pNormal2 = pRedrop * 0.9 * (1 - obtainedEggs / Game.eggDrops.length);\n        const pRare2 = pRedrop * 0.1 * (1 - obtainedRareEggs / Game.rareEggDrops.length);\n        return [pNormal1 + pNormal2, pRare1 + pRare2];\n      };\n      if (missingNormalEggs.length !== 0) {\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Normal easter eggs left to unlock',\n            StatsMissDisp(missingNormalEggs),\n            Game.season === 'easter',\n          ),\n        );\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Chance of receiving an egg from wrinkler/golden cookie',\n            document.createTextNode(\n              `${Beautify(dropRateEgg(0.98)[0] * 100)}% / ${Beautify(dropRateEgg(0.9)[0] * 100)}%`,\n            ),\n            Game.season === 'easter',\n          ),\n        );\n      }\n      if (missingRareEggs.length !== 0) {\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Rare easter eggs left to unlock',\n            StatsMissDisp(missingRareEggs),\n            Game.season === 'easter',\n          ),\n        );\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Chance of receiving a rare egg from wrinkler/golden cookie',\n            document.createTextNode(\n              `${Beautify(dropRateEgg(0.98)[1] * 100)}% / ${Beautify(dropRateEgg(0.9)[1] * 100)}%`,\n            ),\n            Game.season === 'easter',\n          ),\n        );\n      }\n\n      if (Game.season === 'christmas')\n        section.appendChild(\n          StatsMissDispListing(\n            'basic',\n            'Reindeer reward',\n            document.createTextNode(Beautify(CacheSeaSpec)),\n            true,\n          ),\n        );\n      if (choEgg) {\n        section.appendChild(\n          StatsListing(\n            'withTooltip',\n            'Chocolate egg cookies',\n            document.createTextNode(Beautify(CacheLastChoEgg)),\n            'ChoEggTooltipPlaceholder',\n          ),\n        );\n      }\n      if (centEgg) {\n        section.appendChild(\n          StatsListing(\n            'basic',\n            'Century egg multiplier',\n            document.createTextNode(`${Math.round((CacheCentEgg - 1) * 10000) / 100}%`),\n          ),\n        );\n      }\n    }\n  }\n  return section;\n}\n","function CrateTooltipLockedAchievements(me) {\n  const tags = [];\n  if (me.pool === 'shadow') tags.push('Shadow Achievement', '#9700cf');\n  else tags.push('Achievement', 0);\n  tags.push('Locked', 0);\n\n  let neuromancy = 0;\n  if (Game.Has('Neuromancy') || (Game.sesame && me.pool === 'debug')) neuromancy = 1;\n  if (neuromancy && me.won === 0) tags.push('Click to win!', '#00c462');\n  else if (neuromancy && me.won > 0) tags.push('Click to lose!', '#00c462');\n\n  let { icon } = me;\n  if (me.iconFunction) icon = me.iconFunction();\n\n  let { desc } = me;\n  if (me.descFunc) desc = me.descFunc('stats');\n\n  let tagsStr = '';\n  for (let i = 0; i < tags.length; i += 2) {\n    if (i % 2 === 0)\n      tagsStr += ` <div class=\"tag\" style=\"color:${tags[i + 1] === 0 ? '#fff' : tags[i + 1]};\">[${\n        tags[i]\n      }]</div>`;\n  }\n  tagsStr = tagsStr.substring(1);\n\n  return `<div style=\"padding:8px 4px;min-width:350px;opacity:0.5\">\n  <div class=\"icon\" style=\"float:left;margin-left:-8px;margin-top:-8px;background-position:${\n    -icon[0] * 48\n  }px ${-icon[1] * 48}px;\"></div>\n  <div class=\"name\">${me.name}</div>\n  ${tagsStr}<div class=\"line\"></div><div class=\"description\">${desc}</div></div>\n  ${\n    Game.sesame\n      ? `<div style=\"font-size:9px;\">Id : ${me.id} | Order : ${Math.floor(me.order)}${\n          me.tier ? ` | Tier : ${me.tier}` : ''\n        }</div>`\n      : ''\n  }`;\n}\n\n/**\n * This function overwrites the crates of missing achievements\n */\nexport default function AddMissingAchievements() {\n  let achievs;\n  Object.values(document.querySelectorAll('div.title')).forEach((i) => {\n    if (i.textContent.includes('Achievements')) {\n      achievs = i.parentElement.querySelectorAll('div.listing.crateBox')[0];\n    }\n  });\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.MissingAchievements) {\n    Object.values(achievs.children).forEach((achievsCrate) => {\n      if (!achievsCrate.className.includes('enabled')) {\n        const id = achievsCrate.onclick.toString().split(/\\[(.*)\\]/gi)[1];\n        const { icon } = Game.AchievementsById[id];\n        // eslint-disable-next-line no-param-reassign\n        achievsCrate.style.backgroundPosition = `${-icon[0] * 48}px ${-icon[1] * 48}px`;\n        // eslint-disable-next-line no-param-reassign\n        achievsCrate.onmouseover = function () {\n          if (!Game.mouseDown) {\n            Game.setOnCrate(this);\n            Game.tooltip.dynamic = 1;\n            Game.tooltip.draw(\n              this,\n              () =>\n                (function () {\n                  return CrateTooltipLockedAchievements(Game.AchievementsById[id]);\n                })(),\n              'top',\n            );\n            Game.tooltip.wobble();\n          }\n        };\n      }\n    });\n  }\n}\n","/** Main function to create the sections of Cookie Monster on the Statistics page */\n\nimport { AddMissingUpgrades } from './CreateMissingUpgrades';\nimport * as CreateSections from './CreateStatsSections';\nimport * as CreateElements from './CreateDOMElements';\nimport * as GameData from '../../../Data/Gamedata.ts';\n\nimport {\n  CacheAverageClicks,\n  CacheAverageCookiesFromClicks,\n  CacheObjectsNextAchievement,\n  CacheWrinklersFattest,\n  CacheWrinklersNormal,\n  CacheWrinklersTotal,\n} from '../../../Cache/VariablesAndData';\nimport PopAllNormalWrinklers from '../../HelperFunctions/PopWrinklers';\nimport { ClickTimes, CookieTimes } from '../../VariablesAndData';\nimport GetCPS from '../../HelperFunctions/GetCPS';\nimport Beautify from '../../BeautifyAndFormatting/Beautify';\nimport AddMissingAchievements from './CreateMissingAchievements';\n\n/**\n * This function adds stats created by CookieMonster to the stats page\n * It is called by CM.Disp.AddMenu\n * @param {object} title\tOn object that includes the title of the menu\n */\nexport default function AddMenuStats(title) {\n  const stats = document.createElement('div');\n  stats.className = 'subsection';\n  stats.appendChild(title);\n\n  stats.appendChild(CreateElements.StatsHeader('Lucky Cookies', 'Lucky'));\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.Lucky) {\n    stats.appendChild(CreateSections.LuckySection());\n  }\n\n  stats.appendChild(CreateElements.StatsHeader('Chain Cookies', 'Chain'));\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.Chain) {\n    stats.appendChild(CreateSections.ChainSection());\n  }\n\n  if (Game.Objects['Wizard tower'].minigameLoaded) {\n    stats.appendChild(CreateElements.StatsHeader('Spells', 'Spells'));\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.Spells) {\n      stats.appendChild(CreateSections.SpellsSection());\n    }\n  }\n\n  if (Game.Objects.Farm.minigameLoaded) {\n    stats.appendChild(CreateElements.StatsHeader('Garden', 'Garden'));\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.Garden) {\n      stats.appendChild(CreateSections.GardenSection());\n    }\n  }\n\n  stats.appendChild(CreateElements.StatsHeader('Prestige', 'Prestige'));\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.Prestige) {\n    stats.appendChild(CreateSections.PrestigeSection());\n  }\n\n  if (Game.cpsSucked > 0) {\n    stats.appendChild(CreateElements.StatsHeader('Wrinklers', 'Wrink'));\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.Wrink) {\n      const popAllFrag = document.createDocumentFragment();\n      popAllFrag.appendChild(\n        document.createTextNode(\n          `${Beautify(CacheWrinklersTotal)} / ${Beautify(CacheWrinklersNormal)} `,\n        ),\n      );\n      const popAllA = document.createElement('a');\n      popAllA.textContent = 'Pop All Normal';\n      popAllA.className = 'option';\n      popAllA.onclick = function () {\n        PopAllNormalWrinklers();\n      };\n      popAllFrag.appendChild(popAllA);\n      stats.appendChild(\n        CreateElements.StatsListing('basic', 'Rewards of Popping (All/Normal)', popAllFrag),\n      );\n      const popFattestFrag = document.createDocumentFragment();\n      popFattestFrag.appendChild(document.createTextNode(`${Beautify(CacheWrinklersFattest[0])} `));\n      const popFattestA = document.createElement('a');\n      popFattestA.textContent = 'Pop Single Fattest';\n      popFattestA.className = 'option';\n      popFattestA.onclick = function () {\n        if (CacheWrinklersFattest[1] !== null) Game.wrinklers[CacheWrinklersFattest[1]].hp = 0;\n      };\n      popFattestFrag.appendChild(popFattestA);\n      stats.appendChild(\n        CreateElements.StatsListing(\n          'basic',\n          `Rewards of Popping Single Fattest Non-Shiny Wrinkler (id: ${\n            CacheWrinklersFattest[1] !== null ? CacheWrinklersFattest[1] : 'None'\n          })`,\n          popFattestFrag,\n        ),\n      );\n    }\n  }\n\n  stats.appendChild(CreateSections.SeasonSection());\n\n  stats.appendChild(CreateElements.StatsHeader('Achievements', 'Achievs'));\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.Achievs) {\n    Object.keys(Game.Objects).forEach((i) => {\n      const ObjectsTillNext = CacheObjectsNextAchievement[i];\n      stats.appendChild(\n        CreateElements.StatsListing(\n          'basic',\n          i,\n          ObjectsTillNext.AmountNeeded < 101\n            ? document.createTextNode(\n                `Next achievement in ${ObjectsTillNext.AmountNeeded}, price: ${Beautify(\n                  ObjectsTillNext.price,\n                )}`,\n              )\n            : document.createTextNode('No new achievement for next 100 buildings'),\n        ),\n      );\n    });\n  }\n\n  stats.appendChild(CreateElements.StatsHeader('Miscellaneous', 'Misc'));\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.Misc) {\n    stats.appendChild(\n      CreateElements.StatsListing(\n        'basic',\n        `Average cookies per second (past ${\n          CookieTimes[\n            Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgCPSHist\n          ] < 60\n            ? `${\n                CookieTimes[\n                  Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgCPSHist\n                ]\n              } seconds`\n            : CookieTimes[\n                Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgCPSHist\n              ] /\n                60 +\n              (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgCPSHist === 3\n                ? ' minute'\n                : ' minutes')\n        })`,\n        document.createTextNode(Beautify(GetCPS(), 3)),\n      ),\n    );\n    stats.appendChild(\n      CreateElements.StatsListing(\n        'basic',\n        `Average cookie clicks per second (past ${\n          ClickTimes[\n            Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgClicksHist\n          ]\n        }${\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgClicksHist === 0\n            ? ' second'\n            : ' seconds'\n        })`,\n        document.createTextNode(Beautify(CacheAverageClicks, 1)),\n      ),\n    );\n    stats.appendChild(\n      CreateElements.StatsListing(\n        'basic',\n        `Cookies from clicking (past ${\n          ClickTimes[\n            Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgClicksHist\n          ]\n        }${\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgClicksHist === 0\n            ? ' second'\n            : ' seconds'\n        })`,\n        document.createTextNode(\n          Beautify(\n            CacheAverageCookiesFromClicks.calcSum(\n              CacheAverageClicks *\n                ClickTimes[\n                  Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.AvgClicksHist\n                ],\n            ),\n          ),\n        ),\n      ),\n    );\n    if (Game.Has('Fortune cookies')) {\n      const fortunes = [];\n      Object.keys(GameData.Fortunes).forEach((i) => {\n        if (!Game.Has(GameData.Fortunes[i])) {\n          fortunes.push(GameData.Fortunes[i]);\n        }\n      });\n      if (fortunes.length !== 0)\n        stats.appendChild(\n          CreateElements.StatsListing(\n            'basic',\n            'Fortune Upgrades Left to Buy',\n            CreateElements.StatsMissDisp(fortunes),\n          ),\n        );\n    }\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ShowMissedGC) {\n      stats.appendChild(\n        CreateElements.StatsListing(\n          'basic',\n          'Missed golden cookies',\n          document.createTextNode(Beautify(Game.missedGoldenClicks)),\n        ),\n      );\n    }\n    if (Game.prefs.autosave) {\n      const timer = document.createElement('span');\n      timer.id = 'CMStatsAutosaveTimer';\n      timer.innerText = Game.sayTime(\n        Game.fps * 60 - (Game.OnAscend ? 0 : Game.T % (Game.fps * 60)),\n        4,\n      );\n      stats.appendChild(CreateElements.StatsListing('basic', 'Time till autosave', timer));\n    }\n  }\n\n  l('menu').insertBefore(stats, l('menu').childNodes[2]);\n\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.MissingUpgrades) {\n    AddMissingUpgrades();\n  }\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.MissingAchievements) {\n    AddMissingAchievements();\n  }\n}\n","/** Data related to the display titles of certain sections in menu screens */\n\n/** Display titles of the headers of the Cookie Monster settings section */\nexport const ConfigGroups: { [index: string]: string } = {\n  Favourite: 'Favourite Settings',\n  Calculation: 'Calculation',\n  Notation: 'Notation',\n  Colours: 'Colours and colour coding',\n  BarsDisplay: 'Infobars and visual settings',\n  Tooltip: 'Tooltips',\n  Statistics: 'Statistics',\n  Notification: 'Notifications',\n  Miscellaneous: 'Miscellaneous',\n};\n\n/** Display titles of the headers of the notification section of the Cookie Monster settings */\nexport const ConfigGroupsNotification: { [index: string]: string } = {\n  NotificationGeneral: 'General Notifications',\n  NotificationGC: 'Golden Cookie',\n  NotificationFC: 'Fortune Cookie',\n  NotificationSea: 'Season Special',\n  NotificationGard: 'Garden Tick',\n  NotificationMagi: 'Full Magic Bar',\n  NotificationWrink: 'Wrinkler',\n  NotificationWrinkMax: 'Maximum Wrinklers',\n};\n","import { ToggleHeader } from '../../../Config/ToggleSetting';\n\n/**\n * This function creates a header-object for the options page\n * @param \t{string}\t\tconfig\tThe name of the Config-group\n * @param \t{string}\t\ttext\tThe to-be displayed name of the header\n * @returns\t{object}\t\tdiv\t\tThe header object\n */\nexport default function CreatePrefHeader(config, text) {\n  const div = document.createElement('div');\n  div.className = 'title';\n\n  div.style.opacity = '0.7';\n  div.style.fontSize = '17px';\n  div.appendChild(document.createTextNode(`${text} `));\n  const span = document.createElement('span'); // Creates the +/- button\n  span.style.cursor = 'pointer';\n  span.style.display = 'inline-block';\n  span.style.height = '14px';\n  span.style.width = '14px';\n  span.style.borderRadius = '7px';\n  span.style.textAlign = 'center';\n  span.style.backgroundColor = '#C0C0C0';\n  span.style.color = 'black';\n  span.style.fontSize = '13px';\n  span.style.verticalAlign = 'middle';\n  span.textContent = Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers[config]\n    ? '-'\n    : '+';\n  span.onclick = function () {\n    ToggleHeader(config);\n    Game.UpdateMenu();\n  };\n  div.appendChild(span);\n  return div;\n}\n","import { FavouriteSettings } from '../../Disp/VariablesAndData';\n\n/**\n * This function toggles whether a setting is part of the favourites section in setting or not\n * @param {string} config\tThe name of the toggleable config option\n */\nexport default function ToggleFavouriteSetting(config) {\n  if (FavouriteSettings.includes(config))\n    FavouriteSettings = FavouriteSettings.filter((ele) => ele !== config);\n  else FavouriteSettings.push(config);\n}\n","import UpdateBuildings from '../BuildingsUpgrades/Buildings';\nimport {\n  ColourBackPre,\n  ColourBorderPre,\n  ColoursOrdering,\n  ColourTextPre,\n} from '../VariablesAndData';\n\n/**\n * This function changes/refreshes colours if the user has set new standard colours\n * The function is therefore called by a change in CM.Options.Colours\n */\nexport default function UpdateColours() {\n  let str = '';\n  for (let i = 0; i < ColoursOrdering.length; i++) {\n    str += `.${ColourTextPre}${ColoursOrdering[i]} { color: ${\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[\n        `Colour${ColoursOrdering[i]}`\n      ]\n    }; }\\n`;\n  }\n  for (let i = 0; i < ColoursOrdering.length; i++) {\n    str += `.${ColourBackPre}${ColoursOrdering[i]} { background-color: ${\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[\n        `Colour${ColoursOrdering[i]}`\n      ]\n    }; }\\n`;\n  }\n  for (let i = 0; i < ColoursOrdering.length; i++) {\n    str += `.${ColourBorderPre}${ColoursOrdering[i]} { border: 1px solid ${\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[\n        `Colour${ColoursOrdering[i]}`\n      ]\n    }; }\\n`;\n  }\n  l('CMCSS').textContent = str;\n  UpdateBuildings(); // Class has been already set\n}\n","/** Variable that shows if Cookie Moonster is initzializing */\nexport let isInitializing = false; // eslint-disable-line prefer-const\nexport let test;\n","import { isInitializing } from '../../InitSaveLoad/Variables';\n\n/**\n * This function creates a flash depending on configs. It is called by all functions\n * that check game-events and which have settings for Flashes (e.g., Golden Cookies appearing, Magic meter being full)\n * @param\t{number}\tmode\tSets the intensity of the flash, used to recursively dim flash\n * \t\t\t\t\t\t\t\tAll calls of function have use mode === 3\n * @param\t{string}\tconfig\tThe setting in CM.Options that is checked before creating the flash\n * @param\t{bool}    forced\t\tWhether the sound should play regardless of settings, used to test the sound\n */\nexport default function Flash(mode, config, forced) {\n  // The arguments check makes the sound not play upon initialization of the mod\n  if (\n    ((Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config] === 1 ||\n      forced) &&\n      mode === 3 &&\n      isInitializing === false) ||\n    mode === 1\n  ) {\n    l('CMFlashScreen').style.backgroundColor =\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[`Colour${config}`];\n    l('CMFlashScreen').style.opacity = '0.5';\n    if (mode === 3) {\n      l('CMFlashScreen').style.display = 'inline';\n      setTimeout(() => {\n        Flash(2, config, true);\n      }, 1000 / Game.fps);\n    } else {\n      setTimeout(() => {\n        Flash(0, config, true);\n      }, 1000 / Game.fps);\n    }\n  } else if (mode === 2) {\n    l('CMFlashScreen').style.opacity = '1';\n    setTimeout(() => {\n      Flash(1, config, true);\n    }, 1000 / Game.fps);\n  } else if (mode === 0) l('CMFlashScreen').style.display = 'none';\n}\n","import { isInitializing } from '../../InitSaveLoad/Variables';\n\n/**\n * This function plays a sound depending on configs. It is called by all functions\n * that check game-events and which have settings for sound (e.g., Golden Cookies appearing, Magic meter being full)\n * @param\t{variable}\turl\t\t\tA variable that gives the url for the sound (e.g., CM.Options.GCSoundURL)\n * @param\t{string}\tsndConfig\tThe setting in CM.Options that is checked before creating the sound\n * @param\t{string}\tvolConfig\tThe setting in CM.Options that is checked to determine volume\n * @param\t{bool}    forced\t\tWhether the sound should play regardless of settings, used to test the sound\n */\nexport default function PlaySound(url, sndConfig, volConfig, forced) {\n  // The arguments check makes the sound not play upon initialization of the mod\n  if (\n    (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[sndConfig] === 1 ||\n      forced) &&\n    isInitializing === false\n  ) {\n    // eslint-disable-next-line new-cap\n    const sound = new Audio(url);\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.GeneralSound)\n      sound.volume =\n        (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[volConfig] / 100) *\n        (Game.volume / 100);\n    else\n      sound.volume =\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[volConfig] / 100;\n    sound.play();\n  }\n}\n","/** Creates a Prompt similar to the base game without some of the stuff breaking them */\nexport default function CookieMonsterPrompt(content, options) {\n  Game.promptWrapL.className = 'framed';\n  const str = content;\n  Game.promptL.innerHTML = `${str}<div class=\"optionBox\"></div>`;\n  Object.keys(options).forEach((i) => {\n    const option = document.createElement('a');\n    option.id = `promptOption${i}`;\n    option.className = 'option';\n    option.onclick = function () {\n      PlaySound('snd/tick.mp3');\n      options[i][1]();\n    };\n    option.textContent = options[i][0];\n    Game.promptL.children[1].appendChild(option);\n  });\n  Game.promptAnchorL.style.display = 'block';\n  Game.darkenL.style.display = 'block';\n  Game.promptL.focus();\n  Game.promptOn = 1;\n  Game.UpdatePrompt();\n}\n","import saveFramework from '@cookiemonsterteam/cookiemonsterframework/src/saveDataFunctions/saveFramework';\nimport jscolor, * as JsColor from '@eastdesire/jscolor';\nimport ToggleFavouriteSetting from '../../../Config/Toggles/ToggleFavourites';\nimport { ConfigPrefix, ToggleConfig, ToggleConfigVolume } from '../../../Config/ToggleSetting';\nimport {} from '../../../Data/Sectionheaders.ts';\nimport settings from '../../../Data/settings';\nimport RefreshScale from '../../HelperFunctions/RefreshScale';\nimport UpdateColours from '../../HelperFunctions/UpdateColours';\nimport Flash from '../../Notifications/Flash';\nimport PlaySound from '../../Notifications/Sound';\nimport { FavouriteSettings, SimpleTooltipElements } from '../../VariablesAndData';\nimport CookieMonsterPrompt from '../Prompt';\n\n/**\n * This function creates the favourite setting star object\n * @param \t{string}\t\tconfig\tThe name of the option\n * @returns\t{object}\t\tdiv\t\tThe option object\n */\nfunction CreateFavouriteStar(config) {\n  const FavStar = document.createElement('a');\n  if (FavouriteSettings.includes(config)) {\n    FavStar.innerText = '';\n    FavStar.style.color = 'yellow';\n  } else FavStar.innerText = '';\n  FavStar.className = 'option';\n  FavStar.onclick = function () {\n    ToggleFavouriteSetting(config);\n    saveFramework();\n    Game.UpdateMenu();\n  };\n  FavStar.onmouseover = function () {\n    Game.tooltip.draw(this, escape(SimpleTooltipElements.FavouriteSettingPlaceholder.innerHTML));\n  };\n  FavStar.onmouseout = function () {\n    Game.tooltip.hide();\n  };\n  FavStar.appendChild(document.createTextNode(' '));\n  return FavStar;\n}\n\n/**\n * This function creates an option-object for the options page\n * @param \t{string}\t\tconfig\tThe name of the option\n * @returns\t{object}\t\tdiv\t\tThe option object\n */\nexport default function CreatePrefOption(config) {\n  const div = document.createElement('div');\n  div.className = 'listing';\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.FavouriteSettings === 1) {\n    div.appendChild(CreateFavouriteStar(config));\n  }\n  if (settings[config].type === 'bool') {\n    const a = document.createElement('a');\n    if (\n      settings[config].toggle &&\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config] === 0\n    ) {\n      a.className = 'option off';\n    } else {\n      a.className = 'option';\n    }\n    a.id = ConfigPrefix + config;\n    a.onclick = function () {\n      ToggleConfig(config);\n      Game.UpdateMenu();\n    };\n    a.textContent =\n      settings[config].label[\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config]\n      ];\n    div.appendChild(a);\n    const label = document.createElement('label');\n    label.textContent = settings[config].desc;\n    label.style.lineHeight = '1.6';\n    div.appendChild(label);\n    return div;\n  }\n  if (settings[config].type === 'vol') {\n    const volume = document.createElement('div');\n    volume.className = 'sliderBox';\n    const title = document.createElement('div');\n    title.style.float = 'left';\n    title.innerHTML = settings[config].desc;\n    volume.appendChild(title);\n    const percent = document.createElement('div');\n    percent.id = `slider${config}right`;\n    percent.style.float = 'right';\n    percent.innerHTML = `${Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config]}%`;\n    volume.appendChild(percent);\n    const slider = document.createElement('input');\n    slider.className = 'slider';\n    slider.id = `slider${config}`;\n    slider.style.clear = 'both';\n    slider.type = 'range';\n    slider.min = '0';\n    slider.max = '100';\n    slider.step = '1';\n    slider.value = Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config];\n    slider.oninput = function () {\n      ToggleConfigVolume(config);\n      Game.UpdateMenu();\n    };\n    slider.onchange = function () {\n      ToggleConfigVolume(config);\n      Game.UpdateMenu();\n    };\n    volume.appendChild(slider);\n    div.appendChild(volume);\n    const a = document.createElement('a');\n    a.className = 'option';\n    a.onclick = function () {\n      PlaySound(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[\n          config.replace('Volume', 'SoundURL')\n        ],\n        config.replace('Volume', 'Sound'),\n        config,\n        true,\n      );\n    };\n    a.textContent = 'Test sound';\n    div.appendChild(a);\n    return div;\n  }\n  if (settings[config].type === 'url') {\n    const span = document.createElement('span');\n    span.className = 'option';\n    span.textContent = `${settings[config].label} `;\n    span.style.lineHeight = '1.6';\n    div.appendChild(span);\n    const input = document.createElement('input');\n    input.id = ConfigPrefix + config;\n    input.className = 'option';\n    input.type = 'text';\n    input.readOnly = true;\n    input.setAttribute(\n      'value',\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config],\n    );\n    input.style.width = '300px';\n    div.appendChild(input);\n    div.appendChild(document.createTextNode(' '));\n    const inputPrompt = document.createElement('input');\n    inputPrompt.id = `${ConfigPrefix + config}Prompt`;\n    inputPrompt.className = 'option';\n    inputPrompt.type = 'text';\n    inputPrompt.setAttribute(\n      'value',\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config],\n    );\n    const a = document.createElement('a');\n    a.className = 'option';\n    a.onclick = function () {\n      CookieMonsterPrompt(inputPrompt.outerHTML, [\n        [\n          'Save',\n          function () {\n            Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config] = l(\n              `${ConfigPrefix}${config}Prompt`,\n            ).value;\n            saveFramework();\n            Game.ClosePrompt();\n            Game.UpdateMenu();\n          },\n        ],\n        [\n          'Cancel',\n          function () {\n            Game.ClosePrompt();\n          },\n        ],\n      ]);\n    };\n    a.textContent = 'Edit';\n    div.appendChild(a);\n    const label = document.createElement('label');\n    label.textContent = settings[config].desc;\n    label.style.lineHeight = '1.6';\n    div.appendChild(label);\n    return div;\n  }\n  if (settings[config].type === 'colour') {\n    const innerSpan = document.createElement('span');\n    innerSpan.className = 'option';\n    const input = document.createElement('input');\n    input.id = config;\n    input.style.width = '65px';\n    input.setAttribute(\n      'value',\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config],\n    );\n    innerSpan.appendChild(input);\n    const change = function () {\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[this.targetElement.id] =\n        this.toHEXString();\n      UpdateColours();\n      saveFramework();\n      Game.UpdateMenu();\n    };\n    // eslint-disable-next-line no-new\n    new JsColor(input, { hash: true, position: 'right', onInput: change });\n    const label = document.createElement('label');\n    label.textContent = settings[config].desc;\n    label.style.lineHeight = '1.6';\n    innerSpan.appendChild(label);\n    if (config.includes('Flash')) {\n      const a = document.createElement('a');\n      a.className = 'option';\n      a.onclick = function () {\n        Flash(3, config.replace('Colour', ''), true);\n      };\n      a.textContent = 'Test flash';\n      innerSpan.appendChild(a);\n    }\n    div.appendChild(innerSpan);\n    jscolor.init();\n    return div;\n  }\n  if (settings[config].type === 'numscale') {\n    const span = document.createElement('span');\n    span.className = 'option';\n    span.textContent = `${settings[config].label} `;\n    span.style.lineHeight = '1.6';\n    div.appendChild(span);\n    const input = document.createElement('input');\n    input.id = ConfigPrefix + config;\n    input.className = 'option';\n    input.type = 'number';\n    input.value = Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config];\n    input.min = settings[config].min;\n    input.max = settings[config].max;\n    input.oninput = function () {\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[config] = this.value;\n      saveFramework();\n      RefreshScale();\n      Game.UpdateMenu();\n    };\n    div.appendChild(input);\n    div.appendChild(document.createTextNode(' '));\n    const label = document.createElement('label');\n    label.textContent = settings[config].desc;\n    label.style.lineHeight = '1.6';\n    div.appendChild(label);\n    return div;\n  }\n  return div;\n}\n","import { ConfigGroups, ConfigGroupsNotification } from '../../../Data/Sectionheaders.ts';\nimport settings from '../../../Data/settings';\nimport { FavouriteSettings } from '../../VariablesAndData';\nimport CreatePrefHeader from './CreateHeader';\nimport CreatePrefOption from './CreateOption';\n\n/**\n * This function adds the options/settings of CookieMonster to the options page\n * It is called by CM.Disp.AddMenu\n * @param {object} title\tOn object that includes the title of the menu\n */\nexport default function AddMenuPref(title) {\n  const frag = document.createDocumentFragment();\n  frag.appendChild(title);\n\n  Object.keys(ConfigGroups).forEach((group) => {\n    if (group === 'Favourite') {\n      if (\n        FavouriteSettings.length !== 0 &&\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.FavouriteSettings > 0\n      ) {\n        frag.appendChild(CreatePrefHeader(group, ConfigGroups[group])); // (group, display-name of group)\n        if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers[group])\n          for (let index = 0; index < FavouriteSettings.length; index++) {\n            frag.appendChild(CreatePrefOption(FavouriteSettings[index]));\n          }\n      }\n    } else {\n      frag.appendChild(CreatePrefHeader(group, ConfigGroups[group])); // (group, display-name of group)\n      if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers[group]) {\n        // 0 is show, 1 is collapsed\n        // Make sub-sections of Notification section\n        if (group === 'Notification') {\n          Object.keys(ConfigGroupsNotification).forEach((subGroup) => {\n            const subGroupObject = CreatePrefHeader(subGroup, ConfigGroupsNotification[subGroup]); // (group, display-name of group)\n            subGroupObject.style.fontSize = '15px';\n            subGroupObject.style.opacity = '0.5';\n            frag.appendChild(subGroupObject);\n            if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers[subGroup]) {\n              Object.keys(settings).forEach((option) => {\n                if (settings[option].group === subGroup) frag.appendChild(CreatePrefOption(option));\n              });\n            }\n          });\n        } else {\n          Object.keys(settings).forEach((option) => {\n            if (settings[option].group === group) frag.appendChild(CreatePrefOption(option));\n          });\n        }\n      }\n    }\n  });\n\n  l('menu').childNodes[2].insertBefore(\n    frag,\n    l('menu').childNodes[2].childNodes[l('menu').childNodes[2].childNodes.length - 1],\n  );\n}\n","import AddMenuStats from './Statistics/AddStatsPage';\nimport AddMenuPref from './Settings/SettingsPage';\n\n/**\n * This function adds the calll the functions to add extra info to the stats and options pages\n */\nexport default function AddMenu() {\n  const title = document.createElement('div');\n  title.className = 'title';\n\n  if (Game.onMenu === 'prefs') {\n    title.textContent = 'Cookie Monster Settings';\n    AddMenuPref(title);\n  } else if (Game.onMenu === 'stats') {\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Stats) {\n      title.textContent = 'Cookie Monster Statistics';\n      AddMenuStats(title);\n    }\n  }\n}\n","/** Functions related to updating the tab in the browser's tab-bar */\n\nimport { CacheSeasonPopShimmer, CacheSpawnedGoldenShimmer } from '../../Cache/VariablesAndData';\n\nimport { LastSeasonPopupState, LastTickerFortuneState } from '../../Main/VariablesAndData';\nimport { Title } from '../VariablesAndData';\n\n/**\n * This function updates the tab title\n * It is called on every loop by Game.Logic() which also sets CM.Disp.Title to Game.cookies\n */\nexport default function UpdateTitle() {\n  if (\n    Game.OnAscend ||\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Title === 0\n  ) {\n    document.title = Title;\n  } else if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Title === 1) {\n    let addFC = false;\n    let addSP = false;\n    let titleGC;\n    let titleFC;\n    let titleSP;\n\n    if (CacheSpawnedGoldenShimmer) {\n      if (CacheSpawnedGoldenShimmer.wrath)\n        titleGC = `[W${Math.ceil(CacheSpawnedGoldenShimmer.life / Game.fps)}]`;\n      else titleGC = `[G${Math.ceil(CacheSpawnedGoldenShimmer.life / Game.fps)}]`;\n    } else if (!Game.Has('Golden switch [off]')) {\n      titleGC = `[${Number(l('CMTimerBarGCMinBar').textContent) < 0 ? '!' : ''}${Math.ceil(\n        (Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.time) / Game.fps,\n      )}]`;\n    } else titleGC = '[GS]';\n\n    if (LastTickerFortuneState) {\n      addFC = true;\n      titleFC = '[F]';\n    }\n\n    if (Game.season === 'christmas') {\n      addSP = true;\n      if (LastSeasonPopupState) titleSP = `[R${Math.ceil(CacheSeasonPopShimmer.life / Game.fps)}]`;\n      else {\n        titleSP = `[${Number(l('CMTimerBarRenMinBar').textContent) < 0 ? '!' : ''}${Math.ceil(\n          (Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.time) / Game.fps,\n        )}]`;\n      }\n    }\n\n    // Remove previous timers and add current cookies\n    let str = Title;\n    if (str.charAt(0) === '[') {\n      str = str.substring(str.lastIndexOf(']') + 1);\n    }\n    document.title = `${titleGC + (addFC ? titleFC : '') + (addSP ? titleSP : '')} ${str}`;\n  } else if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.Title === 2) {\n    let str = '';\n    let spawn = false;\n    if (CacheSpawnedGoldenShimmer) {\n      spawn = true;\n      if (CacheSpawnedGoldenShimmer.wrath)\n        str += `[W${Math.ceil(CacheSpawnedGoldenShimmer.life / Game.fps)}]`;\n      else str += `[G${Math.ceil(CacheSpawnedGoldenShimmer.life / Game.fps)}]`;\n    }\n    if (LastTickerFortuneState) {\n      spawn = true;\n      str += '[F]';\n    }\n    if (Game.season === 'christmas' && LastSeasonPopupState) {\n      str += `[R${Math.ceil(CacheSeasonPopShimmer.life / Game.fps)}]`;\n      spawn = true;\n    }\n    if (spawn) str += ' - ';\n    let title = 'Cookie Clicker';\n    if (Game.season === 'fools') title = 'Cookie Baker';\n    str += title;\n    document.title = str;\n  }\n}\n","import {\n  CacheHCPerSecond,\n  CacheLastHeavenlyChips,\n  CacheTimeTillNextPrestige,\n} from '../../Cache/VariablesAndData';\nimport Beautify from '../BeautifyAndFormatting/Beautify';\n\n/**\n * This function creates a header object for tooltips.\n * @param\t{string}\ttext\tTitle of header\n * @returns {object}\tdiv\t\tAn object containing the stylized header\n */\nexport default function ReplaceAscendTooltip() {\n  const cookiesToNext = Math.max(\n    0,\n    Game.HowManyCookiesReset(\n      Math.floor(Game.HowMuchPrestige(Game.cookiesReset + Game.cookiesEarned)) + 1,\n    ) -\n      (Game.cookiesEarned + Game.cookiesReset),\n  );\n\n  const startDate = Game.sayTime(((Date.now() - Game.startDate) / 1000) * Game.fps, -1);\n  let str = '';\n  str += `You've been on this run for <b>${\n    startDate === '' ? 'not very long' : startDate\n  }</b>.<br>`;\n  str += '<div class=\"line\"></div>';\n  if (Game.prestige > 0) {\n    str += `Your prestige level is currently <b>${Beautify(Game.prestige)}</b>.<br>(CpS +${Beautify(\n      Game.prestige,\n    )}%)`;\n    str += '<div class=\"line\"></div>';\n  }\n  if (CacheLastHeavenlyChips < 1) str += 'Ascending now would grant you no prestige.';\n  else if (CacheLastHeavenlyChips < 2)\n    str +=\n      'Ascending now would grant you<br><b>1 prestige level</b> (+1% CpS)<br>and <b>1 heavenly chip</b> to spend.';\n  else\n    str += `Ascending now would grant you<br><b>${Beautify(\n      CacheLastHeavenlyChips,\n    )} prestige levels</b> (+${Beautify(CacheLastHeavenlyChips)}% CpS)<br>and <b>${Beautify(\n      CacheLastHeavenlyChips,\n    )} heavenly chips</b> to spend.`;\n  str += '<div class=\"line\"></div>';\n  str += `You need <b>${Beautify(cookiesToNext)} more cookies</b> for the next level.<br>`;\n  str += `${\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TooltipAscendButton\n      ? `<div class='line'></div>It takes ${CacheTimeTillNextPrestige} to reach the next level and you were making ${Beautify(\n          CacheHCPerSecond,\n          2,\n        )} chips on average in the last 5 seconds.<br>`\n      : ''\n  }`;\n  l('ascendTooltip').innerHTML = str;\n}\n","/**\n * This function updates the location of the tooltip\n * It is called by Game.tooltip.update() because of CM.Main.ReplaceNative()\n */\nexport default function UpdateTooltipLocation() {\n  if (Game.tooltip.origin === 'store') {\n    let warnOffset = 0;\n    if (\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnLucky === 1 &&\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.ToolWarnPos === 1 &&\n      l('CMDispTooltipWarningParent') !== null\n    ) {\n      warnOffset = l('CMDispTooltipWarningParent').clientHeight - 4;\n    }\n    Game.tooltip.tta.style.top = `${Math.min(\n      parseInt(Game.tooltip.tta.style.top, 10),\n      l('game').clientHeight +\n        l('topBar').clientHeight -\n        Game.tooltip.tt.clientHeight -\n        warnOffset -\n        46,\n    )}px`;\n  }\n  // Kept for future possible use if the code changes again\n  /* else if (!Game.onCrate && !Game.OnAscend && CM.Options.TimerBar === 1 && CM.Options.TimerBarPos === 0) {\n\t\tGame.tooltip.tta.style.top = (parseInt(Game.tooltip.tta.style.top) + parseInt(CM.Disp.TimerBar.style.height)) + 'px';\n\t} */\n}\n","import { CreateTooltip } from '../../Disp/Tooltips/Tooltip';\nimport { TooltipUpgradeBackup } from '../VariablesAndData';\n\n/**\n * This function replaces the original .onmouseover functions of upgrades so that it calls CM.Disp.Tooltip()\n * CM.Disp.Tooltip() sets the tooltip type to 'u'\n * It is called by Game.RebuildUpgrades() through CM.Main.ReplaceNative() and is therefore not permanent like the other ReplaceTooltip functions\n */\nexport default function ReplaceTooltipUpgrade() {\n  TooltipUpgradeBackup = [];\n  Object.keys(Game.UpgradesInStore).forEach((i) => {\n    if (l(`upgrade${i}`).onmouseover !== null) {\n      TooltipUpgradeBackup[i] = l(`upgrade${i}`).onmouseover;\n      l(`upgrade${i}`).onmouseover = function () {\n        if (!Game.mouseDown) {\n          Game.setOnCrate(this);\n          Game.tooltip.dynamic = 1;\n          Game.tooltip.draw(this, () => CreateTooltip('u', `${i}`), 'store');\n          Game.tooltip.wobble();\n        }\n      };\n    }\n  });\n}\n","/**\n * This function fixes Game.mouseY as a result of bars that are added by CookieMonster\n * It is called by Game.UpdateWrinklers(), Game.UpdateSpecial() and the .onmousover of the BigCookie\n * before execution of their actual function\n */\nexport default function FixMouseY(target) {\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBar === 1 &&\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBarPos === 0\n  ) {\n    const timerBarHeight = parseInt(l('CMTimerBar').style.height, 10);\n    Game.mouseY -= timerBarHeight;\n    target();\n    Game.mouseY += timerBarHeight;\n  } else {\n    target();\n  }\n}\n","import jscolor from '@eastdesire/jscolor';\n\nimport CMBeautify from '../../Disp/BeautifyAndFormatting/Beautify';\nimport FormatTime from '../../Disp/BeautifyAndFormatting/FormatTime';\nimport { AddAuraInfo, AddDragonLevelUpTooltip } from '../../Disp/Dragon/Dragon';\nimport AddMenu from '../../Disp/MenuSections/AddMenus';\nimport UpdateTitle from '../../Disp/TabTitle/TabTitle';\nimport ReplaceAscendTooltip from '../../Disp/Tooltips/AscendButton';\nimport UpdateTooltipLocation from '../../Disp/Tooltips/PositionLocation';\nimport { CMSayTime, Title } from '../../Disp/VariablesAndData'; // eslint-disable-line no-unused-vars\nimport { SimDoSims } from '../../Sim/VariablesAndData'; // eslint-disable-line no-unused-vars\nimport ReplaceTooltipUpgrade from '../ReplaceGameElements/TooltipUpgrades';\nimport {\n  BackupFunctions,\n  CenturyDateAtBeginLoop, // eslint-disable-line no-unused-vars\n  CycliusDateAtBeginLoop, // eslint-disable-line no-unused-vars\n} from '../VariablesAndData';\nimport FixMouseY from './FixMouse';\n\n/**\n * This function replaces certain native (from the base-game) functions\n */\nexport default function ReplaceNative() {\n  // eslint-disable-next-line no-undef\n  BackupFunctions.Beautify = Beautify;\n  // eslint-disable-next-line no-undef\n  Beautify = CMBeautify;\n\n  BackupFunctions.CalculateGains = Game.CalculateGains;\n  Game.CalculateGains = function () {\n    BackupFunctions.CalculateGains();\n    SimDoSims = 1;\n    CycliusDateAtBeginLoop = Date.now();\n    CenturyDateAtBeginLoop = Date.now();\n  };\n\n  BackupFunctions.tooltip = {};\n  BackupFunctions.tooltip.draw = Game.tooltip.draw;\n  BackupFunctions.tooltip.drawMod = new Function( // eslint-disable-line no-new-func\n    `return ${Game.tooltip.draw.toString().split('this').join('Game.tooltip')}`,\n  )();\n  Game.tooltip.draw = function (from, text, origin) {\n    BackupFunctions.tooltip.drawMod(from, text, origin);\n  };\n\n  BackupFunctions.tooltip.update = Game.tooltip.update;\n  BackupFunctions.tooltip.updateMod = new Function( // eslint-disable-line no-new-func\n    `return ${Game.tooltip.update.toString().split('this.').join('Game.tooltip.')}`,\n  )();\n  Game.tooltip.update = function () {\n    BackupFunctions.tooltip.updateMod();\n    UpdateTooltipLocation();\n  };\n\n  BackupFunctions.UpdateWrinklers = Game.UpdateWrinklers;\n  Game.UpdateWrinklers = function () {\n    FixMouseY(BackupFunctions.UpdateWrinklers);\n  };\n\n  BackupFunctions.UpdateSpecial = Game.UpdateSpecial;\n  Game.UpdateSpecial = function () {\n    FixMouseY(BackupFunctions.UpdateSpecial);\n  };\n\n  // Assumes newer browsers\n  l('bigCookie').removeEventListener('click', Game.ClickCookie, false);\n  l('bigCookie').addEventListener(\n    'click',\n    () => {\n      FixMouseY(Game.ClickCookie);\n    },\n    false,\n  );\n\n  BackupFunctions.RebuildUpgrades = Game.RebuildUpgrades;\n  Game.RebuildUpgrades = function () {\n    BackupFunctions.RebuildUpgrades();\n    ReplaceTooltipUpgrade();\n    Game.CalculateGains();\n  };\n\n  BackupFunctions.ClickProduct = Game.ClickProduct;\n  /**\n   * This function adds a check to the purchase of a building to allow BulkBuyBlock to work.\n   * If the options is 1 (on) bulkPrice is under cookies you can't buy the building.\n   */\n  Game.ClickProduct = function (what) {\n    if (\n      !Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.BulkBuyBlock ||\n      Game.ObjectsById[what].bulkPrice < Game.cookies ||\n      Game.buyMode === -1\n    ) {\n      BackupFunctions.ClickProduct(what);\n    }\n  };\n\n  BackupFunctions.DescribeDragonAura = Game.DescribeDragonAura;\n  /**\n   * This function adds the function CM.Disp.AddAuraInfo() to Game.DescribeDragonAura()\n   * This adds information about CPS differences and costs to the aura choosing interface\n   * @param\t{number}\taura\tThe number of the aura currently selected by the mouse/user\n   */\n  Game.DescribeDragonAura = function (aura) {\n    BackupFunctions.DescribeDragonAura(aura);\n    AddAuraInfo(aura);\n  };\n\n  BackupFunctions.ToggleSpecialMenu = Game.ToggleSpecialMenu;\n  /**\n   * This function adds the code to display the tooltips for the levelUp button of the dragon\n   */\n  Game.ToggleSpecialMenu = function (on) {\n    BackupFunctions.ToggleSpecialMenu(on);\n    AddDragonLevelUpTooltip();\n  };\n\n  BackupFunctions.UpdateMenu = Game.UpdateMenu;\n  Game.UpdateMenu = function () {\n    if (typeof jscolor.picker === 'undefined' || typeof jscolor.picker.owner === 'undefined') {\n      BackupFunctions.UpdateMenu();\n      AddMenu();\n    }\n  };\n\n  BackupFunctions.sayTime = Game.sayTime;\n  // eslint-disable-next-line no-unused-vars\n  CMSayTime = function (time, detail) {\n    if (Number.isNaN(time) || time <= 0) return BackupFunctions.sayTime(time, detail);\n    return FormatTime(time / Game.fps, 1);\n  };\n\n  BackupFunctions.Logic = Game.Logic;\n  Game.Logic = function () {\n    BackupFunctions.Logic();\n\n    // Update tab title\n    let title = 'Cookie Clicker';\n    if (Game.season === 'fools') title = 'Cookie Baker';\n    // eslint-disable-next-line no-unused-vars\n    Title = `${Game.OnAscend ? 'Ascending! ' : ''}${CMBeautify(Game.cookies)} ${\n      Game.cookies === 1 ? 'cookie' : 'cookies'\n    } - ${title}`;\n    UpdateTitle();\n\n    // Since the Ascend Tooltip is not actually a tooltip we need to add our additional info here...\n    ReplaceAscendTooltip();\n  };\n}\n","import { TooltipWrinklerArea, TooltipWrinklerBeingShown } from '../../Disp/VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This function creates .onmouseover/out events that determine if the mouse is hovering-over a Wrinkler\n * As wrinklers are not appended to the DOM we us a different system than for other tooltips\n */\nexport default function AddWrinklerAreaDetect() {\n  l('backgroundLeftCanvas').onmouseover = function () {\n    TooltipWrinklerArea = 1;\n  };\n  l('backgroundLeftCanvas').onmouseout = function () {\n    TooltipWrinklerArea = 0;\n    Game.tooltip.hide();\n    Object.keys(Game.wrinklers).forEach((i) => {\n      TooltipWrinklerBeingShown[i] = 0;\n    });\n  };\n}\n","/**\n * This function toggle the locked state of a building\n * @param\t{number}\tindex\tIndex of the row to change\n */\nexport default function ToggleBuildingLock(index) {\n  if (l(`productLock${index}`).innerHTML === 'Unlocked') {\n    l(`productLock${index}`).innerHTML = 'Locked';\n    l(`row${index}`).children[3].style.pointerEvents = 'none';\n  } else {\n    l(`productLock${index}`).innerHTML = 'Unlocked';\n    l(`row${index}`).children[3].style.pointerEvents = 'auto';\n  }\n}\n","import ToggleBuildingLock from './ToggleBuildingLock';\n\n/**\n * This function adds a lock button to the \"building view\" in the middle section\n */\nexport default function CreateBuildingLockButtons() {\n  Object.keys(l('rows').children).forEach((index) => {\n    const productButtons = l('rows').children[index].children[1];\n    const button = document.createElement('div');\n    button.id = `productLock${Number(index) + 1}`;\n    button.className = 'productButton';\n    button.innerHTML = 'Unlocked';\n    button.onclick = function () {\n      ToggleBuildingLock(Number(index) + 1);\n    };\n    productButtons.appendChild(button);\n  });\n}\n","import { menuFunctions } from '@cookiemonsterteam/cookiemonsterframework';\nimport { LatestReleaseNotes, ModDescription } from '../../Data/Moddata.ts';\n\n/**\n * Creates the <div> to be added to the Info section\n * @returns {object} menuDiv\tObject of the <div> of Cookie Monster in info tab\n */\nexport default function createMenuInfo() {\n  const menuDiv = menuFunctions.createModMenuSection(\n    'cookieMonsterMod',\n    'Cookie Monster',\n    'infoMenu',\n  );\n\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.headers.infoMenu) {\n    menuDiv.appendChild(menuFunctions.createInfoListing(ModDescription));\n    menuDiv.appendChild(menuFunctions.createInfoListing(LatestReleaseNotes));\n  }\n\n  return menuDiv;\n}\n","import InitCache from '../Cache/CacheInit';\nimport { CacheStatsCookies } from '../Cache/Stats/Stats';\nimport { VersionMajor, VersionMinor } from '../Data/Moddata.ts';\nimport CreateUpgradeBar from '../Disp/BuildingsUpgrades/UpgradeBar';\nimport { CreateBotBar } from '../Disp/InfoBars/BottomBar';\nimport { CreateTimerBar } from '../Disp/InfoBars/TimerBar';\nimport CreateSectionHideButtons from '../Disp/Initialization/CreateSectionHideButtons';\nimport CreateWrinklerButtons from '../Disp/Initialization/CreateWrinklerButton';\nimport CreateCssArea from '../Disp/Initialization/CssArea';\nimport UpdateBuildingUpgradeStyle from '../Disp/Initialization/UpdateBuildingUpgradeStyle';\nimport CreateFlashScreen from '../Disp/Initialization/FlashScreen';\nimport { CreateFavicon } from '../Disp/TabTitle/FavIcon';\nimport { CreateSimpleTooltip } from '../Disp/Tooltips/Tooltip';\nimport { CMLastAscendState, TooltipText } from '../Disp/VariablesAndData'; // eslint-disable-line no-unused-vars\nimport InitData from '../Sim/InitializeData/InitData';\nimport ReplaceNativeGrimoire from './ReplaceGameElements/NativeGrimoire';\nimport ReplaceTooltips from './ReplaceGameElements/Tooltips';\nimport ReplaceNative from './ReplaceGameFunctions/ReplaceNative';\nimport { LastModCount } from './VariablesAndData'; // eslint-disable-line no-unused-vars\nimport AddWrinklerAreaDetect from './WrinklerArea/AddDetectArea';\nimport CreateBuildingLockButtons from '../Disp/Buildings/CreateBuildingLockButtons';\nimport createMenuInfo from '../Disp/MenuSections/createMenuInfo';\n\n/**\n * Initialization loop of Cookie Monster\n */\nexport default function InitializeCookieMonster() {\n  // Create global data object\n  window.CookieMonsterData = {};\n\n  // Register listeners in Cookie Monster Mod Framework\n  Game.mods.cookieMonsterFramework.listeners.infoMenu.push(createMenuInfo);\n\n  InitData();\n  CacheStatsCookies();\n  InitCache();\n\n  // Stored to check if we need to re-initiliaze data\n  LastModCount = Object.keys(Game.mods).length;\n\n  // Creating visual elements\n  CreateCssArea();\n  CreateBotBar();\n  CreateTimerBar();\n  CreateUpgradeBar();\n  CreateFlashScreen();\n  CreateSectionHideButtons();\n  CreateFavicon();\n  Object.keys(TooltipText).forEach((i) => {\n    CreateSimpleTooltip(TooltipText[i][0], TooltipText[i][1], TooltipText[i][2]);\n  });\n  CreateWrinklerButtons();\n  UpdateBuildingUpgradeStyle();\n  CreateBuildingLockButtons();\n\n  ReplaceTooltips();\n  AddWrinklerAreaDetect();\n\n  // Replace native functions\n  ReplaceNative();\n  ReplaceNativeGrimoire();\n  Game.CalculateGains();\n\n  CMLastAscendState = Game.OnAscend;\n\n  if (Game.prefs.popups)\n    Game.Popup(`Cookie Monster version ${VersionMajor}.${VersionMinor} loaded!`);\n  else Game.Notify(`Cookie Monster version ${VersionMajor}.${VersionMinor} loaded!`, '', '', 1, 1);\n\n  Game.Win('Third-party');\n}\n","import { SimObjects } from '../../Sim/VariablesAndData';\nimport { CacheCurrWrinklerCount, CacheCurrWrinklerCPSMult } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This functions caches the current Wrinkler CPS multiplier\n * @global\t{number}\tCM.Cache.CurrWrinklerCount\t\tCurrent number of wrinklers\n * @global\t{number}\tCM.Cache.CurrWrinklerCPSMult\tCurrent multiplier of CPS because of wrinklers (excluding their negative sucking effect)\n */\nexport default function CacheCurrWrinklerCPS() {\n  CacheCurrWrinklerCPSMult = 0;\n  let count = 0;\n  Object.keys(Game.wrinklers).forEach((i) => {\n    if (Game.wrinklers[i].phase === 2) count += 1;\n  });\n  let godMult = 1;\n  if (SimObjects.Temple.minigameLoaded) {\n    const godLvl = Game.hasGod('scorn');\n    if (godLvl === 1) godMult *= 1.15;\n    else if (godLvl === 2) godMult *= 1.1;\n    else if (godLvl === 3) godMult *= 1.05;\n  }\n  CacheCurrWrinklerCount = count;\n  CacheCurrWrinklerCPSMult =\n    count *\n    (count * 0.05 * 1.1) *\n    (Game.Has('Sacrilegious corruption') * 0.05 + 1) *\n    (Game.Has('Wrinklerspawn') * 0.05 + 1) *\n    godMult;\n}\n","import FormatTime from '../Disp/BeautifyAndFormatting/FormatTime';\nimport GetCPS from '../Disp/HelperFunctions/GetCPS';\nimport CacheAvgCPS from './CPS/CPS';\nimport CacheCurrWrinklerCPS from './CPS/CurrWrinklerCPS';\nimport CachePP from './PP/PP';\nimport CacheHeavenlyChipsPS from './Stats/HeavenlyChips';\nimport AllAmountTillNextAchievement from './TillNextAchievement/AllAmountTillNextAchievement';\nimport { CacheTimeTillNextPrestige } from './VariablesAndData'; // eslint-disable-line no-unused-vars\nimport CacheWrinklers from './Wrinklers/Wrinklers';\n\n/**\n * This functions caches variables that are needed every loop\n * @global\t{string}\tCM.Cache.TimeTillNextPrestige\tTime requried till next prestige level\n */\nexport default function LoopCache() {\n  // Update Wrinkler Bank\n  CacheWrinklers();\n\n  CachePP();\n  AllAmountTillNextAchievement(false);\n  CacheCurrWrinklerCPS();\n  CacheAvgCPS();\n  CacheHeavenlyChipsPS();\n\n  const cookiesToNext =\n    Game.HowManyCookiesReset(\n      Math.floor(Game.HowMuchPrestige(Game.cookiesReset + Game.cookiesEarned)) + 1,\n    ) -\n    (Game.cookiesEarned + Game.cookiesReset);\n  CacheTimeTillNextPrestige = FormatTime(cookiesToNext / GetCPS());\n}\n","import CopyData from '../SimulationData/CopyData';\nimport { SimCookiesPs, SimUpgrades } from '../VariablesAndData';\nimport CalculateGains from './CalculateGains';\n\n/**\n * This function calculates CPS without the Golden Switch\n * It is called by CM.Cache.NoGoldSwitchCPS()\n */\nexport default function CalcNoGoldSwitchCPS() {\n  CopyData();\n  SimUpgrades['Golden switch [off]'].bought = 0;\n  CalculateGains();\n  return SimCookiesPs;\n}\n","import CalcNoGoldSwitchCPS from '../../Sim/Calculations/NoGoldenSwitchCalc';\nimport { CacheNoGoldSwitchCookiesPS } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This function calculates CPS without the Golden Switch as it might be needed in other functions\n * If so it CM.Sim.Win()'s them and the caller function will know to recall CM.Sim.CalculateGains()\n * It is called at the end of any functions that simulates certain behaviour\n */\nexport default function CacheNoGoldSwitchCPS() {\n  if (Game.Has('Golden switch [off]')) {\n    CacheNoGoldSwitchCookiesPS = CalcNoGoldSwitchCPS();\n  } else CacheNoGoldSwitchCookiesPS = Game.cookiesPs;\n}\n","import CopyData from '../SimulationData/CopyData';\nimport { SimBuildingsOwned, SimDragonAura, SimDragonAura2, SimObjects } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\nimport BuildingSell from './SellBuilding';\n\n/**\n * This function calculates the maximum cookies obtained from selling buildings just before purchasing the chocolate egg\n * It is called by CM.Cache.CacheSellForChoEgg()\n * @returns\t{number}\tsellTotal\tThe maximum cookies to be earned\n */\nexport default function SellBuildingsForChoEgg() {\n  let sellTotal = 0;\n\n  CopyData();\n\n  // Change auras to Earth Shatterer + Reality bending to optimize money made by selling\n  let buildingsToSacrifice = 2;\n  if (SimDragonAura === 5 || SimDragonAura === 18) {\n    buildingsToSacrifice -= 1;\n  }\n  if (SimDragonAura2 === 5 || SimDragonAura2 === 18) {\n    buildingsToSacrifice -= 1;\n  }\n  SimDragonAura = 5;\n  SimDragonAura2 = 18;\n\n  // Sacrifice highest buildings for the aura switch\n  for (let i = 0; i < buildingsToSacrifice; ++i) {\n    let highestBuilding = 'Cursor';\n    Object.keys(SimObjects).forEach((j) => {\n      if (SimObjects[j].amount > 0) {\n        highestBuilding = j;\n      }\n    });\n    SimObjects[highestBuilding].amount -= 1;\n    SimBuildingsOwned -= 1;\n  }\n\n  // Get money made by selling all remaining buildings\n  Object.keys(SimObjects).forEach((i) => {\n    const me = SimObjects[i];\n    sellTotal += BuildingSell(\n      Game.Objects[me.name],\n      Game.Objects[i].basePrice,\n      me.amount,\n      Game.Objects[i].free,\n      me.amount,\n    );\n  });\n\n  return sellTotal;\n}\n","import SellBuildingsForChoEgg from '../../Sim/SimulationEvents/SellBuildingForChoEgg';\nimport { CacheSellForChoEgg } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This functions caches the reward for selling the Chocolate egg\n * It is called by CM.Main.Loop()\n * @global\t{number}\tCM.Cache.SellForChoEgg\tTotal cookies to be gained from selling Chocolate egg\n */\nexport default function CacheSellAllForChoEgg() {\n  let sellTotal = 0;\n  // Compute cookies earned by selling stock market goods\n  if (Game.Objects.Bank.minigameLoaded) {\n    const marketGoods = Game.Objects.Bank.minigame.goods;\n    let goodsVal = 0;\n    Object.keys(marketGoods).forEach((i) => {\n      const marketGood = marketGoods[i];\n      goodsVal += marketGood.stock * marketGood.val;\n    });\n    sellTotal += goodsVal * Game.cookiesPsRawHighest;\n  }\n  // Compute cookies earned by selling all buildings with optimal auras (ES + RB)\n  sellTotal += SellBuildingsForChoEgg();\n  CacheSellForChoEgg = sellTotal;\n}\n","import CalculateGains from '../Calculations/CalculateGains';\nimport CheckOtherAchiev from '../Calculations/CheckOtherAchiev';\nimport CopyData from '../SimulationData/CopyData';\nimport { SimAchievementsOwned, SimCookiesPs, SimGod1, SimGod2, SimGod3 } from '../VariablesAndData'; // eslint-disable-line no-unused-vars\n\n/**\n * This functions calculates the cps and cost of changing a Dragon Aura\n * It is called by CM.Disp.AddAuraInfo()\n * @param\t{number}\tgod\t\tThe number of the slot to be swapped in\n * @param\t{number     slot\tThe slot the god will go to\n * @returns {number} \tCM.Sim.cookiesPs - Game.cookiesPs   The bonus cps and the price of the change\n */\nexport default function CalculateChangeGod(god, slot) {\n  if (!Game.Objects.Temple.minigameLoaded) return 0;\n  CopyData();\n  const { minigame } = Game.Objects.Temple;\n  const CurrentSlot = minigame.godsById[god].slot;\n  if (CurrentSlot === '0') SimGod1 = minigame.slot[slot];\n  else if (CurrentSlot === '1') SimGod2 = minigame.slot[slot];\n  else if (CurrentSlot === '2') SimGod3 = minigame.slot[slot];\n  /* eslint-disable no-unused-vars */\n  if (slot === 0) SimGod1 = god;\n  else if (slot === 1) SimGod2 = god;\n  else if (slot === 2) SimGod3 = god;\n  /* eslint-enable no-unused-vars */\n\n  const lastAchievementsOwned = SimAchievementsOwned;\n  CalculateGains();\n\n  CheckOtherAchiev();\n  if (lastAchievementsOwned !== SimAchievementsOwned) {\n    CalculateGains();\n  }\n  return SimCookiesPs - Game.cookiesPs;\n}\n","import CalculateChangeGod from '../../Sim/SimulationEvents/GodChange';\nimport { CacheGods } from '../VariablesAndData';\n\n/**\n * This functions caches the cps effect of each God in slot 1, 2 or 3\n */\nexport default function CachePantheonGods() {\n  for (let god = 0; god < 11; god += 1) {\n    for (let slot = 0; slot < 3; slot += 1) {\n      CacheGods[god][slot] = CalculateChangeGod(god, slot);\n    }\n  }\n}\n","import { ToggleTimerBar } from '../../Config/SpecificToggles';\nimport ToggleBotBar from '../../Config/Toggles/ToggleBotBar';\n\nimport UpdateBackground from './UpdateBackground';\n\n/**\n * This function disables and shows the bars created by CookieMonster when the game is \"ascending\"\n * It is called by CM.Disp.Draw()\n */\nexport default function UpdateAscendState() {\n  if (Game.OnAscend) {\n    l('game').style.bottom = '0px';\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.BotBar === 1)\n      l('CMBotBar').style.display = 'none';\n    if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.TimerBar === 1)\n      l('CMTimerBar').style.display = 'none';\n  } else {\n    ToggleBotBar();\n    ToggleTimerBar();\n  }\n  UpdateBackground();\n}\n","import Flash from '../../Disp/Notifications/Flash';\nimport PlaySound from '../../Disp/Notifications/Sound';\nimport { LastGardenNextStep } from '../VariablesAndData';\n\n/**\n * This function checks if a garden tick has happened\n */\nexport default function CheckGardenTick() {\n  if (\n    Game.Objects.Farm.minigameLoaded &&\n    LastGardenNextStep !== Game.Objects.Farm.minigame.nextStep\n  ) {\n    if (LastGardenNextStep !== 0 && LastGardenNextStep < Date.now()) {\n      Flash(3, 'GardFlash', false);\n      PlaySound(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.GardSoundURL,\n        'GardSound',\n        'GardVolume',\n        false,\n      );\n    }\n    LastGardenNextStep = Game.Objects.Farm.minigame.nextStep;\n  }\n}\n","/** Section: Functions related to the Golden Cookie Timers */\n\nimport { GCTimers } from '../VariablesAndData';\n\n/**\n * This function creates a new Golden Cookie Timer and appends it CM.Disp.GCTimers based on the id of the cookie\n * @param\t{object}\tcookie\tA Golden Cookie object\n */\nexport default function CreateGCTimer(cookie) {\n  const GCTimer = document.createElement('div');\n  GCTimer.id = `GCTimer${cookie.id}`;\n  GCTimer.style.width = '96px';\n  GCTimer.style.height = '96px';\n  GCTimer.style.position = 'absolute';\n  GCTimer.style.zIndex = '10000000001';\n  GCTimer.style.textAlign = 'center';\n  GCTimer.style.lineHeight = '96px';\n  GCTimer.style.fontFamily = '\"Kavoon\", Georgia, serif';\n  GCTimer.style.fontSize = '35px';\n  GCTimer.style.cursor = 'pointer';\n  GCTimer.style.display = 'block';\n  GCTimer.style.pointerEvents = 'none';\n  if (Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.GCTimer === 0)\n    GCTimer.style.display = 'none';\n  GCTimer.style.left = cookie.l.style.left;\n  GCTimer.style.top = cookie.l.style.top;\n  GCTimer.onclick = function () {\n    cookie.pop();\n  };\n  GCTimer.onmouseover = function () {\n    cookie.l.style.filter = 'brightness(125%) drop-shadow(0px 0px 3px rgba(255,255,255,1))'; // eslint-disable-line no-param-reassign\n    cookie.l.style.webkitFilter = 'brightness(125%) drop-shadow(0px 0px 3px rgba(255,255,255,1))'; // eslint-disable-line no-param-reassign\n  };\n  GCTimer.onmouseout = function () {\n    cookie.l.style.filter = ''; // eslint-disable-line no-param-reassign\n    cookie.l.style.webkitFilter = ''; // eslint-disable-line no-param-reassign\n  };\n\n  GCTimers[cookie.id] = GCTimer;\n  l('shimmers').appendChild(GCTimer);\n}\n","import { isInitializing } from '../../InitSaveLoad/Variables';\n\n/**\n * This function creates a notifcation depending on configs. It is called by all functions\n * that check game-events and which have settings for notifications (e.g., Golden Cookies appearing, Magic meter being full)\n * @param\t{string}\tnotifyConfig\tThe setting in CM.Options that is checked before creating the notification\n * @param\t{string}\ttitle\t\t\tThe title of the to-be created notifications\n * @param\t{string}\tmessage\t\t\tThe text of the to-be created notifications\n */\nexport default function CreateNotification(notifyConfig, title, message) {\n  // The arguments check makes the sound not play upon initialization of the mod\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings[notifyConfig] === 1 &&\n    document.visibilityState === 'hidden' &&\n    isInitializing === false\n  ) {\n    const CookieIcon = 'https://orteil.dashnet.org/cookieclicker/favicon.ico';\n    // eslint-disable-next-line no-new\n    new Notification(title, { body: message, badge: CookieIcon });\n  }\n}\n","import { CacheSpawnedGoldenShimmer, CacheGoldenShimmersByID } from '../../Cache/VariablesAndData'; // eslint-disable-line no-unused-vars\nimport CreateGCTimer from '../../Disp/GoldenCookieTimers/GoldenCookieTimers';\nimport Flash from '../../Disp/Notifications/Flash';\nimport CreateNotification from '../../Disp/Notifications/Notification';\nimport PlaySound from '../../Disp/Notifications/Sound';\nimport { UpdateFavicon } from '../../Disp/TabTitle/FavIcon';\nimport { GCTimers } from '../../Disp/VariablesAndData';\nimport {\n  CurrSpawnedGoldenCookieState,\n  LastGoldenCookieState,\n  LastSpawnedGoldenCookieState,\n} from '../VariablesAndData';\n\n/**\n * Auxilirary function that finds all currently spawned shimmers.\n * CM.Cache.spawnedGoldenShimmer stores the non-user spawned cookie to later determine data for the favicon and tab-title\n * It is called by CM.CM.Main.CheckGoldenCookie\n */\nfunction FindShimmer() {\n  CurrSpawnedGoldenCookieState = 0;\n  CacheGoldenShimmersByID = {};\n  Object.keys(Game.shimmers).forEach((i) => {\n    CacheGoldenShimmersByID[Game.shimmers[i].id] = Game.shimmers[i];\n    if (Game.shimmers[i].spawnLead && Game.shimmers[i].type === 'golden') {\n      CacheSpawnedGoldenShimmer = Game.shimmers[i];\n      CurrSpawnedGoldenCookieState += 1;\n    }\n  });\n}\n\n/**\n * This function checks for changes in the amount of Golden Cookies\n * It is called by CM.Main.Loop\n */\nexport default function CheckGoldenCookie() {\n  FindShimmer();\n  Object.keys(GCTimers).forEach((i) => {\n    if (typeof CacheGoldenShimmersByID[i] === 'undefined') {\n      GCTimers[i].parentNode.removeChild(GCTimers[i]);\n      delete GCTimers[i];\n    }\n  });\n  if (LastGoldenCookieState !== Game.shimmerTypes.golden.n) {\n    LastGoldenCookieState = Game.shimmerTypes.golden.n;\n    if (LastGoldenCookieState) {\n      if (LastSpawnedGoldenCookieState < CurrSpawnedGoldenCookieState) {\n        Flash(3, 'GCFlash', false);\n        PlaySound(\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.GCSoundURL,\n          'GCSound',\n          'GCVolume',\n          false,\n        );\n        CreateNotification(\n          'GCNotification',\n          'Golden Cookie Spawned',\n          'A Golden Cookie has spawned. Click it now!',\n        );\n      }\n\n      Object.keys(Game.shimmers).forEach((i) => {\n        if (typeof GCTimers[Game.shimmers[i].id] === 'undefined') {\n          CreateGCTimer(Game.shimmers[i]);\n        }\n      });\n    }\n    UpdateFavicon();\n    LastSpawnedGoldenCookieState = CurrSpawnedGoldenCookieState;\n    if (CurrSpawnedGoldenCookieState === 0) CacheSpawnedGoldenShimmer = 0;\n  } else if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.GCTimer === 1 &&\n    LastGoldenCookieState\n  ) {\n    Object.keys(GCTimers).forEach((i) => {\n      GCTimers[i].style.opacity = CacheGoldenShimmersByID[i].l.style.opacity;\n      GCTimers[i].style.transform = CacheGoldenShimmersByID[i].l.style.transform;\n      GCTimers[i].textContent = Math.ceil(CacheGoldenShimmersByID[i].life / Game.fps);\n    });\n  }\n}\n","import Flash from '../../Disp/Notifications/Flash';\nimport CreateNotification from '../../Disp/Notifications/Notification';\nimport PlaySound from '../../Disp/Notifications/Sound';\nimport { LastMagicBarFull } from '../VariablesAndData';\n\n/**\n * This function checks if the magic meter is full\n * It is called by CM.Main.Loop\n */\nexport default function CheckMagicMeter() {\n  if (\n    Game.Objects['Wizard tower'].minigameLoaded &&\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.GrimoireBar === 1\n  ) {\n    const { minigame } = Game.Objects['Wizard tower'];\n    if (minigame.magic < minigame.magicM) LastMagicBarFull = false;\n    else if (!LastMagicBarFull) {\n      LastMagicBarFull = true;\n      Flash(3, 'MagicFlash', false);\n      PlaySound(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.MagicSoundURL,\n        'MagicSound',\n        'MagicVolume',\n        false,\n      );\n      CreateNotification(\n        'MagicNotification',\n        'Magic Meter full',\n        'Your Magic Meter is full. Cast a spell!',\n      );\n    }\n  }\n}\n","import { CacheSeasonPopShimmer } from '../../Cache/VariablesAndData'; // eslint-disable-line no-unused-vars\nimport Flash from '../../Disp/Notifications/Flash';\nimport CreateNotification from '../../Disp/Notifications/Notification';\nimport PlaySound from '../../Disp/Notifications/Sound';\nimport { LastSeasonPopupState } from '../VariablesAndData';\n\n/**\n * This function checks if there is reindeer that has spawned\n * It is called by CM.Main.Loop\n */\nexport default function CheckSeasonPopup() {\n  if (LastSeasonPopupState !== Game.shimmerTypes.reindeer.spawned) {\n    LastSeasonPopupState = Game.shimmerTypes.reindeer.spawned;\n    Object.keys(Game.shimmers).forEach((i) => {\n      if (Game.shimmers[i].spawnLead && Game.shimmers[i].type === 'reindeer') {\n        CacheSeasonPopShimmer = Game.shimmers[i];\n      }\n    });\n    Flash(3, 'SeaFlash', false);\n    PlaySound(\n      Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.SeaSoundURL,\n      'SeaSound',\n      'SeaVolume',\n      false,\n    );\n    CreateNotification(\n      'SeaNotification',\n      'Reindeer sighted!',\n      'A Reindeer has spawned. Click it now!',\n    );\n  }\n}\n","import Flash from '../../Disp/Notifications/Flash';\nimport CreateNotification from '../../Disp/Notifications/Notification';\nimport PlaySound from '../../Disp/Notifications/Sound';\nimport { LastTickerFortuneState } from '../VariablesAndData';\n\n/**\n * This function checks if there is a fortune cookie on the ticker\n * It is called by CM.Main.Loop\n */\nexport default function CheckTickerFortune() {\n  if (LastTickerFortuneState !== (Game.TickerEffect && Game.TickerEffect.type === 'fortune')) {\n    LastTickerFortuneState = Game.TickerEffect && Game.TickerEffect.type === 'fortune';\n    if (LastTickerFortuneState) {\n      Flash(3, 'FortuneFlash', false);\n      PlaySound(\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.FortuneSoundURL,\n        'FortuneSound',\n        'FortuneVolume',\n        false,\n      );\n      CreateNotification(\n        'FortuneNotification',\n        'Fortune Cookie found',\n        'A Fortune Cookie has appeared on the Ticker.',\n      );\n    }\n  }\n}\n","import Flash from '../../Disp/Notifications/Flash';\nimport CreateNotification from '../../Disp/Notifications/Notification';\nimport PlaySound from '../../Disp/Notifications/Sound';\nimport { LastWrinklerCount } from '../VariablesAndData';\n\n/**\n * This function checks if any new Wrinklers have popped up\n * It is called by CM.Main.Loop\n */\nexport default function CheckWrinklerCount() {\n  if (Game.elderWrath > 0) {\n    let CurrentWrinklers = 0;\n    Object.keys(Game.wrinklers).forEach((i) => {\n      if (Game.wrinklers[i].phase === 2) CurrentWrinklers += 1;\n    });\n    if (CurrentWrinklers > LastWrinklerCount) {\n      LastWrinklerCount = CurrentWrinklers;\n      if (\n        CurrentWrinklers === Game.getWrinklersMax() &&\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.WrinklerMaxFlash\n      ) {\n        Flash(3, 'WrinklerMaxFlash', false);\n      } else {\n        Flash(3, 'WrinklerFlash', false);\n      }\n      if (\n        CurrentWrinklers === Game.getWrinklersMax() &&\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.WrinklerMaxSound\n      ) {\n        PlaySound(\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.WrinklerMaxSoundURL,\n          'WrinklerMaxSound',\n          'WrinklerMaxVolume',\n          false,\n        );\n      } else {\n        PlaySound(\n          Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.WrinklerSoundURL,\n          'WrinklerSound',\n          'WrinklerVolume',\n          false,\n        );\n      }\n      if (\n        CurrentWrinklers === Game.getWrinklersMax() &&\n        Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.settings.WrinklerMaxNotification\n      ) {\n        CreateNotification(\n          'WrinklerMaxNotification',\n          'Maximum Wrinklers Reached',\n          'You have reached your maximum ammount of wrinklers',\n        );\n      } else {\n        CreateNotification(\n          'WrinklerNotification',\n          'A Wrinkler appeared',\n          'A new wrinkler has appeared',\n        );\n      }\n    } else {\n      LastWrinklerCount = CurrentWrinklers;\n    }\n  }\n}\n","import InitCache from '../Cache/CacheInit';\nimport LoopCache from '../Cache/CacheLoop';\nimport CacheNoGoldSwitchCPS from '../Cache/CPS/NoGoldSwitchCPS';\nimport CacheSellAllForChoEgg from '../Cache/CPS/SellChoEgg';\nimport CacheDragonCost from '../Cache/Dragon/Dragon';\nimport CachePantheonGods from '../Cache/PantheonGods/CacheGods';\nimport { CacheBuildingsPrices, CacheIncome } from '../Cache/PriceAndIncome/PriceAndIncome';\nimport { CacheChain } from '../Cache/Stats/ChainCookies';\nimport CacheAllMissingUpgrades from '../Cache/Stats/MissingUpgrades';\nimport CacheSeasonSpec from '../Cache/Stats/Reindeer';\nimport { CacheGoldenAndWrathCookiesMults, CacheStatsCookies } from '../Cache/Stats/Stats';\nimport AllAmountTillNextAchievement from '../Cache/TillNextAchievement/AllAmountTillNextAchievement';\nimport { CacheDoRemakeBuildPrices, CacheHadBuildAura } from '../Cache/VariablesAndData';\nimport UpdateAscendState from '../Disp/HelperFunctions/UpdateAscendState';\nimport { LastAscendState } from '../Disp/VariablesAndData';\nimport InitData from '../Sim/InitializeData/InitData';\nimport { SimDoSims } from '../Sim/VariablesAndData';\nimport CheckGardenTick from './CheckStates/Garden';\nimport CheckGoldenCookie from './CheckStates/GoldenCookie';\nimport CheckMagicMeter from './CheckStates/Grimoire';\nimport CheckSeasonPopup from './CheckStates/Season';\nimport CheckTickerFortune from './CheckStates/Ticker';\nimport CheckWrinklerCount from './CheckStates/Wrinkler';\nimport { LastModCount } from './VariablesAndData';\n\n/**\n * Main loop of Cookie Monster\n * CM.init registers it to the \"logic\" hook provided by the modding api\n */\nexport default function CMLoopHook() {\n  if (LastAscendState !== Game.OnAscend) {\n    LastAscendState = Game.OnAscend;\n    UpdateAscendState();\n  }\n  if (!Game.OnAscend && Game.AscendTimer === 0) {\n    // Check if any other mods have been loaded\n    if (LastModCount !== Object.keys(Game.mods).length) {\n      InitData();\n      InitCache();\n      LastModCount = Object.keys(Game.mods).length;\n    }\n\n    // CM.Sim.DoSims is set whenever CPS has changed\n    if (SimDoSims) {\n      AllAmountTillNextAchievement(true);\n      CacheIncome();\n\n      CacheNoGoldSwitchCPS(); // Needed first\n      CacheGoldenAndWrathCookiesMults();\n      CacheStatsCookies();\n      CacheAllMissingUpgrades();\n      CacheChain();\n      CacheDragonCost();\n      CachePantheonGods();\n\n      CacheSeasonSpec();\n      CacheSellAllForChoEgg();\n\n      SimDoSims = 0;\n    }\n\n    // Check for aura change to recalculate buildings prices\n    const hasBuildAura = Game.auraMult('Fierce Hoarder') > 0;\n    if (!CacheHadBuildAura && hasBuildAura) {\n      CacheHadBuildAura = true;\n      CacheDoRemakeBuildPrices = 1;\n    } else if (CacheHadBuildAura && !hasBuildAura) {\n      CacheHadBuildAura = false;\n      CacheDoRemakeBuildPrices = 1;\n    }\n\n    if (CacheDoRemakeBuildPrices) {\n      CacheBuildingsPrices();\n      CacheDoRemakeBuildPrices = 0;\n    }\n\n    LoopCache();\n\n    // Check all changing minigames and game-states\n    CheckTickerFortune();\n    CheckSeasonPopup();\n    CheckGardenTick();\n    CheckMagicMeter();\n    CheckWrinklerCount();\n  }\n  // To remove Timers when ascending\n  CheckGoldenCookie();\n}\n","import { initFunctions } from '@cookiemonsterteam/cookiemonsterframework';\nimport { VersionMajor, VersionMinor } from '../Data/Moddata.ts';\nimport CMDrawHook from '../Disp/DrawHook';\nimport CMClickHook from '../Main/ClickHook';\nimport InitializeCookieMonster from '../Main/Initialization';\nimport CMLoopHook from '../Main/LoopHook';\nimport { isInitializing } from './Variables'; // eslint-disable-line no-unused-vars\n\n/**\n * This creates a init function for the CM object. Per Game code/comments:\n * \"this function is called as soon as the mod is registered\n * declare hooks here\"\n * It starts the further initialization of CookieMonster and registers hooks\n */\nexport default function init() {\n  isInitializing = true;\n  let proceed = true;\n\n  // Load Cookie Monster Mod Framework and register mod\n  initFunctions.initModFramework();\n  initFunctions.registerMod('cookieMonsterMod');\n\n  if (Game.version !== Number(VersionMajor)) {\n    // eslint-disable-next-line no-restricted-globals, no-alert\n    proceed = confirm(\n      `Cookie Monster version ${VersionMajor}.${VersionMinor} is meant for Game version ${VersionMajor}. Loading a different version may cause errors. Do you still want to load Cookie Monster?`,\n    );\n  }\n  if (proceed) {\n    InitializeCookieMonster();\n    Game.registerHook('click', CMClickHook);\n    Game.registerHook('draw', CMDrawHook);\n    Game.registerHook('logic', CMLoopHook);\n\n    isInitializing = false;\n  }\n}\n","/** This includes all headers of Cookie Monster and their relevant data */\nconst headers = {\n  Favourite: 1,\n  Calculation: 1,\n  Notation: 1,\n  Colours: 1,\n  BarsDisplay: 1,\n  Tooltip: 1,\n  Statistics: 1,\n  Notification: 1,\n  NotificationGeneral: 1,\n  NotificationGC: 1,\n  NotificationFC: 1,\n  NotificationSea: 1,\n  NotificationGard: 1,\n  NotificationMagi: 1,\n  NotificationWrink: 1,\n  NotificationWrinkMax: 1,\n  Miscellaneous: 1,\n  Lucky: 1,\n  Chain: 1,\n  Spells: 1,\n  Garden: 1,\n  Prestige: 1,\n  Wrink: 1,\n  Sea: 1,\n  Achievs: 1,\n  Misc: 1,\n  infoMenu: 1,\n  optionsMenu: 1,\n};\n\nexport default headers;\n","import loadMod from '@cookiemonsterteam/cookiemonsterframework/src/saveDataFunctions/loadMod';\n\nimport headers from '../Data/headers';\nimport { VersionMajor, VersionMinor } from '../Data/Moddata.ts';\nimport settings from '../Data/settings';\nimport UpdateColours from '../Disp/HelperFunctions/UpdateColours';\nimport CMLoopHook from '../Main/LoopHook';\nimport InitData from '../Sim/InitializeData/InitData';\n\n/**\n * This creates a load function to the CM object. Per Game code/comments:\n * \"do stuff with the string data you saved previously\"\n */\nexport default function load(str) {\n  InitData();\n  loadMod('cookieMonsterMod', str, settings, headers, CMLoopHook);\n  UpdateColours();\n  if (\n    Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod.version !==\n    `${VersionMajor}.${VersionMinor}`\n  ) {\n    if (Game.prefs.popups)\n      Game.Popup(\n        'A new version of Cookie Monster has been loaded, check out the release notes in the info tab!',\n      );\n    else\n      Game.Notify(\n        'A new version of Cookie Monster has been loaded, check out the release notes in the info tab!',\n        '',\n        '',\n        0,\n        1,\n      );\n  }\n}\n","import { VersionMajor, VersionMinor } from '../Data/Moddata.ts';\n\n/**\n * This creates a save function to the CM object. Per Game code/comments:\n * \"use this to store persistent data associated with your mod\n * return 'a string to be saved';\"\n */\nexport default function save() {\n  const saveObject = Game.mods.cookieMonsterFramework.saveData.cookieMonsterMod;\n  saveObject.version = `${VersionMajor}.${VersionMinor}`;\n  return JSON.stringify(saveObject);\n}\n","import init from './InitSaveLoad/init';\nimport load from './InitSaveLoad/load';\nimport save from './InitSaveLoad/save';\n\nconst CM = {\n  init,\n  load,\n  save,\n};\n\nGame.registerMod('CookieMonster', CM);\n"],"sourceRoot":""}